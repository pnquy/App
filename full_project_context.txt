
==================================================
FILE: app\src\main\AndroidManifest.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools" >

    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.MANAGE_EXTERNAL_STORAGE" tools:ignore="ScopedStorage" />

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:roundIcon="@mipmap/ic_launcher_round"
        android:supportsRtl="true"
        android:theme="@style/Theme.StudentPortalApp" >
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:label="@string/app_name"
            android:theme="@style/Theme.StudentPortalApp" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity android:name=".AddUserActivity" />
        <activity android:name=".StudentManageActivity" />
        <activity android:name=".TeacherManageActivity" />
        <activity android:name=".AdminActivity" />
        <activity android:name=".AddAssignmentActivity" />
        <activity android:name=".AddLectureActivity" />
        <activity android:name=".LoginActivity" />
        <activity android:name=".ForgotPasswordActivity" />
        <activity android:name=".HomeActivity" />
        <activity android:name=".AssignmentActivity" />
        <activity android:name=".BaseActivity" />
        <activity android:name=".CourseActivity" />
        <activity android:name=".PeopleActivity" />
        <activity android:name=".ToDoActivity" />
        <activity android:name=".OptionsActivity" />
        <activity android:name=".ProfileActivity" />
        <activity android:name=".ClassManageActivity" />
        <activity android:name=".SubmitAssignmentActivity" />
        <activity android:name=".ViewSubmissionsActivity" />
        <activity android:name=".GradeActivity" />
        <activity android:name=".ClassStatsActivity" />
        <activity android:name=".AssignmentStatsActivity" />
        <activity android:name=".NotificationActivity" />
    </application>

</manifest>

==================================================
FILE: app\src\main\java\com\example\studentportalapp\AddAssignmentActivity.java
==================================================
package com.example.studentportalapp;

import android.app.DatePickerDialog;
import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.provider.OpenableColumns;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.ThongBao;
import com.google.android.material.textfield.TextInputEditText;

import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Date;
import java.util.Locale;
import java.util.concurrent.Executors;

public class AddAssignmentActivity extends BaseActivity {

    private ImageView btnBack;
    private TextView tvHeaderTitle;
    private TextInputEditText etTitle, etInstructions, etDueDate;
    private LinearLayout btnAttach;
    private TextView tvFileName;
    private Button btnAssign;

    private Calendar myCalendar;
    private Uri selectedFileUri;
    private String selectedFileName;
    private String currentMaLH;

    private boolean isEditMode = false;
    private String existingId = null;
    private String existingFilePath = null;
    private String existingFileName = null;

    private final ActivityResultLauncher<String[]> filePickerLauncher = registerForActivityResult(
            new ActivityResultContracts.OpenDocument(),
            uri -> {
                if (uri != null) {
                    selectedFileUri = uri;
                    try {
                        getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    } catch (SecurityException e) {
                        e.printStackTrace();
                    }
                    selectedFileName = getFileName(uri);
                    if (tvFileName != null) {
                        tvFileName.setText(selectedFileName);
                    }
                }
            }
    );

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_add_assignment;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        currentMaLH = prefs.getString("CURRENT_CLASS_ID", "");

        btnBack = findViewById(R.id.btnBack);
        tvHeaderTitle = findViewById(R.id.tvHeaderTitle);
        etTitle = findViewById(R.id.edtTitle);
        etInstructions = findViewById(R.id.edtDesc);
        etDueDate = findViewById(R.id.edtDeadline);
        btnAttach = findViewById(R.id.btnPickFile);
        tvFileName = findViewById(R.id.tvFileName);
        btnAssign = findViewById(R.id.btnSubmit);

        myCalendar = Calendar.getInstance();

        if (btnBack != null) {
            btnBack.setOnClickListener(v -> finish());
        }

        DatePickerDialog.OnDateSetListener date = (view, year, month, day) -> {
            myCalendar.set(Calendar.YEAR, year);
            myCalendar.set(Calendar.MONTH, month);
            myCalendar.set(Calendar.DAY_OF_MONTH, day);
            updateLabel();
        };

        if (etDueDate != null) {
            etDueDate.setOnClickListener(v -> new DatePickerDialog(AddAssignmentActivity.this, date,
                    myCalendar.get(Calendar.YEAR),
                    myCalendar.get(Calendar.MONTH),
                    myCalendar.get(Calendar.DAY_OF_MONTH)).show());
        }

        if (btnAttach != null) {
            btnAttach.setOnClickListener(v -> filePickerLauncher.launch(new String[]{"*/*"}));
        }

        if (btnAssign != null) {
            btnAssign.setOnClickListener(v -> handleAssign());
        }

        checkEditMode();
    }

    private void checkEditMode() {
        Intent intent = getIntent();
        if (intent.hasExtra("EDIT_ID")) {
            isEditMode = true;
            existingId = intent.getStringExtra("EDIT_ID");
            String title = intent.getStringExtra("EDIT_TITLE");
            String desc = intent.getStringExtra("EDIT_DESC");
            String date = intent.getStringExtra("EDIT_DATE");
            existingFilePath = intent.getStringExtra("EDIT_FILE_PATH");
            existingFileName = intent.getStringExtra("EDIT_FILE_NAME");

            if (etTitle != null) etTitle.setText(title);
            if (etInstructions != null) etInstructions.setText(desc);
            if (etDueDate != null) etDueDate.setText(date);

            if (existingFileName != null && tvFileName != null) {
                tvFileName.setText(existingFileName);
            }

            if (tvHeaderTitle != null) tvHeaderTitle.setText("Cập Nhật Bài Tập");
            if (btnAssign != null) btnAssign.setText("Lưu Thay Đổi");
        }
    }

    private void updateLabel() {
        if (etDueDate == null) return;
        String myFormat = "dd/MM/yyyy";
        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.getDefault());
        etDueDate.setText(sdf.format(myCalendar.getTime()));
    }

    private void handleAssign() {
        String title = (etTitle != null && etTitle.getText() != null) ? etTitle.getText().toString().trim() : "";
        String instructions = (etInstructions != null && etInstructions.getText() != null) ? etInstructions.getText().toString().trim() : "";
        String dueDate = (etDueDate != null && etDueDate.getText() != null) ? etDueDate.getText().toString().trim() : "";

        if (title.isEmpty()) {
            if (etTitle != null) etTitle.setError("Vui lòng nhập tiêu đề");
            return;
        }
        if (dueDate.isEmpty()) {
            if (etDueDate != null) etDueDate.setError("Vui lòng chọn hạn nộp");
            return;
        }

        final BaiTap bt = new BaiTap();
        bt.MaBT = isEditMode ? existingId : "BT" + System.currentTimeMillis();
        bt.TenBT = title;
        bt.MoTa = instructions;
        bt.Deadline = dueDate;
        bt.MaLH = currentMaLH;

        if (selectedFileUri != null) {
            bt.FilePath = selectedFileUri.toString();
            bt.FileName = selectedFileName;
        } else {
            bt.FilePath = existingFilePath;
            bt.FileName = existingFileName;
        }

        Executors.newSingleThreadExecutor().execute(() -> {
            AppDatabase db = AppDatabase.getDatabase(getApplicationContext());
            if (isEditMode) {
                db.baiTapDao().update(bt);
                runOnUiThread(() -> Toast.makeText(this, "Đã cập nhật bài tập!", Toast.LENGTH_SHORT).show());
            } else {
                db.baiTapDao().insert(bt);
                
                // Gửi thông báo cho HỌC VIÊN
                ThongBao tb = new ThongBao();
                tb.NoiDung = "Có bài tập mới: " + title;
                tb.NgayTao = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault()).format(new Date());
                tb.NguoiNhan = "HOCVIEN";
                tb.LoaiTB = "ASSIGNMENT";
                tb.TargetId = currentMaLH;
                db.thongBaoDao().insert(tb);

                runOnUiThread(() -> Toast.makeText(this, "Giao bài tập thành công!", Toast.LENGTH_SHORT).show());
            }
            runOnUiThread(this::finish);
        });
    }

    private String getFileName(Uri uri) {
        String result = null;
        if (uri.getScheme().equals("content")) {
            try (Cursor cursor = getContentResolver().query(uri, null, null, null, null)) {
                if (cursor != null && cursor.moveToFirst()) {
                    int index = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);
                    if (index >= 0) result = cursor.getString(index);
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        if (result == null) {
            result = uri.getPath();
            int cut = result.lastIndexOf('/');
            if (cut != -1) {
                result = result.substring(cut + 1);
            }
        }
        return result;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\AddLectureActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.provider.OpenableColumns;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiGiang;
import com.example.studentportalapp.data.Entity.ThongBao;
import com.google.android.material.textfield.TextInputEditText;

import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;
import java.util.concurrent.Executors;

public class AddLectureActivity extends BaseActivity {

    private TextInputEditText etTitle, etDesc;
    private LinearLayout btnAttach;
    private TextView tvFileName;
    private Button btnPost;
    private ImageView btnBack;
    private TextView tvHeaderTitle;

    private String currentMaLH;
    private String currentMaGV;
    private Uri selectedFileUri = null;
    private String selectedFileName = null;

    private boolean isEditMode = false;
    private String existingId = null;
    private String existingFilePath = null;
    private String existingFileName = null;

    private final ActivityResultLauncher<String[]> filePickerLauncher = registerForActivityResult(
            new ActivityResultContracts.OpenDocument(),
            uri -> {
                if (uri != null) {
                    selectedFileUri = uri;
                    try {
                        getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    } catch (SecurityException e) {
                        e.printStackTrace();
                    }
                    selectedFileName = getFileName(uri);
                    if (tvFileName != null) {
                        tvFileName.setText(selectedFileName);
                    }
                }
            }
    );

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_add_lecture;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentMaLH = prefs.getString("CURRENT_CLASS_ID", "");
        currentMaGV = prefs.getString("KEY_USER_ID", "");

        etTitle = findViewById(R.id.edtTitle);
        etDesc = findViewById(R.id.edtContent);
        btnAttach = findViewById(R.id.btnPickFile);
        btnPost = findViewById(R.id.btnSubmit);
        tvFileName = findViewById(R.id.tvFileName);
        
        btnBack = findViewById(R.id.btnBack);
        tvHeaderTitle = findViewById(R.id.tvHeaderTitle);

        if (btnBack != null) {
            btnBack.setOnClickListener(v -> finish());
        }

        if (btnAttach != null) {
            btnAttach.setOnClickListener(v -> filePickerLauncher.launch(new String[]{"*/*"}));
        }

        if (btnPost != null) {
            btnPost.setOnClickListener(v -> handlePost());
        }

        checkEditMode();
    }

    private void checkEditMode() {
        Intent intent = getIntent();
        if (intent.hasExtra("EDIT_ID")) {
            isEditMode = true;
            existingId = intent.getStringExtra("EDIT_ID");
            String title = intent.getStringExtra("EDIT_TITLE");
            String content = intent.getStringExtra("EDIT_CONTENT");
            existingFilePath = intent.getStringExtra("EDIT_FILE_PATH");
            existingFileName = intent.getStringExtra("EDIT_FILE_NAME");

            if (etTitle != null) etTitle.setText(title);
            if (etDesc != null) etDesc.setText(content);
            if (existingFileName != null && tvFileName != null) {
                tvFileName.setText(existingFileName);
            }

            if (tvHeaderTitle != null) tvHeaderTitle.setText("Sửa Bài Giảng");
            if (btnPost != null) btnPost.setText("Lưu Thay Đổi");
        }
    }

    private void handlePost() {
        String title = (etTitle != null && etTitle.getText() != null) ? etTitle.getText().toString().trim() : "";
        String desc = (etDesc != null && etDesc.getText() != null) ? etDesc.getText().toString().trim() : "";

        if (title.isEmpty()) {
            if (etTitle != null) etTitle.setError("Nhập tiêu đề!");
            return;
        }

        BaiGiang bg = new BaiGiang();
        bg.MaBG = isEditMode ? existingId : "BG" + System.currentTimeMillis();
        bg.TenBG = title;
        bg.NoiDung = desc;
        bg.MaLH = currentMaLH;
        bg.MaGV = currentMaGV;

        if (selectedFileUri != null) {
            bg.FilePath = selectedFileUri.toString();
            bg.FileName = selectedFileName;
        } else {
            bg.FilePath = existingFilePath;
            bg.FileName = existingFileName;
        }

        Executors.newSingleThreadExecutor().execute(() -> {
            AppDatabase database = AppDatabase.getDatabase(getApplicationContext());
            if (isEditMode) {
                database.baiGiangDao().update(bg);
                runOnUiThread(() -> Toast.makeText(this, "Cập nhật thành công!", Toast.LENGTH_SHORT).show());
            } else {
                database.baiGiangDao().insert(bg);
                
                // Gửi thông báo cho HỌC VIÊN
                ThongBao tb = new ThongBao();
                tb.NoiDung = "Có bài giảng mới: " + title;
                tb.NgayTao = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault()).format(new Date());
                tb.NguoiNhan = "HOCVIEN";
                tb.LoaiTB = "LECTURE"; // QUAN TRỌNG: Để click vào là chuyển trang
                tb.TargetId = currentMaLH; // QUAN TRỌNG: ID lớp học
                database.thongBaoDao().insert(tb);

                runOnUiThread(() -> Toast.makeText(this, "Đăng bài thành công!", Toast.LENGTH_SHORT).show());
            }
            runOnUiThread(this::finish);
        });
    }

    private String getFileName(Uri uri) {
        String result = null;
        if (uri.getScheme().equals("content")) {
            try (Cursor cursor = getContentResolver().query(uri, null, null, null, null)) {
                if (cursor != null && cursor.moveToFirst()) {
                    int index = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);
                    if (index >= 0) result = cursor.getString(index);
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        if (result == null) {
            result = uri.getPath();
            int cut = result.lastIndexOf('/');
            if (cut != -1) {
                result = result.substring(cut + 1);
            }
        }
        return result;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\AddUserActivity.java
==================================================
package com.example.studentportalapp;

import android.os.Bundle;
import android.widget.Button;
import android.widget.RadioGroup;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.TaiKhoan;
import com.google.android.material.textfield.TextInputEditText;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class AddUserActivity extends AppCompatActivity {

    private TextInputEditText etMaTK, etHoTen, etEmail, etMatKhau;
    private RadioGroup rgRole;
    private Button btnSave;
    private TextView tvBack;
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_add_user);

        db = AppDatabase.getDatabase(getApplicationContext());

        // Ánh xạ View
        etMaTK = findViewById(R.id.etMaTK);
        etHoTen = findViewById(R.id.etHoTen);
        etEmail = findViewById(R.id.etEmail);
        etMatKhau = findViewById(R.id.etMatKhau);
        rgRole = findViewById(R.id.rgRole);
        btnSave = findViewById(R.id.btnSave);
        tvBack = findViewById(R.id.tvBack);

        // Mặc định sinh mã cho Học Viên khi vừa mở lên
        generateAutoId("HOCVIEN");

        // Lắng nghe sự kiện đổi vai trò để sinh lại mã
        rgRole.setOnCheckedChangeListener((group, checkedId) -> {
            if (checkedId == R.id.rbTeacher) {
                generateAutoId("GIAOVIEN");
            } else {
                generateAutoId("HOCVIEN");
            }
        });

        // Xử lý nút Back
        tvBack.setOnClickListener(v -> finish());

        // Xử lý nút Lưu
        btnSave.setOnClickListener(v -> handleSaveUser());
    }

    // Hàm sinh mã tự động: GV + số lượng hoặc HV + số lượng
    private void generateAutoId(String role) {
        executor.execute(() -> {
            // Đếm số lượng user hiện có của vai trò này
            int count = db.taiKhoanDao().countUsersByRole(role);
            int nextId = count + 1;

            // Tạo tiền tố (Prefix)
            String prefix = role.equals("GIAOVIEN") ? "GV" : "HV";

            // Format thành 3 chữ số (Ví dụ: GV001, HV015...)
            String newId = String.format("%s%03d", prefix, nextId);

            // Kiểm tra xem mã này đã tồn tại chưa (đề phòng trường hợp xóa rồi tạo lại bị trùng)
            while (db.taiKhoanDao().getById(newId) != null) {
                nextId++;
                newId = String.format("%s%03d", prefix, nextId);
            }

            // Cập nhật lên giao diện
            String finalNewId = newId;
            runOnUiThread(() -> etMaTK.setText(finalNewId));
        });
    }

    private void handleSaveUser() {
        // Lấy dữ liệu (Mã TK lấy trực tiếp từ ô đã tự động điền)
        String maTK = etMaTK.getText().toString().trim();
        String hoTen = etHoTen.getText() != null ? etHoTen.getText().toString().trim() : "";
        String email = etEmail.getText() != null ? etEmail.getText().toString().trim() : "";
        String matKhau = etMatKhau.getText() != null ? etMatKhau.getText().toString().trim() : "";

        // Kiểm tra dữ liệu trống
        if (maTK.isEmpty() || hoTen.isEmpty() || email.isEmpty() || matKhau.isEmpty()) {
            Toast.makeText(this, "Vui lòng nhập đầy đủ thông tin!", Toast.LENGTH_SHORT).show();
            return;
        }

        // Xác định vai trò
        String role;
        int selectedId = rgRole.getCheckedRadioButtonId();
        if (selectedId == R.id.rbTeacher) role = "GIAOVIEN";
        else role = "HOCVIEN";

        executor.execute(() -> {
            try {
                // 1. Tạo Tài Khoản
                TaiKhoan tk = new TaiKhoan();
                tk.MaTK = maTK;
                tk.HoTen = hoTen;
                tk.Email = email;
                tk.MatKhau = matKhau;
                tk.VaiTro = role;

                db.taiKhoanDao().insert(tk);

                // 2. Tạo Entity tương ứng
                if (role.equals("HOCVIEN")) {
                    HocVien hv = new HocVien();
                    hv.setMaHV(maTK);
                    hv.setTenHV(hoTen);
                    hv.setEmail(email);
                    hv.setMaTK(maTK);
                    // hv.setMaLH(null); // Đã bỏ trường này
                    db.hocVienDao().insert(hv);
                } else {
                    GiaoVien gv = new GiaoVien();
                    gv.setMaGV(maTK);
                    gv.setTenGV(hoTen);
                    gv.setEmail(email);
                    gv.setMaTK(maTK);
                    db.giaoVienDao().insert(gv);
                }

                runOnUiThread(() -> {
                    Toast.makeText(this, "Thêm thành công: " + maTK, Toast.LENGTH_SHORT).show();
                    finish();
                });

            } catch (Exception e) {
                e.printStackTrace();
                runOnUiThread(() -> Toast.makeText(this, "Lỗi: " + e.getMessage(), Toast.LENGTH_SHORT).show());
            }
        });
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\AdminActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.content.SharedPreferences;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.Toast;
import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.databinding.ActivityAdminBinding;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class AdminActivity extends AppCompatActivity {

    private ActivityAdminBinding binding;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();
    private AppDatabase db;
    private ActivityResultLauncher<String> filePickerLauncher;
    private void performImport(Uri uri) {
        Toast.makeText(this, "Đang khôi phục dữ liệu...", Toast.LENGTH_SHORT).show();

        executor.execute(() -> {
            try {
                DatabaseImporter.importFromSQL(this, db, uri);

                runOnUiThread(() -> {
                    Toast.makeText(this, "Import thành công!", Toast.LENGTH_LONG).show();
                });
            } catch (Exception e) {
                e.printStackTrace();
                runOnUiThread(() -> {
                    Toast.makeText(this, "Lỗi Import: " + e.getMessage(), Toast.LENGTH_LONG).show();
                });
            }
        });
    }
    private void showLogoutDialog() {
        new AlertDialog.Builder(this)
                .setTitle("Đăng xuất")
                .setMessage("Bạn có chắc chắn muốn đăng xuất khỏi hệ thống?")
                .setPositiveButton("Đăng xuất", (dialog, which) -> {
                    performLogout();
                })
                .setNegativeButton("Hủy", null)
                .show();
    }

    // Hàm thực hiện đăng xuất
    private void performLogout() {
        // BƯỚC 1: Xóa trạng thái đăng nhập (Nếu bạn có dùng SharedPreferences để lưu "Ghi nhớ đăng nhập")
        // Nếu không dùng chức năng "Ghi nhớ", bạn có thể bỏ qua 3 dòng này
        SharedPreferences preferences = getSharedPreferences("UserSession", MODE_PRIVATE);
        SharedPreferences.Editor editor = preferences.edit();
        editor.clear(); // Xóa sạch dữ liệu đã lưu
        editor.apply();

        // BƯỚC 2: Chuyển về màn hình Login
        Intent intent = new Intent(AdminActivity.this, LoginActivity.class); // Thay LoginActivity bằng tên file đăng nhập của bạn

        // BƯỚC 3: Xóa lịch sử (QUAN TRỌNG)
        // Lệnh này đảm bảo người dùng không thể ấn nút Back trên điện thoại để quay lại trang Admin
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);

        startActivity(intent);
        finish(); // Đóng Activity hiện tại
    }
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        binding = ActivityAdminBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());
        db = AppDatabase.getDatabase(getApplicationContext());
        View btnExportSQL = findViewById(R.id.btnExportSQL);
        View btnImportSQL = findViewById(R.id.btnImportSQL);
        View btnLogout = findViewById(R.id.btnLogout);

        btnLogout.setOnClickListener(v -> showLogoutDialog());
        filePickerLauncher = registerForActivityResult(
                new ActivityResultContracts.GetContent(),
                uri -> {
                    if (uri != null) {
                        performImport(uri);
                    }
                }
        );
        btnImportSQL.setOnClickListener(v -> {
            // Xác nhận trước khi Import vì sẽ xóa dữ liệu cũ
            new AlertDialog.Builder(this)
                    .setTitle("Cảnh báo")
                    .setMessage("Import dữ liệu sẽ xóa toàn bộ dữ liệu hiện tại và thay thế bằng file mới. Bạn có chắc chắn không?")
                    .setPositiveButton("Chọn File", (dialog, which) -> {
                        // Mở trình chọn file (Lọc file text hoặc sql)
                        filePickerLauncher.launch("*/*");
                    })
                    .setNegativeButton("Hủy", null)
                    .show();
        });
        binding.btnCreateAccount.setOnClickListener(v -> {
            Intent intent = new Intent(AdminActivity.this, AddUserActivity.class);
            startActivity(intent);
        });

        // click quản lý giáo viên
        binding.btnManageTeacher.setOnClickListener(v -> {
            Intent intent = new Intent(AdminActivity.this, TeacherManageActivity.class);
            startActivity(intent);
        });

        // click quản lý học viên
        binding.btnManageStudent.setOnClickListener(v -> {
            Intent intent = new Intent(AdminActivity.this, StudentManageActivity.class);
            startActivity(intent);
        });

        binding.btnManageClass.setOnClickListener(v -> {
            startActivity(new Intent(AdminActivity.this, ClassManageActivity.class));
        });
        btnExportSQL.setOnClickListener(v -> {
            Toast.makeText(this, "Đang xuất dữ liệu...", Toast.LENGTH_SHORT).show();

            executor.execute(() -> {
                try {
                    // Gọi hàm export chúng ta vừa viết
                    String path = DatabaseExporter.exportToSQL(AdminActivity.this, db);

                    runOnUiThread(() -> {
                        // Tạo Dialog thông báo đường dẫn file
                        new AlertDialog.Builder(AdminActivity.this)
                                .setTitle("Xuất File Thành Công!")
                                .setMessage("File SQL đã được lưu tại:\n\n" + path + "\n\nBạn có thể kết nối máy tính để lấy file này.")
                                .setPositiveButton("OK", null)
                                .show();
                    });
                } catch (Exception e) {
                    e.printStackTrace();
                    runOnUiThread(() ->
                            Toast.makeText(AdminActivity.this, "Lỗi: " + e.getMessage(), Toast.LENGTH_SHORT).show()
                    );
                }
            });
        });
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\AssignmentActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.content.SharedPreferences;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;
import androidx.appcompat.app.AlertDialog;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.adapter.AssignmentAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.google.android.material.floatingactionbutton.FloatingActionButton;
import java.util.ArrayList;
import java.util.concurrent.Executors;

public class AssignmentActivity extends BaseActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private String currentMaLH;
    private TextView tvTitle, tvSubtitle;
    private View layoutEmptyState;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_assignment;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentMaLH = prefs.getString("CURRENT_CLASS_ID", "");
        String tenLH = prefs.getString("CURRENT_CLASS_NAME", "Lớp học");
        String role = prefs.getString("KEY_ROLE", "");

        // Ánh xạ Views
        tvTitle = findViewById(R.id.tv_title);
        tvSubtitle = findViewById(R.id.tv_subtitle);
        recyclerView = findViewById(R.id.recyclerViewAssignments);
        layoutEmptyState = findViewById(R.id.layoutEmptyState);
        FloatingActionButton fab = findViewById(R.id.fab_add_assignment);
        View btnHomeLogo = findViewById(R.id.btnHomeLogo);
        View btnNotiHeader = findViewById(R.id.btnNotiHeader);

        // Setup UI texts
        if (tvTitle != null) tvTitle.setText(tenLH);
        if (tvSubtitle != null) tvSubtitle.setText("Mã lớp: " + currentMaLH);

        // Setup Button Listeners
        if (btnHomeLogo != null) {
            btnHomeLogo.setOnClickListener(v -> {
                Intent intent = new Intent(this, HomeActivity.class);
                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(intent);
                finish();
            });
        }

        // Đảm bảo nút thông báo hoạt động
        if (btnNotiHeader != null) {
            btnNotiHeader.setOnClickListener(v -> {
                Intent intent = new Intent(this, NotificationActivity.class);
                startActivity(intent);
            });
        }

        // Setup RecyclerView
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        // Setup FAB for Teacher
        if ("GIAOVIEN".equals(role)) {
            fab.setVisibility(View.VISIBLE);
            fab.setOnClickListener(v -> startActivity(new Intent(this, AddAssignmentActivity.class)));
        } else {
            fab.setVisibility(View.GONE);
        }

        loadData();
    }

    private void loadData() {
        db.baiTapDao().getByLop(currentMaLH).observe(this, listBT -> {
            if (listBT == null || listBT.isEmpty()) {
                listBT = new ArrayList<>();
                if (layoutEmptyState != null) layoutEmptyState.setVisibility(View.VISIBLE);
                recyclerView.setVisibility(View.GONE);
            } else {
                if (layoutEmptyState != null) layoutEmptyState.setVisibility(View.GONE);
                recyclerView.setVisibility(View.VISIBLE);
            }

            // Giữ nguyên logic Adapter: chỉ click vào nút View/Submit mới gọi showAssignmentDialog
            AssignmentAdapter adapter = new AssignmentAdapter(this, listBT, this::showAssignmentDialog);
            recyclerView.setAdapter(adapter);
        });
    }

    private void showAssignmentDialog(BaiTap bt) {
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        String role = prefs.getString("KEY_ROLE", "");

        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle(bt.TenBT);

        String msg = "Mô tả: " + bt.MoTa + "\n\nHạn nộp: " + bt.Deadline;
        if (bt.FileName != null) {
            msg += "\n\nFile đề bài: " + bt.FileName;
        }
        builder.setMessage(msg);

        if (bt.FilePath != null && !bt.FilePath.isEmpty()) {
            builder.setNeutralButton("Mở File", (dialog, which) -> {
                try {
                    Uri uri = Uri.parse(bt.FilePath);
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    String mimeType = getContentResolver().getType(uri);
                    if (mimeType == null) mimeType = "*/*";
                    intent.setDataAndType(uri, mimeType);
                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
                    startActivity(Intent.createChooser(intent, "Mở file bài tập bằng"));
                } catch (Exception e) {
                    Toast.makeText(this, "Lỗi: Không có quyền truy cập file", Toast.LENGTH_LONG).show();
                }
            });
        }

        if ("GIAOVIEN".equals(role)) {
            builder.setPositiveButton("Quản Lý", (dialog, which) -> showTeacherOptions(bt));
        } else if ("HOCVIEN".equals(role)) {
            builder.setPositiveButton("Nộp bài", (dialog, which) -> {
                Intent intent = new Intent(this, SubmitAssignmentActivity.class);
                intent.putExtra("MA_BT", bt.MaBT);
                intent.putExtra("TEN_BT", bt.TenBT);
                startActivity(intent);
            });
        }

        builder.setNegativeButton("Đóng", null);
        builder.show();
    }

    private void showTeacherOptions(BaiTap bt) {
        String[] options = {"Xem bài nộp", "Chỉnh sửa", "Xóa bài tập"};

        new AlertDialog.Builder(this)
                .setTitle("Tùy chọn quản lý")
                .setItems(options, (dialog, which) -> {
                    switch (which) {
                        case 0:
                            Intent intent = new Intent(this, ViewSubmissionsActivity.class);
                            intent.putExtra("MA_BT", bt.MaBT);
                            intent.putExtra("TEN_BT", bt.TenBT);
                            startActivity(intent);
                            break;
                        case 1:
                            Intent editIntent = new Intent(this, AddAssignmentActivity.class);
                            editIntent.putExtra("EDIT_ID", bt.MaBT);
                            editIntent.putExtra("EDIT_TITLE", bt.TenBT);
                            editIntent.putExtra("EDIT_DESC", bt.MoTa);
                            editIntent.putExtra("EDIT_DATE", bt.Deadline);
                            editIntent.putExtra("EDIT_FILE_PATH", bt.FilePath);
                            editIntent.putExtra("EDIT_FILE_NAME", bt.FileName);
                            startActivity(editIntent);
                            break;
                        case 2:
                            confirmDelete(bt);
                            break;
                    }
                })
                .show();
    }

    private void confirmDelete(BaiTap bt) {
        new AlertDialog.Builder(this)
                .setTitle("Xác nhận xóa")
                .setMessage("Bạn có chắc muốn xóa bài tập \"" + bt.TenBT + "\" không?")
                .setPositiveButton("Xóa", (dialog, which) -> {
                    Executors.newSingleThreadExecutor().execute(() -> {
                        db.baiTapDao().delete(bt);
                        runOnUiThread(() -> Toast.makeText(this, "Đã xóa bài tập!", Toast.LENGTH_SHORT).show());
                    });
                })
                .setNegativeButton("Hủy", null)
                .show();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\AssignmentStatsActivity.java
==================================================
package com.example.studentportalapp;

import android.os.Bundle;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.adapter.StatsStudentAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.model.StatsStudentItem;
import com.google.android.material.appbar.MaterialToolbar;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.Executors;

public class AssignmentStatsActivity extends AppCompatActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private String maBT, tenBT, maLH;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_assignment_stats);

        maBT = getIntent().getStringExtra("MA_BT");
        tenBT = getIntent().getStringExtra("TEN_BT");
        maLH = getIntent().getStringExtra("MA_LH");

        MaterialToolbar toolbar = findViewById(R.id.toolbarAssignmentStats);
        toolbar.setTitle(tenBT);
        toolbar.setNavigationOnClickListener(v -> finish());

        TextView tvTitle = findViewById(R.id.tvAssignmentTitle);
        tvTitle.setText("Bảng điểm: " + tenBT);

        recyclerView = findViewById(R.id.rvStatsStudents);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        db = AppDatabase.getDatabase(getApplicationContext());
        loadData();
    }

    private void loadData() {
        Executors.newSingleThreadExecutor().execute(() -> {
            List<String> studentIds = db.thamGiaDao().getStudentIdsByClass(maLH);
            List<HocVien> allStudents = new ArrayList<>();
            for(String id : studentIds) {
                HocVien hv = db.hocVienDao().getByIdSync(id);
                if(hv != null) allStudents.add(hv);
            }

            List<Diem> scores = db.diemDao().getByBaiTapSync(maBT);

            List<StatsStudentItem> displayList = new ArrayList<>();
            for (HocVien hv : allStudents) {
                double score = 0;
                boolean hasScore = false;

                for (Diem d : scores) {
                    if (d.MaHV.equals(hv.getMaHV())) {
                        score = d.SoDiem;
                        hasScore = true;
                        break;
                    }
                }
                displayList.add(new StatsStudentItem(hv, score, hasScore));
            }

            runOnUiThread(() -> {
                StatsStudentAdapter adapter = new StatsStudentAdapter(displayList);
                recyclerView.setAdapter(adapter);
            });
        });
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\BaseActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.graphics.Color;
import android.graphics.PorterDuff;
import android.os.Bundle;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.MenuItem;
import android.view.View;
import android.widget.FrameLayout;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.PopupMenu;
import android.widget.PopupWindow;
import android.widget.TextView;

import androidx.appcompat.app.AppCompatActivity;
import androidx.core.content.ContextCompat;

import com.example.studentportalapp.adapter.TaskAdapter;
import com.example.studentportalapp.model.Task;

import java.util.ArrayList;
import java.util.List;

public abstract class BaseActivity extends AppCompatActivity {

    protected abstract int getLayoutResourceId();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_base);

        FrameLayout contentFrame = findViewById(R.id.content_frame);
        LayoutInflater.from(this).inflate(getLayoutResourceId(), contentFrame, true);

        setupHeader();
        setupFooterNavigation();
        updateFooterVisuals();
    }

    private void setupHeader() {
        ImageView avatar = findViewById(R.id.avatar);
        if (avatar != null) {
            avatar.setOnClickListener(view -> {
                PopupMenu popup = new PopupMenu(BaseActivity.this, view);
                popup.getMenuInflater().inflate(R.menu.menu_avatar, popup.getMenu());
                popup.setOnMenuItemClickListener(this::handleMenuClick);
                popup.show();
            });
        }

        ImageView icCheck = findViewById(R.id.tickIcon);
        if (icCheck != null) {
            icCheck.setOnClickListener(this::showTaskPopup);
        }

        ImageView icBell = findViewById(R.id.notificationIcon);
        if (icBell != null) {
            icBell.setOnClickListener(v -> showPopupLayout(v, R.layout.popup_noti));
        }
    }

    private boolean handleMenuClick(MenuItem item) {
        int id = item.getItemId();

        if (id == R.id.menu_home && !(this instanceof HomeActivity)) {
            startActivity(new Intent(this, HomeActivity.class));
            return true;
        } else if (id == R.id.menu_profile) {
            startActivity(new Intent(this, ProfileActivity.class));
            return true;
        } else if (id == R.id.menu_courses && !(this instanceof CourseActivity)) {
            startActivity(new Intent(this, CourseActivity.class));
            return true;
        } else if (id == R.id.menu_logout) {
            performLogout();
            return true;
        }
        return false;
    }

    private void performLogout() {
        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        SharedPreferences.Editor editor = prefs.edit();
        editor.clear();
        editor.apply();

        Intent intent = new Intent(this, LoginActivity.class);
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
        startActivity(intent);
        finish();
    }

    private void showTaskPopup(View anchor) {
        View popupView = getLayoutInflater().inflate(R.layout.popup_task, null);

        PopupWindow popupWindow = new PopupWindow(
                popupView,
                (int) (getResources().getDisplayMetrics().widthPixels * 0.85),
                LinearLayout.LayoutParams.WRAP_CONTENT,
                true
        );

        ListView popupList = popupView.findViewById(R.id.list_tasks_popup);
        List<Task> tasks = getMockTasks();
        TaskAdapter adapter = new TaskAdapter(this, tasks);
        popupList.setAdapter(adapter);

        popupWindow.showAsDropDown(anchor, 0, 0);
    }

    private void showPopupLayout(View anchorView, int layoutId) {
        View popupView = LayoutInflater.from(this).inflate(layoutId, null);

        PopupWindow popupWindow = new PopupWindow(
                popupView,
                LinearLayout.LayoutParams.WRAP_CONTENT,
                LinearLayout.LayoutParams.WRAP_CONTENT,
                true
        );

        popupWindow.showAsDropDown(anchorView, -150, 0, Gravity.END);
    }

    private void setupFooterNavigation() {
        LinearLayout navCourse = findViewById(R.id.nav_course);
        LinearLayout navAssignment = findViewById(R.id.nav_assignment);
        LinearLayout navPeople = findViewById(R.id.nav_people);

        if (navCourse != null) navCourse.setOnClickListener(v -> navigateTo(CourseActivity.class));
        if (navAssignment != null) navAssignment.setOnClickListener(v -> navigateTo(AssignmentActivity.class));
        if (navPeople != null) navPeople.setOnClickListener(v -> navigateTo(PeopleActivity.class));
    }

    private void navigateTo(Class<?> targetActivity) {
        if (!this.getClass().equals(targetActivity)) {
            Intent intent = new Intent(this, targetActivity);
            intent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
            startActivity(intent);
            overridePendingTransition(0, 0);
        }
    }

    private void updateFooterVisuals() {
        int colorActive = ContextCompat.getColor(this, R.color.purple_500);

        if (this instanceof CourseActivity) {
            highlightFooterItem(R.id.nav_course, colorActive);
        } else if (this instanceof AssignmentActivity) {
            highlightFooterItem(R.id.nav_assignment, colorActive);
        } else if (this instanceof PeopleActivity) {
            highlightFooterItem(R.id.nav_people, colorActive);
        }
    }

    private void highlightFooterItem(int navId, int color) {
        LinearLayout navItem = findViewById(navId);
        if (navItem != null) {
            for (int i = 0; i < navItem.getChildCount(); i++) {
                View child = navItem.getChildAt(i);
                if (child instanceof ImageView) {
                    ((ImageView) child).setColorFilter(color, PorterDuff.Mode.SRC_IN);
                } else if (child instanceof TextView) {
                    ((TextView) child).setTextColor(color);
                }
            }
        }
    }

    private List<Task> getMockTasks() {
        List<Task> tasks = new ArrayList<>();
        return tasks;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\ClassManageActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.ClassAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.data.TeacherItem;
import com.example.studentportalapp.model.ClassDisplayItem;
import com.google.android.material.textfield.TextInputEditText;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ClassManageActivity extends AppCompatActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();
    private List<TeacherItem> allTeachers = new ArrayList<>();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_class_manage);

        db = AppDatabase.getDatabase(getApplicationContext());
        recyclerView = findViewById(R.id.rvClassList);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        findViewById(R.id.btnBack).setOnClickListener(v -> finish());
        findViewById(R.id.btnAddClass).setOnClickListener(v -> showAddEditDialog(null));

        loadTeachers();
    }

    @Override
    protected void onResume() {
        super.onResume();
        loadClasses();
    }

    private void loadTeachers() {
        executor.execute(() -> {
            try {
                List<GiaoVien> teachers = db.giaoVienDao().getAllSync();
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
    }

    private void loadClasses() {
        db.lopHocDao().getAll().observe(this, lopHocList -> {
            executor.execute(() -> {
                List<ClassDisplayItem> displayList = new ArrayList<>();
                List<GiaoVien> currentTeachers = db.giaoVienDao().getAllSync();

                for (LopHoc lh : lopHocList) {
                    String tenGV = "Chưa phân công";
                    for (GiaoVien gv : currentTeachers) {
                        if (gv.getMaGV().equals(lh.MaGV)) {
                            tenGV = gv.getTenGV();
                            break;
                        }
                    }
                    int count = db.thamGiaDao().countStudentsByClass(lh.MaLH);
                    displayList.add(new ClassDisplayItem(lh, tenGV, count));
                }

                runOnUiThread(() -> {
                    ClassAdapter adapter = new ClassAdapter(displayList, new ClassAdapter.OnItemClickListener() {
                        @Override
                        public void onAddStudent(ClassDisplayItem item) {
                            showAddStudentToClassDialog(item.lopHoc);
                        }

                        @Override
                        public void onStats(ClassDisplayItem item) {
                            Intent intent = new Intent(ClassManageActivity.this, ClassStatsActivity.class);
                            intent.putExtra("MA_LH", item.lopHoc.MaLH);
                            intent.putExtra("TEN_LH", item.lopHoc.TenLH);
                            startActivity(intent);
                        }

                        @Override
                        public void onEdit(ClassDisplayItem item) {
                            showAddEditDialog(item.lopHoc);
                        }

                        @Override
                        public void onDelete(ClassDisplayItem item) {
                            showDeleteConfirm(item.lopHoc);
                        }
                    });
                    recyclerView.setAdapter(adapter);
                });
            });
        });
    }

    private String[] teacherNames;
    private List<GiaoVien> teacherList;

    private void showAddEditDialog(LopHoc existingClass) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle(existingClass == null ? "Thêm Lớp Mới" : "Sửa Lớp Học");

        View view = LayoutInflater.from(this).inflate(R.layout.dialog_add_class, null);

        TextInputEditText etMa = view.findViewById(R.id.etMaLH);
        TextInputEditText etTen = view.findViewById(R.id.etTenLH);
        TextInputEditText etGV = view.findViewById(R.id.etMaGV);

        etGV.setFocusable(false);
        etGV.setClickable(true);

        final String[] selectedMaGV = {existingClass != null ? existingClass.MaGV : null};

        executor.execute(() -> {
            teacherList = db.giaoVienDao().getAllSync();
            teacherNames = new String[teacherList.size()];
            for (int i = 0; i < teacherList.size(); i++) {
                teacherNames[i] = teacherList.get(i).getMaGV() + " - " + teacherList.get(i).getTenGV();
            }

            if (existingClass != null && existingClass.MaGV != null) {
                for (GiaoVien gv : teacherList) {
                    if (gv.getMaGV().equals(existingClass.MaGV)) {
                        runOnUiThread(() -> etGV.setText(gv.getMaGV() + " - " + gv.getTenGV()));
                        break;
                    }
                }
            }
        });

        etGV.setOnClickListener(v -> {
            if (teacherNames == null || teacherNames.length == 0) {
                Toast.makeText(this, "Chưa có giáo viên nào!", Toast.LENGTH_SHORT).show();
                return;
            }
            new AlertDialog.Builder(this)
                    .setTitle("Chọn Giáo Viên Phụ Trách")
                    .setItems(teacherNames, (dialog, which) -> {
                        GiaoVien selected = teacherList.get(which);
                        etGV.setText(selected.getMaGV() + " - " + selected.getTenGV());
                        selectedMaGV[0] = selected.getMaGV();
                    })
                    .show();
        });

        if (existingClass != null) {
            etMa.setText(existingClass.MaLH);
            etMa.setEnabled(false);
            etTen.setText(existingClass.TenLH);
        }

        builder.setView(view);

        builder.setPositiveButton("Lưu", (dialog, which) -> {
            String ma = etMa.getText().toString().trim();
            String ten = etTen.getText().toString().trim();

            if (ma.isEmpty() || ten.isEmpty()) {
                Toast.makeText(this, "Thiếu thông tin!", Toast.LENGTH_SHORT).show();
                return;
            }

            LopHoc lh = new LopHoc();
            lh.MaLH = ma;
            lh.TenLH = ten;
            lh.MaGV = selectedMaGV[0];

            executor.execute(() -> {
                if (existingClass == null) db.lopHocDao().insert(lh);
                else db.lopHocDao().update(lh);

                runOnUiThread(() -> {
                    loadClasses();
                    Toast.makeText(ClassManageActivity.this, "Lưu thành công!", Toast.LENGTH_SHORT).show();
                });
            });
        });

        builder.setNegativeButton("Hủy", null);
        builder.show();
    }

    private void showAddStudentToClassDialog(LopHoc lh) {
        executor.execute(() -> {
            List<HocVien> allStudents = db.hocVienDao().getAllSync();
            List<String> enrolledStudentIds = db.thamGiaDao().getStudentIdsByClass(lh.MaLH);

            String[] studentNames = new String[allStudents.size()];
            boolean[] checkedItems = new boolean[allStudents.size()];

            List<String> selectedIds = new ArrayList<>();

            for (int i = 0; i < allStudents.size(); i++) {
                HocVien hv = allStudents.get(i);
                studentNames[i] = hv.getMaHV() + " - " + hv.getTenHV();

                if (enrolledStudentIds.contains(hv.getMaHV())) {
                    checkedItems[i] = true;
                    selectedIds.add(hv.getMaHV());
                } else {
                    checkedItems[i] = false;
                }
            }

            runOnUiThread(() -> {
                AlertDialog.Builder builder = new AlertDialog.Builder(this);
                builder.setTitle("Chọn học viên vào lớp " + lh.TenLH);

                builder.setMultiChoiceItems(studentNames, checkedItems, (dialog, which, isChecked) -> {
                    String hvID = allStudents.get(which).getMaHV();
                    if (isChecked) {
                        selectedIds.add(hvID);
                    } else {
                        selectedIds.remove(hvID);
                    }
                });

                builder.setPositiveButton("Lưu", (dialog, which) -> {
                    saveStudentClassChanges(lh, enrolledStudentIds, selectedIds);
                });

                builder.setNegativeButton("Hủy", null);
                builder.show();
            });
        });
    }

    private void saveStudentClassChanges(LopHoc currentClass, List<String> oldIds, List<String> newIds) {
        executor.execute(() -> {
            for (String newId : newIds) {
                if (!oldIds.contains(newId)) {
                    db.thamGiaDao().insert(new com.example.studentportalapp.data.Entity.ThamGia(newId, currentClass.MaLH));
                }
            }

            for (String oldId : oldIds) {
                if (!newIds.contains(oldId)) {
                    db.thamGiaDao().removeStudentFromClass(oldId, currentClass.MaLH);
                }
            }

            runOnUiThread(() -> {
                Toast.makeText(this, "Đã cập nhật danh sách lớp!", Toast.LENGTH_SHORT).show();
                loadClasses();
            });
        });
    }

    private void showDeleteConfirm(LopHoc lh) {
        new AlertDialog.Builder(this)
                .setTitle("Cảnh báo")
                .setMessage("Xóa lớp " + lh.TenLH + " sẽ xóa lớp này khỏi danh sách học của tất cả học viên. Tiếp tục?")
                .setPositiveButton("Xóa", (dialog, which) -> {
                    executor.execute(() -> {
                        db.lopHocDao().delete(lh);
                        runOnUiThread(() -> {
                            loadClasses();
                            Toast.makeText(ClassManageActivity.this, "Đã xóa lớp thành công!", Toast.LENGTH_SHORT).show();
                        });
                    });
                })
                .setNegativeButton("Hủy", null).show();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\ClassStatsActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent; import android.os.Bundle; import androidx.appcompat.app.AppCompatActivity; import androidx.recyclerview.widget.LinearLayoutManager; import androidx.recyclerview.widget.RecyclerView; import com.example.studentportalapp.adapter.StatsAssignmentAdapter; import com.example.studentportalapp.data.AppDatabase; import com.example.studentportalapp.data.Entity.BaiTap; import com.example.studentportalapp.data.Entity.Diem; import com.example.studentportalapp.model.StatsAssignmentItem; import com.google.android.material.appbar.MaterialToolbar; import java.util.ArrayList; import java.util.List; import java.util.concurrent.Executors;

public class ClassStatsActivity extends AppCompatActivity {

    private RecyclerView recyclerView;
    private SimpleBarChart barChart;
    private AppDatabase db;
    private String maLH, tenLH;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_class_stats);

        maLH = getIntent().getStringExtra("MA_LH");
        tenLH = getIntent().getStringExtra("TEN_LH");

        MaterialToolbar toolbar = findViewById(R.id.toolbarClassStats);
        toolbar.setTitle("Thống kê: " + tenLH);
        toolbar.setNavigationOnClickListener(v -> finish());

        barChart = findViewById(R.id.barChart);
        recyclerView = findViewById(R.id.rvStatsAssignments);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        db = AppDatabase.getDatabase(getApplicationContext());
        loadData();
    }

    private void loadData() {
        db.baiTapDao().getByLop(maLH).observe(this, listBaiTap -> {
            Executors.newSingleThreadExecutor().execute(() -> {
                List<StatsAssignmentItem> statsList = new ArrayList<>();

                for (BaiTap bt : listBaiTap) {
                    List<Diem> listDiem = db.diemDao().getByBaiTapSync(bt.MaBT);

                    double totalScore = 0;
                    int count = 0;
                    for (Diem d : listDiem) {
                        totalScore += d.SoDiem;
                        count++;
                    }

                    double avg = (count > 0) ? (totalScore / count) : 0;
                    statsList.add(new StatsAssignmentItem(bt, avg, count));
                }

                runOnUiThread(() -> {
                    barChart.setData(statsList);

                    StatsAssignmentAdapter adapter = new StatsAssignmentAdapter(statsList, item -> {
                        Intent intent = new Intent(ClassStatsActivity.this, AssignmentStatsActivity.class);
                        intent.putExtra("MA_BT", item.baiTap.MaBT);
                        intent.putExtra("TEN_BT", item.baiTap.TenBT);
                        intent.putExtra("MA_LH", maLH);
                        startActivity(intent);
                    });
                    recyclerView.setAdapter(adapter);
                });
            });
        });
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\CourseActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.content.SharedPreferences;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;
import androidx.appcompat.app.AlertDialog;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.adapter.CourseAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiGiang;
import com.example.studentportalapp.model.ActivityItem;
import com.google.android.material.floatingactionbutton.FloatingActionButton;
import java.util.ArrayList;
import java.util.concurrent.Executors;

public class CourseActivity extends BaseActivity {

    private RecyclerView recyclerView;
    private TextView tvTitle, tvSubtitle;
    private View layoutEmptyState;
    private AppDatabase db;
    private String currentMaLH;
    private ArrayList<BaiGiang> originalList;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_course;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        db = AppDatabase.getDatabase(getApplicationContext());

        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentMaLH = prefs.getString("CURRENT_CLASS_ID", "");
        String tenLH = prefs.getString("CURRENT_CLASS_NAME", "Lớp học");
        String role = prefs.getString("KEY_ROLE", "");

        tvTitle = findViewById(R.id.tv_title);
        tvSubtitle = findViewById(R.id.tv_subtitle);
        recyclerView = findViewById(R.id.rvActivityCourse);
        layoutEmptyState = findViewById(R.id.layoutEmptyState);
        FloatingActionButton fab = findViewById(R.id.fab_add);
        View btnHomeLogo = findViewById(R.id.btnHomeLogo);

        if (tvTitle != null) tvTitle.setText(tenLH);
        if (tvSubtitle != null) tvSubtitle.setText("Mã lớp: " + currentMaLH);

        if (btnHomeLogo != null) {
            btnHomeLogo.setOnClickListener(v -> {
                Intent intent = new Intent(this, HomeActivity.class);
                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(intent);
                finish();
            });
        }

        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        if ("GIAOVIEN".equals(role)) {
            fab.setVisibility(View.VISIBLE);
            fab.setOnClickListener(v -> startActivity(new Intent(this, AddLectureActivity.class)));
        } else {
            fab.setVisibility(View.GONE);
        }

        loadData();
        View btnNotiHeader = findViewById(R.id.btnNotiHeader);

        if (btnNotiHeader != null) {
            btnNotiHeader.setOnClickListener(v -> {
                Intent intent = new Intent(this, NotificationActivity.class);
                startActivity(intent);
            });
        }
    }

    @Override
    protected void onResume() {
        super.onResume();
        loadData();
    }

    private void loadData() {
        db.baiGiangDao().getByLop(currentMaLH).observe(this, listBG -> {
            if (listBG == null || listBG.isEmpty()) {
                if(layoutEmptyState != null) layoutEmptyState.setVisibility(View.VISIBLE);
                recyclerView.setVisibility(View.GONE);
            } else {
                if(layoutEmptyState != null) layoutEmptyState.setVisibility(View.GONE);
                recyclerView.setVisibility(View.VISIBLE);

                originalList = new ArrayList<>(listBG);
                ArrayList<ActivityItem> items = new ArrayList<>();

                for (BaiGiang bg : listBG) {
                    String fName = (bg.FileName != null) ? bg.FileName : "";
                    items.add(new ActivityItem(
                            "GV: " + bg.MaGV,
                            "Mới đăng",
                            bg.TenBG,
                            fName,
                            "0"
                    ));
                }

                CourseAdapter adapter = new CourseAdapter(items, position -> showLectureDialog(originalList.get(position)));
                recyclerView.setAdapter(adapter);
            }
        });
    }

    private void showLectureDialog(BaiGiang bg) {
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        String role = prefs.getString("KEY_ROLE", "");

        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle(bg.TenBG);

        String msg = "Nội dung: " + (bg.NoiDung == null ? "" : bg.NoiDung);
        if (bg.FileName != null && !bg.FileName.isEmpty()) {
            msg += "\n\nTệp đính kèm: " + bg.FileName;
        }
        builder.setMessage(msg);

        if (bg.FilePath != null && !bg.FilePath.isEmpty()) {
            builder.setNeutralButton("Mở File", (dialog, which) -> {
                try {
                    Uri uri = Uri.parse(bg.FilePath);
                    Intent intent = new Intent(Intent.ACTION_VIEW);

                    String mimeType = getContentResolver().getType(uri);
                    if (mimeType == null) mimeType = "*/*";

                    intent.setDataAndType(uri, mimeType);
                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);

                    startActivity(Intent.createChooser(intent, "Mở bài giảng bằng"));
                } catch (Exception e) {
                    Toast.makeText(this, "Lỗi: File không tồn tại hoặc không có quyền truy cập", Toast.LENGTH_LONG).show();
                }
            });
        }

        if ("GIAOVIEN".equals(role)) {
            builder.setPositiveButton("Quản lý", (dialog, which) -> showTeacherOptions(bg));
        }

        builder.setNegativeButton("Đóng", null);
        builder.show();
    }

    private void showTeacherOptions(BaiGiang bg) {
        String[] options = {"Chỉnh sửa", "Xóa bài giảng"};

        new AlertDialog.Builder(this)
                .setTitle("Tùy chọn quản lý")
                .setItems(options, (dialog, which) -> {
                    switch (which) {
                        case 0:
                            Intent intent = new Intent(this, AddLectureActivity.class);
                            intent.putExtra("EDIT_ID", bg.MaBG);
                            intent.putExtra("EDIT_TITLE", bg.TenBG);
                            intent.putExtra("EDIT_CONTENT", bg.NoiDung);
                            intent.putExtra("EDIT_FILE_PATH", bg.FilePath);
                            intent.putExtra("EDIT_FILE_NAME", bg.FileName);
                            startActivity(intent);
                            break;
                        case 1:
                            confirmDelete(bg);
                            break;
                    }
                })
                .show();
    }

    private void confirmDelete(BaiGiang bg) {
        new AlertDialog.Builder(this)
                .setTitle("Xác nhận xóa")
                .setMessage("Bạn có chắc muốn xóa bài giảng \"" + bg.TenBG + "\" không?")
                .setPositiveButton("Xóa", (dialog, which) -> {
                    Executors.newSingleThreadExecutor().execute(() -> {
                        db.baiGiangDao().delete(bg);
                        runOnUiThread(() -> Toast.makeText(this, "Đã xóa bài giảng!", Toast.LENGTH_SHORT).show());
                    });
                })
                .setNegativeButton("Hủy", null)
                .show();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\DatabaseExporter.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.database.Cursor;
import androidx.sqlite.db.SupportSQLiteDatabase;
import com.example.studentportalapp.data.AppDatabase;
import java.io.File;
import java.io.FileWriter;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Locale;

public class DatabaseExporter {

    public static String exportToSQL(Context context, AppDatabase db) throws Exception {
        // 1. Lấy database thô để đọc dữ liệu
        SupportSQLiteDatabase sqlDb = db.getOpenHelper().getReadableDatabase();

        StringBuilder sb = new StringBuilder();
        sb.append("-- BACKUP DATABASE: StudentPortalApp\n");
        sb.append("-- DATE: ").append(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss", Locale.getDefault()).format(new Date())).append("\n");
        sb.append("PRAGMA foreign_keys = OFF;\n\n"); // Tắt kiểm tra khóa ngoại để tránh lỗi khi import

        // 2. Lấy danh sách tất cả các bảng (trừ bảng hệ thống android_metadata và room_master_table)
        Cursor c = sqlDb.query("SELECT name FROM sqlite_master WHERE type='table' AND name NOT IN ('android_metadata', 'room_master_table')");
        List<String> tables = new ArrayList<>();
        while (c.moveToNext()) {
            tables.add(c.getString(0));
        }
        c.close();

        // 3. Duyệt từng bảng để tạo lệnh INSERT
        for (String tableName : tables) {
            sb.append("-- DATA FOR TABLE: ").append(tableName).append("\n");

            // Query lấy toàn bộ dữ liệu bảng đó
            Cursor cursor = sqlDb.query("SELECT * FROM " + tableName);

            while (cursor.moveToNext()) {
                sb.append("INSERT INTO ").append(tableName).append(" VALUES (");

                // Duyệt từng cột
                for (int i = 0; i < cursor.getColumnCount(); i++) {
                    if (i > 0) sb.append(", ");

                    // Kiểm tra kiểu dữ liệu để format đúng (Chuỗi thì thêm dấu nháy đơn, số thì không)
                    int type = cursor.getType(i);
                    if (type == Cursor.FIELD_TYPE_NULL) {
                        sb.append("NULL");
                    } else if (type == Cursor.FIELD_TYPE_STRING) {
                        // Escape dấu nháy đơn: O'Neil -> O''Neil
                        String val = cursor.getString(i);
                        val = val.replace("'", "''");
                        sb.append("'").append(val).append("'");
                    } else {
                        // Số hoặc Blob
                        sb.append(cursor.getString(i));
                    }
                }
                sb.append(");\n");
            }
            cursor.close();
            sb.append("\n");
        }

        sb.append("PRAGMA foreign_keys = ON;\n");

        // 4. Lưu ra file
        File folder = context.getExternalFilesDir(null); // Lưu vào thư mục riêng của app
        String fileName = "Backup_" + System.currentTimeMillis() + ".sql";
        File file = new File(folder, fileName);

        FileWriter writer = new FileWriter(file);
        writer.write(sb.toString());
        writer.flush();
        writer.close();

        return file.getAbsolutePath();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\DatabaseImporter.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.net.Uri;
import androidx.sqlite.db.SupportSQLiteDatabase;
import com.example.studentportalapp.data.AppDatabase;
import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;

public class DatabaseImporter {

    public static void importFromSQL(Context context, AppDatabase db, Uri fileUri) throws Exception {
        SupportSQLiteDatabase sqlDb = db.getOpenHelper().getWritableDatabase();

        InputStream inputStream = context.getContentResolver().openInputStream(fileUri);
        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));

        String line;
        sqlDb.beginTransaction();
        try {
            // 1. Xóa dữ liệu cũ (Tùy chọn: Nếu bạn muốn import đè hoàn toàn)
            // Bạn có thể comment đoạn này nếu chỉ muốn thêm dữ liệu mới
            sqlDb.execSQL("DELETE FROM TAIKHOAN");
            sqlDb.execSQL("DELETE FROM HOCVIEN");
            sqlDb.execSQL("DELETE FROM GIAOVIEN");
            sqlDb.execSQL("DELETE FROM LOPHOC");
            sqlDb.execSQL("DELETE FROM BAIGIANG");
            sqlDb.execSQL("DELETE FROM BAITAP");
            sqlDb.execSQL("DELETE FROM DIEM");
            sqlDb.execSQL("DELETE FROM THAMGIA");

            // 2. Đọc và chạy từng dòng lệnh
            while ((line = reader.readLine()) != null) {
                line = line.trim();
                // Bỏ qua dòng trống hoặc comment
                if (line.isEmpty() || line.startsWith("--") || line.startsWith("//")) {
                    continue;
                }

                // Chạy lệnh SQL
                // (File export của chúng ta mỗi lệnh nằm trên 1 dòng và kết thúc bằng ;)
                if (line.endsWith(";")) {
                    // Xóa dấu ; ở cuối vì execSQL đôi khi không cần
                    line = line.substring(0, line.length() - 1);
                }
                sqlDb.execSQL(line);
            }
            sqlDb.setTransactionSuccessful();
        } finally {
            sqlDb.endTransaction();
            reader.close();
            inputStream.close();
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\ForgotPasswordActivity.java
==================================================
package com.example.studentportalapp;

import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.TaiKhoan;
import com.google.android.material.textfield.TextInputEditText;

import java.util.Random;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ForgotPasswordActivity extends AppCompatActivity {

    // Khai báo View
    private TextInputEditText etEmail, etOTP, etNewPass;
    private Button btnGetCode, btnConfirm;
    private ImageView btnBack; // <--- SỬA LỖI Ở ĐÂY: Dùng ImageView thay vì Button
    private LinearLayout layoutResetPass;

    // Database
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();

    // Biến lưu OTP và Email hiện tại
    private String generatedOTP = "";
    private String currentEmail = "";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_forgot_password);

        db = AppDatabase.getDatabase(getApplicationContext());

        // 1. Ánh xạ View (Khớp ID trong XML)
        etEmail = findViewById(R.id.etResetEmail);
        etOTP = findViewById(R.id.etOTP);
        etNewPass = findViewById(R.id.etNewPass);

        btnGetCode = findViewById(R.id.btnGetCode);
        btnConfirm = findViewById(R.id.btnConfirmReset);

        btnBack = findViewById(R.id.btnBackToLogin); // XML là ImageView -> Java là ImageView
        layoutResetPass = findViewById(R.id.layoutResetPass);

        // 2. Xử lý sự kiện nút Back
        btnBack.setOnClickListener(v -> finish());

        // 3. Xử lý nút Lấy Mã
        btnGetCode.setOnClickListener(v -> handleSendCode());

        // 4. Xử lý nút Đổi Mật Khẩu
        btnConfirm.setOnClickListener(v -> handleConfirmReset());
    }

    private void handleSendCode() {
        String email = etEmail.getText() != null ? etEmail.getText().toString().trim() : "";

        if (email.isEmpty()) {
            etEmail.setError("Vui lòng nhập Email");
            return;
        }

        executor.execute(() -> {
            // Kiểm tra Email có tồn tại trong DB không
            TaiKhoan user = db.taiKhoanDao().getByEmail(email);

            runOnUiThread(() -> {
                if (user == null) {
                    Toast.makeText(this, "Email không tồn tại trong hệ thống!", Toast.LENGTH_SHORT).show();
                } else {
                    // Email đúng -> Tạo mã OTP 4 số ngẫu nhiên
                    Random random = new Random();
                    int otp = random.nextInt(9000) + 1000; // 1000 -> 9999
                    generatedOTP = String.valueOf(otp);
                    currentEmail = email;

                    // HIỆN OTP LÊN MÀN HÌNH (Simulation)
                    Toast.makeText(this, "Mã xác nhận của bạn là: " + generatedOTP, Toast.LENGTH_LONG).show();

                    // Cập nhật giao diện
                    etEmail.setEnabled(false); // Khóa ô email
                    btnGetCode.setVisibility(View.GONE); // Ẩn nút lấy mã
                    layoutResetPass.setVisibility(View.VISIBLE); // Hiện form nhập OTP
                }
            });
        });
    }

    private void handleConfirmReset() {
        String inputOTP = etOTP.getText() != null ? etOTP.getText().toString().trim() : "";
        String newPass = etNewPass.getText() != null ? etNewPass.getText().toString().trim() : "";

        if (inputOTP.isEmpty() || newPass.isEmpty()) {
            Toast.makeText(this, "Vui lòng nhập đầy đủ thông tin", Toast.LENGTH_SHORT).show();
            return;
        }

        // Kiểm tra OTP
        if (!inputOTP.equals(generatedOTP)) {
            etOTP.setError("Mã xác nhận không đúng");
            return;
        }

        // OTP đúng -> Cập nhật mật khẩu vào DB
        executor.execute(() -> {
            TaiKhoan user = db.taiKhoanDao().getByEmail(currentEmail);
            if (user != null) {
                user.MatKhau = newPass; // Cập nhật pass mới
                db.taiKhoanDao().update(user);

                runOnUiThread(() -> {
                    Toast.makeText(this, "Đổi mật khẩu thành công! Hãy đăng nhập lại.", Toast.LENGTH_LONG).show();
                    finish(); // Đóng màn hình này
                });
            }
        });
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\GradeActivity.java
==================================================
package com.example.studentportalapp;

import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.Spinner;
import android.widget.Toast;

import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.GradeAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.google.android.material.appbar.MaterialToolbar;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.Executors;

public class GradeActivity extends BaseActivity {

    private RecyclerView recyclerView;
    private Spinner spinnerClasses;
    private Spinner spinnerAssignments;
    private AppDatabase db;
    private String currentMaTK;
    private String realMaHV;
    private List<LopHoc> listAllLop;
    private String userRole;

    private List<Diem> currentClassGrades = new ArrayList<>();
    private List<BaiTap> currentClassAssignments = new ArrayList<>();
    private String currentSelectedMaBT = "ALL"; // "ALL" or MaBT

    // Biến để lưu mã lớp được truyền từ thông báo (nếu có)
    private String targetClassIdFromNoti = null;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_grade;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentMaTK = prefs.getString("KEY_USER_ID", "");
        userRole = prefs.getString("KEY_ROLE", "");

        if (getIntent().hasExtra("TARGET_CLASS_ID")) {
            targetClassIdFromNoti = getIntent().getStringExtra("TARGET_CLASS_ID");
        }

        MaterialToolbar toolbar = findViewById(R.id.toolbar_grade);
        toolbar.setNavigationOnClickListener(v -> finish());
        if ("GIAOVIEN".equals(userRole)) {
            toolbar.setTitle("Quản Lý Điểm Số");
        }

        spinnerClasses = findViewById(R.id.spinner_classes);
        spinnerAssignments = findViewById(R.id.spinner_assignments);
        recyclerView = findViewById(R.id.rv_grades);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        initData();
    }

    private void initData() {
        if ("GIAOVIEN".equals(userRole)) {
            loadClassesForTeacher();
        } else {
            findRealStudentId();
        }
    }

    private void findRealStudentId() {
        Executors.newSingleThreadExecutor().execute(() -> {
            HocVien hv = db.hocVienDao().getByMaTKSync(currentMaTK);
            if (hv != null) {
                realMaHV = hv.getMaHV();
                runOnUiThread(() -> loadClassesForStudent());
            } else {
                runOnUiThread(() -> Toast.makeText(this, "Không tìm thấy thông tin học viên!", Toast.LENGTH_LONG).show());
            }
        });
    }

    private void loadClassesForStudent() {
        Executors.newSingleThreadExecutor().execute(() -> {
            listAllLop = db.thamGiaDao().getClassesByStudent(currentMaTK);
            runOnUiThread(() -> setupClassSpinner(listAllLop));
        });
    }

    private void loadClassesForTeacher() {
        Executors.newSingleThreadExecutor().execute(() -> {
            listAllLop = db.lopHocDao().getClassesByTeacher(currentMaTK);
            runOnUiThread(() -> setupClassSpinner(listAllLop));
        });
    }

    private void setupClassSpinner(List<LopHoc> listLop) {
        if (listLop == null || listLop.isEmpty()) {
            Toast.makeText(this, "Không có lớp học nào.", Toast.LENGTH_SHORT).show();
            return;
        }

        List<String> tenLopList = new ArrayList<>();
        int selectedPosition = 0;

        for (int i = 0; i < listLop.size(); i++) {
            LopHoc lh = listLop.get(i);
            tenLopList.add(lh.TenLH + " (" + lh.MaLH + ")");

            if (targetClassIdFromNoti != null && lh.MaLH.equals(targetClassIdFromNoti)) {
                selectedPosition = i;
            }
        }

        ArrayAdapter<String> adapter = new ArrayAdapter<>(this, 
                android.R.layout.simple_spinner_item, tenLopList);
        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
        spinnerClasses.setAdapter(adapter);
        spinnerClasses.setSelection(selectedPosition);

        spinnerClasses.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                String selectedMaLH = listLop.get(position).MaLH;
                loadAssignmentsForClass(selectedMaLH);
                loadGradesForClass(selectedMaLH);
            }

            @Override
            public void onNothingSelected(AdapterView<?> parent) {}
        });
    }

    private void loadAssignmentsForClass(String maLH) {
        // Load danh sách bài tập để fill vào spinner Assignments
        db.baiTapDao().getByLop(maLH).observe(this, listBT -> {
            currentClassAssignments = listBT != null ? listBT : new ArrayList<>();
            
            List<String> assignmentNames = new ArrayList<>();
            assignmentNames.add("Tất cả bài tập"); // Default option

            for (BaiTap bt : currentClassAssignments) {
                assignmentNames.add(bt.TenBT);
            }

            ArrayAdapter<String> adapter = new ArrayAdapter<>(this,
                    android.R.layout.simple_spinner_item, assignmentNames);
            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            spinnerAssignments.setAdapter(adapter);

            spinnerAssignments.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
                @Override
                public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
                    if (position == 0) {
                        currentSelectedMaBT = "ALL";
                    } else {
                        // position - 1 vì index 0 là "Tất cả"
                        currentSelectedMaBT = currentClassAssignments.get(position - 1).MaBT;
                    }
                    filterAndDisplayGrades();
                }

                @Override
                public void onNothingSelected(AdapterView<?> parent) {}
            });
        });
    }

    private void loadGradesForClass(String maLH) {
        if ("GIAOVIEN".equals(userRole)) {
            // Giáo viên: Lấy TẤT CẢ điểm
            db.diemDao().getAll().observe(this, listDiem -> {
                if (listDiem == null) listDiem = new ArrayList<>();
                processGradesForClass(listDiem, maLH);
            });
        } else {
            // Học viên: Lấy điểm của MÌNH
            db.diemDao().getByHocVien(realMaHV).observe(this, listDiem -> {
                if (listDiem == null) listDiem = new ArrayList<>();
                processGradesForClass(listDiem, maLH);
            });
        }
    }

    private void processGradesForClass(List<Diem> allGrades, String maLH) {
        Executors.newSingleThreadExecutor().execute(() -> {
            List<Diem> filteredList = new ArrayList<>();
            for (Diem d : allGrades) {
                if (isAssignmentInClass(d.MaBT, maLH)) {
                    filteredList.add(d);
                }
            }
            
            currentClassGrades = filteredList;
            runOnUiThread(this::filterAndDisplayGrades);
        });
    }

    private void filterAndDisplayGrades() {
        List<Diem> finalDisplayList = new ArrayList<>();

        if ("ALL".equals(currentSelectedMaBT)) {
            finalDisplayList.addAll(currentClassGrades);
        } else {
            for (Diem d : currentClassGrades) {
                if (d.MaBT.equals(currentSelectedMaBT)) {
                    finalDisplayList.add(d);
                }
            }
        }

        GradeAdapter adapter = new GradeAdapter(this, finalDisplayList);
        recyclerView.setAdapter(adapter);
    }

    private boolean isAssignmentInClass(String maBT, String maLH) {
        // Cần kiểm tra xem maBT có thuộc lớp maLH không
        // Nếu dùng synchronous thì chậm, nhưng ở đây tạm chấp nhận hoặc tối ưu sau
        // Tốt nhất là check trong list assignment đã load
        
        // Check cache assignments first
        for (BaiTap bt : currentClassAssignments) {
            if (bt.MaBT.equals(maBT)) {
                return true; // Nếu bt này thuộc lớp hiện tại
            }
        }
        
        // Fallback check DB (chậm)
        BaiTap bt = db.baiTapDao().getByIdSync(maBT);
        return bt != null && maLH.equals(bt.MaLH);
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\HomeActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.UserCourseAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.LopHoc;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class HomeActivity extends BaseActivity {

    private TextView tvWelcome;
    private RecyclerView recyclerView;
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();
    private String currentUserId;
    private String currentUserRole;
    private String currentUserName;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_home;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());

        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        currentUserId = prefs.getString("KEY_USER_ID", "");
        currentUserRole = prefs.getString("KEY_ROLE", "");
        currentUserName = prefs.getString("KEY_NAME", "User");

        tvWelcome = findViewById(R.id.tvWelcomeUser);
        recyclerView = findViewById(R.id.recyclerUserCourses);
        View btnLogout = findViewById(R.id.quickActionLogout);
        View btnGrades = findViewById(R.id.quickActionGrades);
        View btnTKB = findViewById(R.id.quickActionTKB);
        View btnNoti = findViewById(R.id.btnNoti);

        if (tvWelcome != null) {
            tvWelcome.setText(currentUserName);
        }

        if (recyclerView != null) {
            recyclerView.setLayoutManager(new LinearLayoutManager(this));
            loadUserCourses();
        }

        if (btnLogout != null) {
            btnLogout.setOnClickListener(v -> showLogoutDialog());
        }

        // Xử lý sự kiện click mở màn hình Xem Điểm
        if (btnGrades != null) {
            btnGrades.setOnClickListener(v -> {
                Intent intent = new Intent(HomeActivity.this, GradeActivity.class);
                startActivity(intent);
            });
        }

        if (btnTKB != null) {
            btnTKB.setOnClickListener(v -> {
                Intent intent = new Intent(HomeActivity.this, ToDoActivity.class);
                startActivity(intent);
            });
        }

        // SỬA: Chuyển hướng sang màn hình thông báo thay vì hiện Toast
        if (btnNoti != null) {
            btnNoti.setOnClickListener(v -> {
                Intent intent = new Intent(HomeActivity.this, NotificationActivity.class);
                startActivity(intent);
            });
        }
    }

    private void loadUserCourses() {
        executor.execute(() -> {
            List<LopHoc> listLop = new ArrayList<>();

            if ("HOCVIEN".equals(currentUserRole)) {
                listLop = db.thamGiaDao().getClassesByStudent(currentUserId);
            } else if ("GIAOVIEN".equals(currentUserRole)) {
                listLop = db.lopHocDao().getClassesByTeacher(currentUserId);
            }

            List<LopHoc> finalList = listLop;

            runOnUiThread(() -> {
                if (recyclerView == null) return;

                if (finalList == null || finalList.isEmpty()) {
                    Toast.makeText(HomeActivity.this, "Chưa có lớp học nào.", Toast.LENGTH_SHORT).show();
                }

                UserCourseAdapter adapter = new UserCourseAdapter(HomeActivity.this, finalList, lopHoc -> {
                    SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
                    SharedPreferences.Editor editor = prefs.edit();
                    editor.putString("CURRENT_CLASS_ID", lopHoc.MaLH);
                    editor.putString("CURRENT_CLASS_NAME", lopHoc.TenLH);
                    editor.apply();

                    Intent intent = new Intent(HomeActivity.this, CourseActivity.class);
                    startActivity(intent);
                });
                recyclerView.setAdapter(adapter);
            });
        });
    }

    private void showLogoutDialog() {
        new AlertDialog.Builder(this)
                .setTitle("Đăng xuất")
                .setMessage("Bạn muốn đăng xuất khỏi tài khoản?")
                .setPositiveButton("Đăng xuất", (dialog, which) -> {
                    SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
                    SharedPreferences.Editor editor = prefs.edit();
                    editor.clear();
                    editor.apply();

                    Intent intent = new Intent(HomeActivity.this, LoginActivity.class);
                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
                    startActivity(intent);
                    finish();
                })
                .setNegativeButton("Hủy", null)
                .show();
    }

    @Override
    protected void onResume() {
        super.onResume();
        loadUserCourses();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\LoginActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.TaiKhoan;
import com.example.studentportalapp.databinding.ActivityLoginBinding;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class LoginActivity extends AppCompatActivity {
    private ActivityLoginBinding binding;
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();

    private final String ADMIN_EMAIL = "admin@gmail.com";
    private final String ADMIN_PASS  = "admin123";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        binding = ActivityLoginBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());

        db = AppDatabase.getDatabase(getApplicationContext());

        // Xử lý nút Quên Mật Khẩu
        binding.tvForgotPassword.setOnClickListener(v -> {
            Intent intent = new Intent(LoginActivity.this, ForgotPasswordActivity.class);
            startActivity(intent);
        });

        // Xử lý nút Đăng nhập
        binding.btnLogin.setOnClickListener(v -> {
            String email = binding.etEmail.getText().toString().trim();
            String password = binding.etPassword.getText().toString().trim();

            if (email.isEmpty() || password.isEmpty()) {
                Toast.makeText(LoginActivity.this, "Vui lòng nhập đủ thông tin", Toast.LENGTH_SHORT).show();
                return;
            }

            // 1. Kiểm tra Admin
            if (email.equals(ADMIN_EMAIL) && password.equals(ADMIN_PASS)) {
                // Admin thì tự đặt tên hiển thị là "Administrator"
                saveUserSession("ADMIN", "ADMIN", "Administrator");

                Toast.makeText(LoginActivity.this, "Đăng nhập ADMIN thành công!", Toast.LENGTH_SHORT).show();
                Intent intent = new Intent(LoginActivity.this, AdminActivity.class);
                startActivity(intent);
                finish();
                return;
            }

            // 2. Kiểm tra User thường (Database)
            executor.execute(() -> {
                TaiKhoan user = db.taiKhoanDao().getByEmail(email);

                runOnUiThread(() -> {
                    if (user == null) {
                        Toast.makeText(LoginActivity.this, "Tài khoản không tồn tại.", Toast.LENGTH_SHORT).show();
                    } else if (!user.MatKhau.equals(password)) {
                        Toast.makeText(LoginActivity.this, "Mật khẩu không đúng.", Toast.LENGTH_SHORT).show();
                    } else {
                        // Lưu đủ 3 thông tin: ID, Vai Trò, Họ Tên
                        saveUserSession(user.MaTK, user.VaiTro, user.HoTen);

                        Toast.makeText(LoginActivity.this, "Đăng nhập thành công!", Toast.LENGTH_SHORT).show();
                        Intent intent = new Intent(LoginActivity.this, HomeActivity.class);
                        startActivity(intent);
                        finish();
                    }
                });
            });
        });
    }

    // --- HÀM LƯU SESSION ĐÃ SỬA ---
    // Nhận vào 3 tham số để lưu đủ dữ liệu cho HomeActivity dùng
    private void saveUserSession(String userId, String role, String fullName) {
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        SharedPreferences.Editor editor = prefs.edit();

        editor.putString("KEY_USER_ID", userId);
        editor.putString("KEY_ROLE", role);
        editor.putString("KEY_NAME", fullName);  // Lưu thêm Họ tên ở đây

        editor.apply();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\MainActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.os.Bundle;
import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.databinding.ActivityMainBinding;

public class MainActivity extends AppCompatActivity {

    private ActivityMainBinding binding;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        binding = ActivityMainBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());

        binding.btnGetStarted.setOnClickListener(v -> {
            Intent intent = new Intent(MainActivity.this, LoginActivity.class);
            startActivity(intent);
        });
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\NotificationActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.content.SharedPreferences;
import android.os.Bundle;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.adapter.NotificationAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.ThongBao;
import com.google.android.material.appbar.MaterialToolbar;
import java.util.concurrent.Executors;

public class NotificationActivity extends BaseActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private String currentMaTK;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_notification;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());
        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        currentMaTK = prefs.getString("KEY_USER_ID", "");

        MaterialToolbar toolbar = findViewById(R.id.toolbar_notification);
        if (toolbar != null) {
            toolbar.setNavigationOnClickListener(v -> finish());
        }

        recyclerView = findViewById(R.id.rv_notifications);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        loadNotifications();
    }

    private void loadNotifications() {
        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        String role = prefs.getString("KEY_ROLE", "");

        // Lấy thông báo gửi riêng cho mình HOẶC thông báo chung cho vai trò của mình
        db.thongBaoDao().getByNguoiNhan(currentMaTK, role).observe(this, list -> {
            if (list != null) {
                NotificationAdapter adapter = new NotificationAdapter(list);
                recyclerView.setAdapter(adapter);

                // Kiểm tra xem có tin chưa đọc không mới update DB để tránh vòng lặp vô tận (update -> reload -> update)
                boolean hasUnread = false;
                for (ThongBao tb : list) {
                    if (!tb.IsRead) {
                        hasUnread = true;
                        break;
                    }
                }

                if (hasUnread) {
                    Executors.newSingleThreadExecutor().execute(() -> {
                        db.thongBaoDao().markAllAsRead(currentMaTK, role);
                    });
                }
            }
        });
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\OptionsActivity.java
==================================================
package com.example.studentportalapp;
import com.example.studentportalapp.R;
import android.app.Activity;
import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.ListView;
import android.widget.PopupWindow;
import android.widget.TextView;

import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.adapter.TaskAdapter;
import com.example.studentportalapp.model.Task;

import java.util.ArrayList;
import java.util.List;


public class OptionsActivity extends BaseActivity {
    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_options;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
    }

    private void showPopup(View anchorView, int layoutId) {
        View popupView = LayoutInflater.from(this).inflate(layoutId, null);

        PopupWindow popupWindow = new PopupWindow(
                popupView,
                LinearLayout.LayoutParams.WRAP_CONTENT,
                LinearLayout.LayoutParams.WRAP_CONTENT,
                true
        );

        // Hiển thị popup ngay bên dưới icon
        popupWindow.showAsDropDown(anchorView, -150, 0, Gravity.END);

        // Cho phép bấm ra ngoài để đóng popup
        popupWindow.setOutsideTouchable(true);
        popupWindow.setFocusable(true);
    }

}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\PeopleActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.TextView;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.adapter.PeopleAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.model.Person;
import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.Executors;

public class PeopleActivity extends BaseActivity {

    private RecyclerView rvProf, rvStud;
    private TextView tvCount;
    private AppDatabase db;
    private String currentMaLH;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_people;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        db = AppDatabase.getDatabase(getApplicationContext());

        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentMaLH = prefs.getString("CURRENT_CLASS_ID", "");

        rvProf = findViewById(R.id.recyclerViewProfessors);
        rvStud = findViewById(R.id.recyclerViewStudents);
        tvCount = findViewById(R.id.txtStudentCount);
        View btnHomeLogo = findViewById(R.id.btnHomeLogo);

        if (btnHomeLogo != null) {
            btnHomeLogo.setOnClickListener(v -> {
                Intent intent = new Intent(this, HomeActivity.class);
                intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
                startActivity(intent);
                finish();
            });
        }

        rvProf.setLayoutManager(new LinearLayoutManager(this));
        rvStud.setLayoutManager(new LinearLayoutManager(this));

        loadPeople();
        View btnNotiHeader = findViewById(R.id.btnNotiHeader);

        if (btnNotiHeader != null) {
            btnNotiHeader.setOnClickListener(v -> {
                Intent intent = new Intent(this, NotificationActivity.class);
                startActivity(intent);
            });
        }
    }

    private void loadPeople() {
        Executors.newSingleThreadExecutor().execute(() -> {
            List<Person> listGV = new ArrayList<>();
            List<Person> listHV = new ArrayList<>();

            LopHoc lop = db.lopHocDao().getByIdSync(currentMaLH);
            if (lop != null) {
                List<GiaoVien> allGV = db.giaoVienDao().getAllSync();
                for (GiaoVien gv : allGV) {
                    if (gv.getMaGV().equals(lop.MaGV)) {
                        listGV.add(new Person(gv.getTenGV(), "Giáo viên chủ nhiệm"));
                        break;
                    }
                }
            }

            List<String> studentIds = db.thamGiaDao().getStudentIdsByClass(currentMaLH);
            List<HocVien> allHV = db.hocVienDao().getAllSync();

            for (HocVien hv : allHV) {
                if (studentIds.contains(hv.getMaHV())) {
                    listHV.add(new Person(hv.getTenHV(), "Học viên"));
                }
            }

            runOnUiThread(() -> {
                rvProf.setAdapter(new PeopleAdapter(listGV));
                rvStud.setAdapter(new PeopleAdapter(listHV));
                tvCount.setText("Sĩ số: " + listHV.size());
            });
        });
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\ProfileActivity.java
==================================================
package com.example.studentportalapp;

import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.TaiKhoan;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ProfileActivity extends AppCompatActivity {

    private TextView tvLabelID, tvUserID, tvName, tvEmail, tvHeaderName;
    private Button btnChangePass;
    private ImageView btnBack;

    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();
    private String currentUserId;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_profile);

        db = AppDatabase.getDatabase(getApplicationContext());

        // 1. Ánh xạ View
        tvLabelID = findViewById(R.id.tvLabelID);
        tvUserID = findViewById(R.id.tvUserID);
        tvName = findViewById(R.id.tvName);
        tvHeaderName = findViewById(R.id.tvHeaderName);
        tvEmail = findViewById(R.id.tvEmail);
        btnChangePass = findViewById(R.id.btnChangePass);
        btnBack = findViewById(R.id.btnBack);

        btnBack.setOnClickListener(v -> finish());

        // 2. Lấy thông tin phiên đăng nhập từ "UserSession"
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentUserId = prefs.getString("KEY_USER_ID", "");
        String role = prefs.getString("KEY_ROLE", "");

        // 3. Logic hiển thị Label theo Role
        if (role.equalsIgnoreCase("GIAOVIEN")) {
            tvLabelID.setText("Mã Giảng Viên:");
        } else if (role.equalsIgnoreCase("HOCVIEN")) {
            tvLabelID.setText("Mã Học Viên:");
        } else {
            tvLabelID.setText("Mã Tài Khoản:"); // Trường hợp Admin
        }

        // 4. Load dữ liệu
        loadUserProfile(currentUserId);

        // 5. Nút đổi mật khẩu
        btnChangePass.setOnClickListener(v -> showChangePasswordDialog());
    }

    private void loadUserProfile(String userId) {
        if (userId == null || userId.isEmpty()) {
            Toast.makeText(this, "Lỗi: Không tìm thấy thông tin người dùng.", Toast.LENGTH_SHORT).show();
            return;
        }
        executor.execute(() -> {
            TaiKhoan user = db.taiKhoanDao().getById(userId);

            runOnUiThread(() -> {
                if (user != null) {
                    tvUserID.setText(user.MaTK);
                    tvName.setText(user.HoTen);
                    tvHeaderName.setText(user.HoTen);
                    tvEmail.setText(user.Email);
                } else {
                    Toast.makeText(this, "Lỗi tải thông tin!", Toast.LENGTH_SHORT).show();
                }
            });
        });
    }

    private void showChangePasswordDialog() {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle("Đổi Mật Khẩu");

        View view = LayoutInflater.from(this).inflate(R.layout.change_password, null);

        EditText etOldPass = view.findViewById(R.id.etOldPass);
        EditText etNewPass = view.findViewById(R.id.etNewPass);
        EditText etConfirmPass = view.findViewById(R.id.etConfirmPass);

        builder.setView(view);
        builder.setPositiveButton("Lưu", null); // Xử lý sau để tránh đóng dialog
        builder.setNegativeButton("Hủy", null);

        AlertDialog dialog = builder.create();
        dialog.show();

        dialog.getButton(AlertDialog.BUTTON_POSITIVE).setOnClickListener(v -> {
            String oldPass = etOldPass.getText().toString();
            String newPass = etNewPass.getText().toString();
            String confirmPass = etConfirmPass.getText().toString();

            if (oldPass.isEmpty() || newPass.isEmpty()) {
                Toast.makeText(this, "Vui lòng nhập đủ thông tin", Toast.LENGTH_SHORT).show();
                return;
            }
            if (!newPass.equals(confirmPass)) {
                Toast.makeText(this, "Mật khẩu xác nhận không khớp", Toast.LENGTH_SHORT).show();
                return;
            }

            executor.execute(() -> {
                TaiKhoan user = db.taiKhoanDao().getById(currentUserId);
                if (user != null && user.MatKhau.equals(oldPass)) {
                    // Update Database
                    user.MatKhau = newPass;
                    db.taiKhoanDao().update(user);

                    runOnUiThread(() -> {
                        Toast.makeText(this, "Đổi mật khẩu thành công!", Toast.LENGTH_SHORT).show();
                        dialog.dismiss();
                    });
                } else {
                    runOnUiThread(() -> Toast.makeText(this, "Mật khẩu cũ không đúng!", Toast.LENGTH_SHORT).show());
                }
            });
        });
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\SimpleBarChart.java
==================================================
package com.example.studentportalapp;

import android.content.Context; import android.graphics.Canvas; import android.graphics.Color; import android.graphics.Paint; import android.graphics.Rect; import android.util.AttributeSet; import android.view.View;

import androidx.annotation.Nullable;

import com.example.studentportalapp.model.StatsAssignmentItem;

import java.util.ArrayList; import java.util.List;

public class SimpleBarChart extends View {

    private List<StatsAssignmentItem> data = new ArrayList<>();
    private Paint barPaint;
    private Paint textPaint;
    private Paint axisPaint;
    private float maxScore = 10f;

    public SimpleBarChart(Context context) {
        super(context);
        init();
    }

    public SimpleBarChart(Context context, @Nullable AttributeSet attrs) {
        super(context, attrs);
        init();
    }

    private void init() {
        barPaint = new Paint();
        barPaint.setColor(Color.parseColor("#4CAF50"));
        barPaint.setStyle(Paint.Style.FILL);

        textPaint = new Paint();
        textPaint.setColor(Color.BLACK);
        textPaint.setTextSize(30f);
        textPaint.setTextAlign(Paint.Align.CENTER);
        textPaint.setAntiAlias(true);

        axisPaint = new Paint();
        axisPaint.setColor(Color.GRAY);
        axisPaint.setStrokeWidth(5f);
    }

    public void setData(List<StatsAssignmentItem> data) {
        this.data = data;
        invalidate();
    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);

        if (data == null || data.isEmpty()) return;

        float padding = 50f;
        float chartWidth = getWidth() - 2 * padding;
        float chartHeight = getHeight() - 2 * padding;
        float barWidth = chartWidth / (data.size() * 2);
        float spacing = barWidth;

        canvas.drawLine(padding, getHeight() - padding, getWidth() - padding, getHeight() - padding, axisPaint);
        canvas.drawLine(padding, getHeight() - padding, padding, padding, axisPaint);

        for (int i = 0; i < data.size(); i++) {
            StatsAssignmentItem item = data.get(i);
            float score = (float) item.averageScore;

            float barHeight = (score / maxScore) * chartHeight;
            float left = padding + spacing + i * (barWidth + spacing);
            float top = (getHeight() - padding) - barHeight;
            float right = left + barWidth;
            float bottom = getHeight() - padding;

            if (score >= 8.0) barPaint.setColor(Color.parseColor("#4CAF50"));
            else if (score >= 5.0) barPaint.setColor(Color.parseColor("#FF9800"));
            else barPaint.setColor(Color.parseColor("#F44336"));

            canvas.drawRect(left, top, right, bottom, barPaint);

            String scoreText = String.format("%.1f", score);
            canvas.drawText(scoreText, left + barWidth / 2, top - 10, textPaint);

            String label = "BT" + (i + 1);
            canvas.drawText(label, left + barWidth / 2, bottom + 40, textPaint);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\StudentManageActivity.java
==================================================
package com.example.studentportalapp;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.HocVienAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.HocVien;
import com.google.android.material.textfield.TextInputEditText;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class StudentManageActivity extends AppCompatActivity {
    private RecyclerView recyclerView;
    private HocVienAdapter adapter;
    private List<HocVien> hocVienList = new ArrayList<>();
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_student_manage);

        recyclerView = findViewById(R.id.recyclerHocVien);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        db = AppDatabase.getDatabase(getApplicationContext());

        // Nút quay lại
        Button btnBack = findViewById(R.id.btnBack);
        btnBack.setOnClickListener(v -> finish());

        // Tải dữ liệu
        loadHocVien();
    }

    // Thay thế toàn bộ hàm loadHocVien() cũ bằng đoạn này:
    private void loadHocVien() {
        // Quan sát danh sách học viên
        db.hocVienDao().getAll().observe(this, listHV -> {

            // Chạy background để lấy thông tin lớp cho từng học viên
            executor.execute(() -> {
                List<com.example.studentportalapp.model.StudentItem> displayList = new ArrayList<>();

                if (listHV != null) {
                    for (HocVien hv : listHV) {
                        // 1. Tìm các lớp học viên này tham gia
                        List<String> classIds = db.thamGiaDao().getClassIdsByStudent(hv.getMaHV());

                        // 2. Nối thành chuỗi (VD: "CNTT1, CNTT2")
                        String classNames = "";
                        if (classIds != null && !classIds.isEmpty()) {
                            StringBuilder sb = new StringBuilder();
                            for (int i = 0; i < classIds.size(); i++) {
                                sb.append(classIds.get(i));
                                if (i < classIds.size() - 1) sb.append(", ");
                            }
                            classNames = sb.toString();
                        }

                        // 3. Tạo item hiển thị
                        displayList.add(new com.example.studentportalapp.model.StudentItem(hv, classNames));
                    }
                }

                // 4. Cập nhật UI
                runOnUiThread(() -> {
                    adapter = new HocVienAdapter(this, displayList, new HocVienAdapter.OnItemClickListener() {
                        @Override
                        public void onEdit(HocVien hv) {
                            showEditDialog(hv);
                        }

                        @Override
                        public void onDelete(HocVien hv) {
                            showDeleteConfirmDialog(hv);
                        }
                    });
                    recyclerView.setAdapter(adapter);
                });
            });
        });
    }

    // ================== CÁC HÀM DIALOG ĐÃ SỬA ==================

    private void showEditDialog(HocVien hv) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        View view = LayoutInflater.from(this).inflate(R.layout.dialog_edit_student, null);

        TextInputEditText etTen = view.findViewById(R.id.etEditTenHV);
        TextInputEditText etEmail = view.findViewById(R.id.etEditEmailHV);
        TextInputEditText etLop = view.findViewById(R.id.etEditLopHV);

        // Đổ dữ liệu Tên & Email (Có sẵn trong object)
        if (hv.getTenHV() != null) etTen.setText(hv.getTenHV());
        if (hv.getEmail() != null) etEmail.setText(hv.getEmail());

        // --- PHẦN SỬA ĐỔI QUAN TRỌNG ---
        // Vì MaLH không còn trong HocVien, ta phải query từ bảng THAMGIA
        etLop.setText("Đang tải danh sách lớp...");
        etLop.setEnabled(false); // Khóa không cho sửa
        etLop.setFocusable(false);

        executor.execute(() -> {
            // Lấy danh sách các mã lớp mà học viên này tham gia
            List<String> classes = db.thamGiaDao().getClassIdsByStudent(hv.getMaHV());

            // Chuyển danh sách thành chuỗi (Ví dụ: "LH01, LH02")
            String displayStr;
            if (classes == null || classes.isEmpty()) {
                displayStr = "Chưa tham gia lớp nào";
            } else {
                // Nối các mã lớp lại với nhau bằng dấu phẩy
                StringBuilder sb = new StringBuilder();
                for (int i = 0; i < classes.size(); i++) {
                    sb.append(classes.get(i));
                    if (i < classes.size() - 1) sb.append(", ");
                }
                displayStr = sb.toString();
            }

            // Cập nhật lên giao diện (phải dùng runOnUiThread)
            runOnUiThread(() -> etLop.setText(displayStr));
        });
        // --------------------------------

        builder.setView(view);

        builder.setPositiveButton("Lưu thông tin", (dialog, which) -> {
            String newTen = etTen.getText() != null ? etTen.getText().toString().trim() : "";
            String newEmail = etEmail.getText() != null ? etEmail.getText().toString().trim() : "";

            hv.setTenHV(newTen);
            hv.setEmail(newEmail);

            executor.execute(() -> {
                db.hocVienDao().update(hv);
                runOnUiThread(() ->
                        Toast.makeText(StudentManageActivity.this, "Cập nhật thành công!", Toast.LENGTH_SHORT).show()
                );
            });
        });

        builder.setNegativeButton("Hủy", (dialog, which) -> dialog.dismiss());
        AlertDialog dialog = builder.create();
        dialog.show();
    }

    private void showDeleteConfirmDialog(HocVien hv) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        View view = LayoutInflater.from(this).inflate(R.layout.dialog_confirm_delete, null);

        TextView tvMessage = view.findViewById(R.id.tvConfirmMessage);

        // Sửa câu thông báo: Bỏ phần "khỏi lớp..." vì học viên không còn gắn cứng với 1 lớp
        tvMessage.setText("Bạn có chắc muốn xóa học viên " + hv.getTenHV() + " khỏi hệ thống? (Học viên sẽ bị xóa khỏi tất cả các lớp)");

        builder.setView(view);

        builder.setPositiveButton("Xóa ngay", (dialog, which) -> {
            executor.execute(() -> {
                db.hocVienDao().delete(hv);
                runOnUiThread(() ->
                        Toast.makeText(StudentManageActivity.this, "Đã xóa học viên!", Toast.LENGTH_SHORT).show()
                );
            });
        });

        builder.setNegativeButton("Hủy", (dialog, which) -> dialog.dismiss());
        AlertDialog dialog = builder.create();
        dialog.show();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\SubmitAssignmentActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.database.Cursor;
import android.net.Uri;
import android.os.Bundle;
import android.provider.OpenableColumns;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.NopBai;
import com.example.studentportalapp.data.Entity.ThongBao;

import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Locale;
import java.util.concurrent.Executors;

public class SubmitAssignmentActivity extends BaseActivity {

    private EditText etSubmitTitle, etNote;
    private View btnAttach; // Đổi thành View vì là LinearLayout
    private TextView tvFileName; // Thêm TextView hiển thị tên file
    private Button btnSubmit;
    private Uri selectedFileUri;
    private String selectedFileName;
    private String maBT;
    private String currentMaHV;

    private final ActivityResultLauncher<String[]> filePickerLauncher = registerForActivityResult(
            new ActivityResultContracts.OpenDocument(),
            uri -> {
                if (uri != null) {
                    selectedFileUri = uri;
                    try {
                        getContentResolver().takePersistableUriPermission(uri, Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    } catch (SecurityException e) {
                        e.printStackTrace();
                    }
                    selectedFileName = getFileName(uri);

                    // Cập nhật giao diện khi chọn file xong
                    if (tvFileName != null) {
                        tvFileName.setText("Đã chọn: " + selectedFileName);
                        tvFileName.setTextColor(getResources().getColor(R.color.purple_500));
                    }
                }
            }
    );

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_submit_assignment;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        SharedPreferences prefs = getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        currentMaHV = prefs.getString("KEY_USER_ID", "");
        maBT = getIntent().getStringExtra("MA_BT");
        String tenBT = getIntent().getStringExtra("TEN_BT");

        // Ánh xạ theo ID mới
        etSubmitTitle = findViewById(R.id.et_submit_title);
        etNote = findViewById(R.id.et_submit_note);
        btnAttach = findViewById(R.id.btn_attach_file_submit);
        tvFileName = findViewById(R.id.tvFileName); // Ánh xạ TextView tên file
        btnSubmit = findViewById(R.id.btn_submit_final);
        View btnBack = findViewById(R.id.btnBack);

        if (etSubmitTitle != null && tenBT != null) {
            etSubmitTitle.setText(tenBT);
        }

        // Xử lý nút Back
        if (btnBack != null) {
            btnBack.setOnClickListener(v -> finish());
        }

        // Xử lý chọn file
        btnAttach.setOnClickListener(v -> filePickerLauncher.launch(new String[]{"*/*"}));

        // Xử lý submit
        btnSubmit.setOnClickListener(v -> {
            if (selectedFileUri == null) {
                Toast.makeText(this, "Vui lòng đính kèm bài làm!", Toast.LENGTH_SHORT).show();
                return;
            }
            handlePostSubmission();
        });
    }

    private void handlePostSubmission() {
        String note = etNote.getText().toString().trim();
        String timeStamp = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault()).format(new Date());

        NopBai nb = new NopBai();
        nb.MaNB = "NB" + System.currentTimeMillis();
        nb.MaBT = maBT;
        nb.MaHV = currentMaHV;
        nb.FileName = selectedFileName;
        nb.FilePath = selectedFileUri.toString();
        nb.GhiChu = note;
        nb.NgayNop = timeStamp;

        Executors.newSingleThreadExecutor().execute(() -> {
            AppDatabase database = AppDatabase.getDatabase(getApplicationContext());
            database.nopBaiDao().insert(nb);

            HocVien hv = database.hocVienDao().getByMaTKSync(currentMaHV);
            String tenHV = (hv != null) ? hv.getTenHV() : "Học viên";

            com.example.studentportalapp.data.Entity.BaiTap bt = database.baiTapDao().getByIdSync(maBT);
            if (bt != null) {
                com.example.studentportalapp.data.Entity.LopHoc lh = database.lopHocDao().getByIdSync(bt.MaLH);
                if (lh != null) {
                    ThongBao tb = new ThongBao();
                    tb.NoiDung = tenHV + " đã nộp bài: " + bt.TenBT;
                    tb.NgayTao = timeStamp;
                    tb.NguoiNhan = lh.MaGV;
                    // SỬA LỖI: Thêm 2 dòng này để link hoạt động
                    tb.LoaiTB = "SUBMISSION"; 
                    tb.TargetId = maBT; 
                    database.thongBaoDao().insert(tb);
                }
            }

            runOnUiThread(() -> {
                Toast.makeText(this, "Nộp bài thành công!", Toast.LENGTH_SHORT).show();
                finish();
            });
        });
    }

    private String getFileName(Uri uri) {
        String result = null;
        if (uri.getScheme().equals("content")) {
            try (Cursor cursor = getContentResolver().query(uri, null, null, null, null)) {
                if (cursor != null && cursor.moveToFirst()) {
                    int index = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);
                    if (index >= 0) result = cursor.getString(index);
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
        if (result == null) {
            result = uri.getPath();
            int cut = result.lastIndexOf('/');
            if (cut != -1) {
                result = result.substring(cut + 1);
            }
        }
        return result;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\TeacherManageActivity.java
==================================================
package com.example.studentportalapp;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.ArrayAdapter;
import android.widget.ListView;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.TeacherAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.model.TeacherDisplayItem;
import com.google.android.material.textfield.TextInputEditText;

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class TeacherManageActivity extends AppCompatActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_teacher_manage); // Đảm bảo file XML này có RecyclerView ID recyclerTeacher

        db = AppDatabase.getDatabase(getApplicationContext());
        recyclerView = findViewById(R.id.recyclerTeacher); // Sửa ID trong XML nếu khác
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        findViewById(R.id.btnBack).setOnClickListener(v -> finish());

        // Tùy chọn: Nút thêm GV (nếu bạn muốn thêm ở đây)
        // findViewById(R.id.btnAddTeacher).setOnClickListener(...)

        loadTeachers();
    }

    private void loadTeachers() {
        // Observer GV thay đổi
        db.giaoVienDao().getAll().observe(this, listGV -> {
            executor.execute(() -> {
                List<TeacherDisplayItem> displayList = new ArrayList<>();

                // Duyệt qua từng giáo viên để đếm số lớp họ dạy
                for (GiaoVien gv : listGV) {
                    int count = db.lopHocDao().countClassesByTeacher(gv.getMaGV());
                    displayList.add(new TeacherDisplayItem(gv, count));
                }

                runOnUiThread(() -> {
                    TeacherAdapter adapter = new TeacherAdapter(this, displayList, new TeacherAdapter.OnItemClickListener() {
                        @Override
                        public void onEdit(TeacherDisplayItem item) {
                            showEditDialog(item.giaoVien);
                        }

                        @Override
                        public void onDelete(TeacherDisplayItem item) {
                            showDeleteConfirm(item.giaoVien);
                        }

                        @Override
                        public void onViewClasses(TeacherDisplayItem item) {
                            showClassesDialog(item.giaoVien);
                        }
                    });
                    recyclerView.setAdapter(adapter);
                });
            });
        });
    }

    // --- DIALOG XEM LỚP ĐANG DẠY ---
    private void showClassesDialog(GiaoVien gv) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle("Lớp dạy: " + gv.getTenGV());

        // Sử dụng ListView đơn giản để hiện danh sách
        ListView listView = new ListView(this);
        builder.setView(listView);

        executor.execute(() -> {
            List<String> classNames = db.lopHocDao().getClassNamesByTeacher(gv.getMaGV());

            runOnUiThread(() -> {
                if (classNames.isEmpty()) {
                    Toast.makeText(this, "Giáo viên này chưa nhận lớp nào.", Toast.LENGTH_SHORT).show();
                    // Vẫn hiện dialog nhưng list rỗng hoặc thêm 1 item thông báo
                    ArrayList<String> emptyList = new ArrayList<>();
                    emptyList.add("(Chưa có lớp)");
                    listView.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, emptyList));
                } else {
                    listView.setAdapter(new ArrayAdapter<>(this, android.R.layout.simple_list_item_1, classNames));
                }
            });
        });

        builder.setPositiveButton("Đóng", null);
        builder.show();
    }

    // --- DIALOG SỬA THÔNG TIN ---
    private void showEditDialog(GiaoVien gv) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        View view = LayoutInflater.from(this).inflate(R.layout.dialog_edit_student, null); // Tái sử dụng layout sửa
        // Hoặc bạn tạo layout riêng nếu muốn, nhưng cấu trúc giống nhau (Tên, Email)

        TextInputEditText etTen = view.findViewById(R.id.etEditTenHV); // ID trong layout cũ
        TextInputEditText etEmail = view.findViewById(R.id.etEditEmailHV);
        TextInputEditText etMa = view.findViewById(R.id.etEditLopHV); // Tạm dùng ô này hiển thị Mã GV

        etTen.setText(gv.getTenGV());
        etEmail.setText(gv.getEmail());

        etMa.setText("MSGV: " + gv.getMaGV());
        etMa.setEnabled(false); // Không cho sửa mã

        builder.setView(view);
        builder.setTitle("Sửa Giáo Viên");

        builder.setPositiveButton("Lưu", (dialog, which) -> {
            String newTen = etTen.getText().toString();
            String newEmail = etEmail.getText().toString();

            gv.setTenGV(newTen);
            gv.setEmail(newEmail);

            executor.execute(() -> {
                db.giaoVienDao().update(gv);
                runOnUiThread(() -> Toast.makeText(this, "Đã cập nhật!", Toast.LENGTH_SHORT).show());
            });
        });

        builder.setNegativeButton("Hủy", null);
        builder.show();
    }

    // --- DIALOG XÓA ---
    private void showDeleteConfirm(GiaoVien gv) {
        new AlertDialog.Builder(this)
                .setTitle("Xóa Giáo Viên")
                .setMessage("Bạn có chắc muốn xóa GV " + gv.getTenGV() + "?\nCác lớp do GV này phụ trách sẽ chuyển về trạng thái 'Chưa phân công'.")
                .setPositiveButton("Xóa", (dialog, which) -> {
                    executor.execute(() -> {
                        db.giaoVienDao().delete(gv);
                        // Xóa tài khoản tương ứng luôn nếu cần
                        // db.taiKhoanDao().deleteById(gv.getMaTK());

                        runOnUiThread(() -> Toast.makeText(this, "Đã xóa giáo viên!", Toast.LENGTH_SHORT).show());
                    });
                })
                .setNegativeButton("Hủy", null)
                .show();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\ToDoActivity.java
==================================================
package com.example.studentportalapp;

import android.content.SharedPreferences;
import android.os.Bundle;
import android.widget.ListView;
import com.example.studentportalapp.adapter.TaskAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.data.Entity.NopBai;
import com.example.studentportalapp.model.Task;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

public class ToDoActivity extends BaseActivity {

    private AppDatabase db;
    private final ExecutorService executor = Executors.newSingleThreadExecutor();
    private String currentUserId, currentUserRole;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());
        SharedPreferences prefs = getSharedPreferences("UserSession", MODE_PRIVATE);
        currentUserId = prefs.getString("KEY_USER_ID", "");
        currentUserRole = prefs.getString("KEY_ROLE", "");

        ListView listView = findViewById(R.id.list_tasks);

        executor.execute(() -> {
            List<Task> tasks = new ArrayList<>();
            if ("HOCVIEN".equals(currentUserRole)) {
                List<LopHoc> enrolledClasses = db.thamGiaDao().getClassesByStudent(currentUserId);
                for (LopHoc lopHoc : enrolledClasses) {
                    List<BaiTap> assignments = db.baiTapDao().getByLopSync(lopHoc.MaLH);
                    for (BaiTap baiTap : assignments) {
                        if (isDeadlineActive(baiTap.Deadline)) {
                            NopBai submission = db.nopBaiDao().getSubmission(baiTap.MaBT, currentUserId);
                            if (submission == null) {
                                tasks.add(new Task(baiTap.TenBT, lopHoc.TenLH, baiTap.Deadline, baiTap.MaBT, currentUserRole));
                            }
                        }
                    }
                }
            } else if ("GIAOVIEN".equals(currentUserRole)) {
                List<LopHoc> taughtClasses = db.lopHocDao().getClassesByTeacher(currentUserId);
                for (LopHoc lopHoc : taughtClasses) {
                    List<BaiTap> assignments = db.baiTapDao().getByLopSync(lopHoc.MaLH);
                    int totalStudents = db.thamGiaDao().countStudentsByClass(lopHoc.MaLH);
                    for (BaiTap baiTap : assignments) {
                        if (isDeadlineActive(baiTap.Deadline)) {
                            int submissionCount = db.nopBaiDao().countSubmissionsForAssignment(baiTap.MaBT);
                            if (submissionCount < totalStudents) { // Chỉ hiển thị nếu chưa nộp đủ
                                tasks.add(new Task(baiTap.TenBT, lopHoc.TenLH, baiTap.Deadline, baiTap.MaBT, currentUserRole, submissionCount, totalStudents));
                            }
                        }
                    }
                }
            }

            runOnUiThread(() -> {
                TaskAdapter adapter = new TaskAdapter(ToDoActivity.this, tasks);
                listView.setAdapter(adapter);
            });
        });
    }

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_todo;
    }

    private boolean isDeadlineActive(String deadline) {
        if (deadline == null || deadline.isEmpty()) {
            return true; // Mặc định là còn hạn nếu không có deadline
        }
        try {
            SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy HH:mm:ss", Locale.getDefault());
            Date deadlineDate = sdf.parse(deadline);
            return new Date().before(deadlineDate); // Trả về true nếu ngày hiện tại trước deadline
        } catch (ParseException e) {
            e.printStackTrace();
            return true; // Mặc định là còn hạn nếu không thể phân tích chuỗi
        }
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\ViewSubmissionsActivity.java
==================================================
package com.example.studentportalapp;

import android.content.Intent;
import android.net.Uri;
import android.os.Bundle;
import android.widget.Toast;

import androidx.appcompat.app.AlertDialog;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.adapter.SubmissionsAdapter;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.NopBai;
import com.google.android.material.appbar.MaterialToolbar;

import java.util.ArrayList;

public class ViewSubmissionsActivity extends BaseActivity {

    private RecyclerView recyclerView;
    private AppDatabase db;
    private String maBT;

    @Override
    protected int getLayoutResourceId() {
        return R.layout.activity_view_submissions;
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        db = AppDatabase.getDatabase(getApplicationContext());
        maBT = getIntent().getStringExtra("MA_BT");
        String tenBT = getIntent().getStringExtra("TEN_BT");

        MaterialToolbar toolbar = findViewById(R.id.toolbar_view_submissions);
        if (tenBT != null) toolbar.setTitle("Bài nộp: " + tenBT);
        toolbar.setNavigationOnClickListener(v -> finish());

        recyclerView = findViewById(R.id.rv_submissions);
        recyclerView.setLayoutManager(new LinearLayoutManager(this));

        loadData();
    }

    private void loadData() {
        db.nopBaiDao().getByBaiTap(maBT).observe(this, list -> {
            if (list == null) list = new ArrayList<>();
            SubmissionsAdapter adapter = new SubmissionsAdapter(this, list, this::onSubmissionClick);
            recyclerView.setAdapter(adapter);
        });
    }

    private void onSubmissionClick(NopBai nb) {
        AlertDialog.Builder builder = new AlertDialog.Builder(this);
        builder.setTitle("Chi tiết bài nộp");
        String msg = "Mã HV: " + nb.MaHV + "\nNgày nộp: " + nb.NgayNop + "\nGhi chú: " + (nb.GhiChu != null ? nb.GhiChu : "");
        builder.setMessage(msg);

        if (nb.FilePath != null) {
            builder.setPositiveButton("Mở bài làm", (dialog, which) -> {
                try {
                    Intent intent = new Intent(Intent.ACTION_VIEW);
                    intent.setDataAndType(Uri.parse(nb.FilePath), "*/*");
                    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
                    startActivity(Intent.createChooser(intent, "Mở bằng"));
                } catch (Exception e) {
                    Toast.makeText(this, "Không thể mở file", Toast.LENGTH_SHORT).show();
                }
            });
        }
        builder.setNegativeButton("Đóng", null);
        builder.show();
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\AssignmentAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.res.ColorStateList;
import android.graphics.Color;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.data.Entity.BaiTap;
import java.util.List;

public class AssignmentAdapter extends RecyclerView.Adapter<AssignmentAdapter.AssignmentViewHolder> {

    private final Context context;
    private final List<BaiTap> assignments;
    private final OnItemClickListener listener;

    public interface OnItemClickListener {
        void onItemClick(BaiTap baiTap);
    }

    public AssignmentAdapter(Context context, List<BaiTap> assignments, OnItemClickListener listener) {
        this.context = context;
        this.assignments = assignments;
        this.listener = listener;
    }

    @NonNull
    @Override
    public AssignmentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(context).inflate(R.layout.item_assignment, parent, false);
        return new AssignmentViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull AssignmentViewHolder holder, int position) {
        BaiTap item = assignments.get(position);
        holder.tvTitle.setText(item.TenBT);
        holder.tvPoints.setText("Hạn nộp: " + item.Deadline);

        SharedPreferences prefs = context.getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        String role = prefs.getString("KEY_ROLE", "");

        if ("HOCVIEN".equals(role)) {
            holder.btnAction.setText("Submit");
            holder.btnAction.setBackgroundTintList(ColorStateList.valueOf(Color.parseColor("#4CAF50")));
        } else {
            holder.btnAction.setText("View");
            holder.btnAction.setBackgroundTintList(ColorStateList.valueOf(Color.parseColor("#2196F3")));
        }

        if (item.FileName != null && !item.FileName.isEmpty()) {
            holder.tvFileName.setText(item.FileName);
            if (holder.layoutFileLink != null) {
                holder.layoutFileLink.setVisibility(View.VISIBLE);
            }
        } else {
            if (holder.layoutFileLink != null) {
                holder.layoutFileLink.setVisibility(View.GONE);
            }
        }

        holder.btnAction.setOnClickListener(v -> listener.onItemClick(item));
        holder.itemView.setOnClickListener(null);
    }

    @Override
    public int getItemCount() {
        return assignments.size();
    }

    public static class AssignmentViewHolder extends RecyclerView.ViewHolder {
        TextView tvTitle, tvPoints, tvFileName;
        View layoutFileLink;
        Button btnAction;

        public AssignmentViewHolder(@NonNull View itemView) {
            super(itemView);
            tvTitle = itemView.findViewById(R.id.tvTitle);
            tvPoints = itemView.findViewById(R.id.tvPoints);
            tvFileName = itemView.findViewById(R.id.tvFileName);

            if (tvFileName != null && tvFileName.getParent() instanceof View) {
                layoutFileLink = (View) tvFileName.getParent();
            }
            
            btnAction = itemView.findViewById(R.id.btnAction);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\ClassAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.model.ClassDisplayItem; // Class mới tạo
import java.util.List;

public class ClassAdapter extends RecyclerView.Adapter<ClassAdapter.ViewHolder> {

    private List<ClassDisplayItem> list;
    private final OnItemClickListener listener;

    public interface OnItemClickListener {
        void onAddStudent(ClassDisplayItem item);
        void onStats(ClassDisplayItem item);
        void onEdit(ClassDisplayItem item);
        void onDelete(ClassDisplayItem item);
    }

    public ClassAdapter(List<ClassDisplayItem> list, OnItemClickListener listener) {
        this.list = list;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_class, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        ClassDisplayItem item = list.get(position);

        holder.tvMaLH.setText(item.lopHoc.MaLH);
        holder.tvTenLH.setText(item.lopHoc.TenLH);
        holder.tvTenGV.setText("GVCN: " + (item.tenGV != null ? item.tenGV : "Chưa có"));
        holder.tvSiSo.setText("Sĩ số: " + item.siSo);

        // Gán sự kiện cho 4 nút
        holder.btnAddStudent.setOnClickListener(v -> listener.onAddStudent(item));
        holder.btnStats.setOnClickListener(v -> listener.onStats(item));
        holder.btnEdit.setOnClickListener(v -> listener.onEdit(item));
        holder.btnDelete.setOnClickListener(v -> listener.onDelete(item));
    }

    @Override
    public int getItemCount() { return list == null ? 0 : list.size(); }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvMaLH, tvTenLH, tvTenGV, tvSiSo;
        ImageView btnAddStudent, btnStats, btnEdit, btnDelete;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvMaLH = itemView.findViewById(R.id.tvMaLH);
            tvTenLH = itemView.findViewById(R.id.tvTenLH);
            tvTenGV = itemView.findViewById(R.id.tvTenGV);
            tvSiSo = itemView.findViewById(R.id.tvSiSo);

            btnAddStudent = itemView.findViewById(R.id.btnAddStudent);
            btnStats = itemView.findViewById(R.id.btnStats);
            btnEdit = itemView.findViewById(R.id.btnEditClass);
            btnDelete = itemView.findViewById(R.id.btnDeleteClass);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\CourseAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.annotation.SuppressLint;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.LinearLayout;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.model.ActivityItem;
import java.util.List;

public class CourseAdapter extends RecyclerView.Adapter<CourseAdapter.ViewHolder> {

    private final List<ActivityItem> items;
    private final OnItemClickListener listener;

    public interface OnItemClickListener {
        void onItemClick(int position);
    }

    public CourseAdapter(List<ActivityItem> items, OnItemClickListener listener) {
        this.items = items;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_course, parent, false);
        return new ViewHolder(view);
    }

    @SuppressLint("SetTextI18n")
    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        ActivityItem item = items.get(position);
        holder.tvAuthor.setText(item.getAuthor());
        holder.tvDate.setText(item.getDate());
        holder.tvTitle.setText(item.getTitle());
        holder.tvViews.setText(item.getViews() + " views");

        if (item.getFileName() != null && !item.getFileName().isEmpty()) {
            holder.tvFileName.setText(item.getFileName());
            if(holder.layoutFile != null) holder.layoutFile.setVisibility(View.VISIBLE);
            else holder.tvFileName.setVisibility(View.VISIBLE);
        } else {
            if(holder.layoutFile != null) holder.layoutFile.setVisibility(View.GONE);
            else holder.tvFileName.setVisibility(View.GONE);
        }

        holder.itemView.setOnClickListener(v -> {
            if (listener != null) {
                listener.onItemClick(position);
            }
        });
    }

    @Override
    public int getItemCount() {
        return items.size();
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvAuthor, tvDate, tvTitle, tvFileName, tvViews;
        LinearLayout layoutFile;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvAuthor = itemView.findViewById(R.id.tvAuthor);
            tvDate = itemView.findViewById(R.id.tvDate);
            tvTitle = itemView.findViewById(R.id.tvTitle);
            tvFileName = itemView.findViewById(R.id.tvFileName);
            tvViews = itemView.findViewById(R.id.tvViews);

            if (tvFileName.getParent() instanceof LinearLayout) {
                layoutFile = (LinearLayout) tvFileName.getParent();
                if(layoutFile.getId() == View.NO_ID) layoutFile = null;
            }
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\GradeAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.R;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Entity.HocVien;

import java.util.List;
import java.util.concurrent.Executors;

public class GradeAdapter extends RecyclerView.Adapter<GradeAdapter.ViewHolder> {

    private final Context context;
    private final List<Diem> listDiem;
    private final AppDatabase db;

    public GradeAdapter(Context context, List<Diem> listDiem) {
        this.context = context;
        this.listDiem = listDiem;
        this.db = AppDatabase.getDatabase(context);
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(context).inflate(R.layout.item_grade, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        Diem diem = listDiem.get(position);

        // Hiển thị điểm số và nhận xét
        holder.tvScore.setText(String.valueOf(diem.SoDiem));
        holder.tvFeedback.setText("Nhận xét: " + (diem.NhanXet != null ? diem.NhanXet : "(Không có nhận xét)"));

        // Lấy tên bài tập VÀ tên học viên (để hỗ trợ Giáo viên xem)
        Executors.newSingleThreadExecutor().execute(() -> {
            BaiTap bt = db.baiTapDao().getByIdSync(diem.MaBT);
            HocVien hv = db.hocVienDao().getByIdSync(diem.MaHV);
            
            String assignmentName = (bt != null) ? bt.TenBT : "MaBT: " + diem.MaBT;
            String studentName = (hv != null) ? hv.getTenHV() : "MaHV: " + diem.MaHV;
            
            // Nếu người xem là giáo viên (hoặc để tổng quát), ta có thể hiển thị thêm tên học viên
            // Tuy nhiên, logic này sẽ hiển thị: "Tên Học Viên - Tên Bài Tập"
            // Hoặc nếu muốn đơn giản, ta kiểm tra context hoặc chỉ hiển thị tên bài tập nếu là học viên xem.
            // Nhưng ở đây ta cứ hiển thị cả hai nếu có thông tin để rõ ràng.
            
            final String finalTitle = studentName + " - " + assignmentName;

            if (context instanceof android.app.Activity) {
                ((android.app.Activity) context).runOnUiThread(() -> {
                    holder.tvTitle.setText(finalTitle);
                });
            }
        });
    }

    @Override
    public int getItemCount() {
        return listDiem.size();
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvTitle, tvScore, tvFeedback;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvTitle = itemView.findViewById(R.id.tv_grade_title);
            tvScore = itemView.findViewById(R.id.tv_grade_score);
            tvFeedback = itemView.findViewById(R.id.tv_grade_feedback);
        }
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\HocVienAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.R;
import com.example.studentportalapp.model.StudentItem; // Nhớ import file vừa tạo

import java.util.List;

public class HocVienAdapter extends RecyclerView.Adapter<HocVienAdapter.ViewHolder> {

    private Context context;
    private List<StudentItem> list; // Đổi từ HocVien sang StudentItem
    private OnItemClickListener listener;

    public interface OnItemClickListener {
        void onEdit(com.example.studentportalapp.data.Entity.HocVien hv);
        void onDelete(com.example.studentportalapp.data.Entity.HocVien hv);
    }

    public HocVienAdapter(Context context, List<StudentItem> list, OnItemClickListener listener) {
        this.context = context;
        this.list = list;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(context).inflate(R.layout.item_hocvien, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        StudentItem item = list.get(position);

        // Hiển thị thông tin
        holder.tvTen.setText(item.hocVien.getTenHV());
        holder.tvEmail.setText(item.hocVien.getEmail());

        // Hiển thị danh sách lớp (Lấy từ biến classNames đã chuẩn bị sẵn)
        if (item.classNames == null || item.classNames.isEmpty()) {
            holder.tvLop.setText("Lớp: Chưa xếp lớp");
        } else {
            holder.tvLop.setText("Lớp: " + item.classNames);
        }

        // Sự kiện click
        holder.btnEdit.setOnClickListener(v -> listener.onEdit(item.hocVien));
        holder.btnDelete.setOnClickListener(v -> listener.onDelete(item.hocVien));
    }

    @Override
    public int getItemCount() {
        return list == null ? 0 : list.size();
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvTen, tvEmail, tvLop;
        Button btnEdit, btnDelete;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            // Ánh xạ đúng ID trong item_hocvien.xml mới
            tvTen = itemView.findViewById(R.id.tvHoTenHV);
            tvEmail = itemView.findViewById(R.id.tvEmailHV);
            tvLop = itemView.findViewById(R.id.tvMaLopHV);
            btnEdit = itemView.findViewById(R.id.btnEditHV);
            btnDelete = itemView.findViewById(R.id.btnDeleteHV);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\NotificationAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.content.Intent;
import android.content.SharedPreferences;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import android.widget.Toast;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.AssignmentActivity;
import com.example.studentportalapp.CourseActivity;
import com.example.studentportalapp.GradeActivity;
import com.example.studentportalapp.R;
import com.example.studentportalapp.ViewSubmissionsActivity;
import com.example.studentportalapp.data.Entity.ThongBao;
import java.util.List;

public class NotificationAdapter extends RecyclerView.Adapter<NotificationAdapter.ViewHolder> {

    private final List<ThongBao> list;

    public NotificationAdapter(List<ThongBao> list) {
        this.list = list;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_notification, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        if (list == null || position >= list.size()) return;
        
        ThongBao tb = list.get(position);
        if (tb == null) return;

        holder.tvContent.setText(tb.NoiDung != null ? tb.NoiDung : "");
        holder.tvDate.setText(tb.NgayTao != null ? tb.NgayTao : "");
        
        if (tb.IsRead) {
            holder.layoutClick.setAlpha(0.6f);
        } else {
            holder.layoutClick.setAlpha(1.0f);
        }

        // Xử lý sự kiện click chuyển trang
        holder.layoutClick.setOnClickListener(v -> {
            Context context = v.getContext();
            try {
                if (tb.LoaiTB == null || tb.LoaiTB.isEmpty()) {
                    Toast.makeText(context, "Thông báo không có dữ liệu điều hướng", Toast.LENGTH_SHORT).show();
                    return;
                }

                Intent intent = null;
                switch (tb.LoaiTB) {
                    case "ASSIGNMENT":
                        if (tb.TargetId != null) {
                            SharedPreferences.Editor editor = context.getSharedPreferences("UserSession", Context.MODE_PRIVATE).edit();
                            editor.putString("CURRENT_CLASS_ID", tb.TargetId);
                            editor.apply();
                            intent = new Intent(context, AssignmentActivity.class);
                        }
                        break;
                    case "LECTURE":
                        if (tb.TargetId != null) {
                            SharedPreferences.Editor editor = context.getSharedPreferences("UserSession", Context.MODE_PRIVATE).edit();
                            editor.putString("CURRENT_CLASS_ID", tb.TargetId);
                            editor.apply();
                            // SỬA: Link tới màn hình Bài Giảng (CourseActivity)
                            intent = new Intent(context, CourseActivity.class);
                        }
                        break;
                    case "GRADE":
                        intent = new Intent(context, GradeActivity.class);
                        if (tb.TargetId != null) {
                            intent.putExtra("TARGET_CLASS_ID", tb.TargetId);
                        }
                        break;
                    case "SUBMISSION":
                        if (tb.TargetId != null) {
                            intent = new Intent(context, ViewSubmissionsActivity.class);
                            intent.putExtra("MA_BT", tb.TargetId);
                            intent.putExtra("TEN_BT", "Chi tiết bài nộp");
                        }
                        break;
                }

                if (intent != null) {
                    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    context.startActivity(intent);
                } else {
                    Toast.makeText(context, "Không tìm thấy trang liên kết", Toast.LENGTH_SHORT).show();
                }
            } catch (Exception e) {
                Toast.makeText(context, "Lỗi: " + e.getMessage(), Toast.LENGTH_SHORT).show();
            }
        });
    }

    @Override
    public int getItemCount() {
        return list != null ? list.size() : 0;
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvContent, tvDate;
        View layoutClick;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvContent = itemView.findViewById(R.id.tv_noti_content);
            tvDate = itemView.findViewById(R.id.tv_noti_date);
            layoutClick = itemView;
        }
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\PeopleAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.R;
import com.example.studentportalapp.model.Person;

import java.util.List;

public class PeopleAdapter extends RecyclerView.Adapter<PeopleAdapter.ViewHolder> {

    private final List<Person> peopleList;

    public PeopleAdapter(List<Person> peopleList) {
        this.peopleList = peopleList;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext())
                .inflate(R.layout.item_person, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        Person person = peopleList.get(position);
        holder.txtName.setText(person.getName());
        holder.txtRole.setText(person.getRole());
    }

    @Override
    public int getItemCount() {
        return peopleList.size();
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView txtName, txtRole;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            txtName = itemView.findViewById(R.id.txtName);
            txtRole = itemView.findViewById(R.id.txtRole);
        }
    }
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\StatsAssignmentAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.model.StatsAssignmentItem;
import java.util.List;

public class StatsAssignmentAdapter extends RecyclerView.Adapter<StatsAssignmentAdapter.ViewHolder> {

    private final List<StatsAssignmentItem> list;
    private final OnItemClickListener listener;

    public interface OnItemClickListener {
        void onClick(StatsAssignmentItem item);
    }

    public StatsAssignmentAdapter(List<StatsAssignmentItem> list, OnItemClickListener listener) {
        this.list = list;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_stats_assignment, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        StatsAssignmentItem item = list.get(position);
        holder.tvName.setText(item.baiTap.TenBT);
        holder.tvCount.setText("Đã chấm: " + item.submissionCount);

        if (item.submissionCount > 0) {
            holder.tvAvg.setText(String.format("TB: %.2f", item.averageScore));
        } else {
            holder.tvAvg.setText("Chưa có điểm");
        }

        holder.itemView.setOnClickListener(v -> listener.onClick(item));
    }

    @Override
    public int getItemCount() { return list.size(); }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvName, tvAvg, tvCount;
        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvName = itemView.findViewById(R.id.tvAssignmentName);
            tvAvg = itemView.findViewById(R.id.tvAvgScore);
            tvCount = itemView.findViewById(R.id.tvSubmissionCount);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\StatsStudentAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.model.StatsStudentItem;
import java.util.List;

public class StatsStudentAdapter extends RecyclerView.Adapter<StatsStudentAdapter.ViewHolder> {

    private final List<StatsStudentItem> list;

    public StatsStudentAdapter(List<StatsStudentItem> list) {
        this.list = list;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_stats_student, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        StatsStudentItem item = list.get(position);
        holder.tvName.setText(item.hocVien.getTenHV());
        holder.tvId.setText(item.hocVien.getMaHV());

        if (item.hasScore) {
            holder.tvScore.setText(String.valueOf(item.score));
            holder.tvScore.setTextColor(android.graphics.Color.parseColor("#FF9800"));
        } else {
            holder.tvScore.setText("-");
            holder.tvScore.setTextColor(android.graphics.Color.GRAY);
        }
    }

    @Override
    public int getItemCount() { return list.size(); }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvName, tvId, tvScore;
        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvName = itemView.findViewById(R.id.tvStudentName);
            tvId = itemView.findViewById(R.id.tvStudentID);
            tvScore = itemView.findViewById(R.id.tvScore);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\SubmissionsAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.content.SharedPreferences;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TextView;
import android.widget.Toast;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.example.studentportalapp.R;
import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.NopBai;
import com.example.studentportalapp.data.Entity.ThongBao;

import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.List;
import java.util.Locale;
import java.util.concurrent.Executors;

public class SubmissionsAdapter extends RecyclerView.Adapter<SubmissionsAdapter.ViewHolder> {

    private final Context context;
    private final List<NopBai> list;
    private final OnItemClickListener listener;
    private final AppDatabase db;
    private final String currentMaGV;

    public interface OnItemClickListener {
        void onItemClick(NopBai nb);
    }

    public SubmissionsAdapter(Context context, List<NopBai> list, OnItemClickListener listener) {
        this.context = context;
        this.list = list;
        this.listener = listener;
        this.db = AppDatabase.getDatabase(context);
        SharedPreferences prefs = context.getSharedPreferences("UserSession", Context.MODE_PRIVATE);
        this.currentMaGV = prefs.getString("KEY_USER_ID", "");
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(context).inflate(R.layout.item_submission, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        NopBai nb = list.get(position);

        holder.tvId.setText("Mã HV: " + nb.MaHV);
        holder.tvDate.setText(nb.NgayNop);
        holder.tvNote.setText("Ghi chú: " + (nb.GhiChu != null && !nb.GhiChu.isEmpty() ? nb.GhiChu : "(Không có ghi chú)"));

        if (nb.FileName != null && !nb.FileName.isEmpty()) {
            holder.tvFileName.setText(nb.FileName);
            holder.layoutFile.setVisibility(View.VISIBLE);
        } else {
            holder.layoutFile.setVisibility(View.GONE);
        }

        // 1. Load tên học viên và ĐIỂM CŨ (nếu có)
        Executors.newSingleThreadExecutor().execute(() -> {
            HocVien hv = db.hocVienDao().getByIdSync(nb.MaHV);
            
            if (context instanceof androidx.lifecycle.LifecycleOwner) {
                ((android.app.Activity) context).runOnUiThread(() -> {
                    if (hv != null) holder.tvName.setText(hv.getTenHV());
                    
                    db.diemDao().getByHocVienBaiTap(nb.MaHV, nb.MaBT).observe((androidx.lifecycle.LifecycleOwner) context, existingDiem -> {
                        if (existingDiem != null) {
                            holder.etGrade.setText(String.valueOf(existingDiem.SoDiem));
                            holder.etFeedback.setText(existingDiem.NhanXet);
                            holder.btnSaveGrade.setText("Cập nhật điểm");
                        } else {
                            holder.etGrade.setText("");
                            holder.etFeedback.setText("");
                            holder.btnSaveGrade.setText("Lưu điểm & Nhận xét");
                        }
                    });
                });
            }
        });

        // 2. Xử lý nút Lưu điểm
        holder.btnSaveGrade.setOnClickListener(v -> {
            String gradeStr = holder.etGrade.getText().toString().trim();
            String feedback = holder.etFeedback.getText().toString().trim();

            if (gradeStr.isEmpty()) {
                Toast.makeText(context, "Vui lòng nhập điểm!", Toast.LENGTH_SHORT).show();
                return;
            }

            try {
                double grade = Double.parseDouble(gradeStr);
                Diem diemObj = new Diem();
                diemObj.MaHV = nb.MaHV;
                diemObj.MaBT = nb.MaBT;
                diemObj.MaGV = currentMaGV;
                diemObj.SoDiem = grade;
                diemObj.NhanXet = feedback;

                Executors.newSingleThreadExecutor().execute(() -> {
                    db.diemDao().insert(diemObj);
                    
                    // GỬI THÔNG BÁO CHO HỌC VIÊN KHI CÓ ĐIỂM
                    BaiTap bt = db.baiTapDao().getByIdSync(nb.MaBT);
                    if (bt != null) {
                        ThongBao tb = new ThongBao();
                        tb.NoiDung = "Giáo viên đã chấm điểm bài: " + bt.TenBT + " (Điểm: " + grade + ")";
                        tb.NgayTao = new SimpleDateFormat("dd/MM/yyyy HH:mm", Locale.getDefault()).format(new Date());
                        tb.NguoiNhan = nb.MaHV; // Gửi riêng cho học viên này
                        tb.LoaiTB = "GRADE"; // QUAN TRỌNG
                        tb.TargetId = bt.MaLH; // Mã lớp học để điều hướng
                        db.thongBaoDao().insert(tb);
                    }

                    if (context instanceof android.app.Activity) {
                        ((android.app.Activity) context).runOnUiThread(() -> {
                            Toast.makeText(context, "Đã lưu điểm và thông báo cho học viên!", Toast.LENGTH_SHORT).show();
                        });
                    }
                });
            } catch (NumberFormatException e) {
                Toast.makeText(context, "Điểm không hợp lệ!", Toast.LENGTH_SHORT).show();
            }
        });

        holder.itemView.setOnClickListener(v -> listener.onItemClick(nb));
    }

    @Override
    public int getItemCount() {
        return list.size();
    }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvId, tvDate, tvNote, tvName, tvFileName;
        EditText etGrade, etFeedback;
        Button btnSaveGrade;
        View layoutFile;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvName = itemView.findViewById(R.id.tv_submitter_name);
            tvId = itemView.findViewById(R.id.tv_submitter_id);
            tvDate = itemView.findViewById(R.id.tv_submit_date);
            tvNote = itemView.findViewById(R.id.tv_submit_note);
            tvFileName = itemView.findViewById(R.id.tv_submission_file_name);
            layoutFile = itemView.findViewById(R.id.layout_submission_file);
            
            etGrade = itemView.findViewById(R.id.et_grade);
            etFeedback = itemView.findViewById(R.id.et_feedback);
            btnSaveGrade = itemView.findViewById(R.id.btn_save_grade);
        }
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\TaskAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.content.Intent;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.Button;
import android.widget.TextView;

import com.example.studentportalapp.R;
import com.example.studentportalapp.SubmitAssignmentActivity;
import com.example.studentportalapp.ViewSubmissionsActivity;
import com.example.studentportalapp.model.Task;

import java.util.List;

public class TaskAdapter extends BaseAdapter {

    private Context context;
    private List<Task> taskList;

    public TaskAdapter(Context context, List<Task> taskList) {
        this.context = context;
        this.taskList = taskList;
    }

    @Override
    public int getCount() {
        return taskList.size();
    }

    @Override
    public Object getItem(int position) {
        return taskList.get(position);
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        ViewHolder holder;

        if (convertView == null) {
            convertView = LayoutInflater.from(context).inflate(R.layout.item_task, parent, false);
            holder = new ViewHolder();

            holder.tvTaskTitle = convertView.findViewById(R.id.tv_task_title);
            holder.tvTaskSubject = convertView.findViewById(R.id.tv_task_subject);
            holder.tvTaskDue = convertView.findViewById(R.id.tv_task_due);
            holder.btnSubmit = convertView.findViewById(R.id.btn_submit);
            holder.tvSubmissionCount = convertView.findViewById(R.id.tv_submission_count);

            convertView.setTag(holder);
        } else {
            holder = (ViewHolder) convertView.getTag();
        }

        Task task = taskList.get(position);

        holder.tvTaskTitle.setText(task.getTitle());
        holder.tvTaskSubject.setText(task.getSubject());
        holder.tvTaskDue.setText(task.getDueDate());

        if ("HOCVIEN".equals(task.getUserRole())) {
            holder.btnSubmit.setVisibility(View.VISIBLE);
            holder.tvSubmissionCount.setVisibility(View.GONE);
            holder.btnSubmit.setOnClickListener(v -> {
                Intent intent = new Intent(context, SubmitAssignmentActivity.class);
                intent.putExtra("MA_BT", task.getMaBT());
                context.startActivity(intent);
            });
        } else if ("GIAOVIEN".equals(task.getUserRole())) {
            holder.btnSubmit.setVisibility(View.GONE);
            holder.tvSubmissionCount.setVisibility(View.VISIBLE);
            String submissionText = "Đã nộp: " + task.getSubmissionCount() + "/" + task.getTotalStudents();
            holder.tvSubmissionCount.setText(submissionText);
            convertView.setOnClickListener(v -> {
                Intent intent = new Intent(context, ViewSubmissionsActivity.class);
                intent.putExtra("MA_BT", task.getMaBT());
                intent.putExtra("TEN_BT", task.getTitle());
                context.startActivity(intent);
            });
        }

        return convertView;
    }

    static class ViewHolder {
        TextView tvTaskTitle, tvTaskSubject, tvTaskDue, tvSubmissionCount;
        Button btnSubmit;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\TeacherAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.model.TeacherDisplayItem;
import java.util.List;

public class TeacherAdapter extends RecyclerView.Adapter<TeacherAdapter.ViewHolder> {

    private Context context;
    private List<TeacherDisplayItem> list;
    private OnItemClickListener listener;

    public interface OnItemClickListener {
        void onEdit(TeacherDisplayItem item);
        void onDelete(TeacherDisplayItem item);
        void onViewClasses(TeacherDisplayItem item); // Nút mới
    }

    public TeacherAdapter(Context context, List<TeacherDisplayItem> list, OnItemClickListener listener) {
        this.context = context;
        this.list = list;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View view = LayoutInflater.from(context).inflate(R.layout.item_teacher, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        TeacherDisplayItem item = list.get(position);

        holder.tvTen.setText(item.giaoVien.getTenGV());
        holder.tvMa.setText("MSGV: " + item.giaoVien.getMaGV());
        holder.tvEmail.setText(item.giaoVien.getEmail());
        holder.tvCount.setText(String.valueOf(item.classCount));

        // Sự kiện click 3 nút
        holder.btnEdit.setOnClickListener(v -> listener.onEdit(item));
        holder.btnDelete.setOnClickListener(v -> listener.onDelete(item));
        holder.btnViewClasses.setOnClickListener(v -> listener.onViewClasses(item));
    }

    @Override
    public int getItemCount() { return list == null ? 0 : list.size(); }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvTen, tvMa, tvEmail, tvCount;
        TextView btnEdit, btnDelete, btnViewClasses;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            tvTen = itemView.findViewById(R.id.tvTenGV);
            tvMa = itemView.findViewById(R.id.tvMaGV);
            tvEmail = itemView.findViewById(R.id.tvEmailGV);
            tvCount = itemView.findViewById(R.id.tvClassCount);

            btnEdit = itemView.findViewById(R.id.btnEditGV);
            btnDelete = itemView.findViewById(R.id.btnDeleteGV);
            btnViewClasses = itemView.findViewById(R.id.btnViewClasses);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\adapter\UserCourseAdapter.java
==================================================
package com.example.studentportalapp.adapter;

import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ProgressBar;
import android.widget.TextView;
import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;
import com.example.studentportalapp.R;
import com.example.studentportalapp.data.Entity.LopHoc;
import java.util.List;
import java.util.Random;

public class UserCourseAdapter extends RecyclerView.Adapter<UserCourseAdapter.ViewHolder> {

    private Context context;
    private List<LopHoc> list;
    private OnItemClickListener listener;

    public interface OnItemClickListener {
        void onItemClick(LopHoc lopHoc);
    }

    public UserCourseAdapter(Context context, List<LopHoc> list, OnItemClickListener listener) {
        this.context = context;
        this.list = list;
        this.listener = listener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        // Layout mới đẹp hơn
        View view = LayoutInflater.from(context).inflate(R.layout.item_course_user, parent, false);
        return new ViewHolder(view);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        LopHoc lop = list.get(position);

        // 1. Set Tên Môn Học
        holder.tvName.setText(lop.TenLH);

        // 2. Set Mã Lớp | Tên GV (Gộp chung vào 1 dòng như thiết kế mới)
        String tenGV = (lop.MaGV == null) ? "Chưa phân công" : lop.MaGV;
        holder.tvCode.setText(lop.MaLH + " | GV: " + tenGV);

        // 3. Giả lập thanh tiến độ (Random cho đẹp vì chưa có database điểm danh)
        // Sau này có thể tính % dựa trên số buổi điểm danh
        int progress = new Random().nextInt(40) + 30; // Random từ 30% - 70%
        holder.progressBar.setProgress(progress);

        // Nếu trong layout bạn có TextView hiển thị % thì set ở đây (nếu không thì bỏ qua)
        // holder.tvPercent.setText(progress + "%");

        holder.itemView.setOnClickListener(v -> listener.onItemClick(lop));
    }

    @Override
    public int getItemCount() { return list == null ? 0 : list.size(); }

    public static class ViewHolder extends RecyclerView.ViewHolder {
        TextView tvName, tvCode;
        ProgressBar progressBar;

        public ViewHolder(@NonNull View itemView) {
            super(itemView);
            // Ánh xạ đúng với ID trong item_course_user.xml MỚI
            tvName = itemView.findViewById(R.id.tvCourseName);
            tvCode = itemView.findViewById(R.id.tvCourseCode);
            progressBar = itemView.findViewById(R.id.progressBar);
        }
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\AppDatabase.java
==================================================
package com.example.studentportalapp.data;

import android.content.Context;

import androidx.room.Database;
import androidx.room.Room;
import androidx.room.RoomDatabase;

import com.example.studentportalapp.data.Dao.GiaoVienDao;
import com.example.studentportalapp.data.Dao.BaiGiangDao;
import com.example.studentportalapp.data.Dao.BaiTapDao;
import com.example.studentportalapp.data.Dao.DiemDao;
import com.example.studentportalapp.data.Dao.HocVienDao;
import com.example.studentportalapp.data.Dao.LopHocDao;
import com.example.studentportalapp.data.Dao.NopBaiDao;
import com.example.studentportalapp.data.Dao.TaiKhoanDao;
import com.example.studentportalapp.data.Dao.ThamGiaDao;
import com.example.studentportalapp.data.Dao.ThongBaoDao;
import com.example.studentportalapp.data.Entity.BaiGiang;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.data.Entity.NopBai;
import com.example.studentportalapp.data.Entity.ThamGia;
import com.example.studentportalapp.data.Entity.TaiKhoan;
import com.example.studentportalapp.data.Entity.ThongBao;

import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

@Database(
        entities = {
                TaiKhoan.class,
                GiaoVien.class,
                HocVien.class,
                LopHoc.class,
                BaiGiang.class,
                BaiTap.class,
                ThamGia.class,
                Diem.class,
                NopBai.class,
                ThongBao.class
        },
        version = 10,
        exportSchema = false
)
public abstract class AppDatabase extends RoomDatabase {

    private static volatile AppDatabase INSTANCE;
    public static final ExecutorService databaseWriteExecutor = Executors.newFixedThreadPool(4);

    public abstract TaiKhoanDao taiKhoanDao();
    public abstract GiaoVienDao giaoVienDao();
    public abstract HocVienDao hocVienDao();
    public abstract LopHocDao lopHocDao();
    public abstract BaiGiangDao baiGiangDao();
    public abstract BaiTapDao baiTapDao();
    public abstract DiemDao diemDao();
    public abstract ThamGiaDao thamGiaDao();
    public abstract NopBaiDao nopBaiDao();
    public abstract ThongBaoDao thongBaoDao();

    public static AppDatabase getDatabase(final Context context) {
        if (INSTANCE == null) {
            synchronized (AppDatabase.class) {
                if (INSTANCE == null) {
                    INSTANCE = Room.databaseBuilder(
                                    context.getApplicationContext(),
                                    AppDatabase.class,
                                    "school_db"
                            )
                            .fallbackToDestructiveMigration(true)
                            .build();
                }
            }
        }
        return INSTANCE;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\TeacherItem.java
==================================================
package com.example.studentportalapp.data;

public class TeacherItem {
    public String MaGV;
    public String HoTen;
    public String Email;
    public TeacherItem(String MaGV, String HoTen, String Email) {
        this.MaGV = MaGV;
        this.HoTen = HoTen;
        this.Email = Email;
    }

    public TeacherItem() {

    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\BaiGiangDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.BaiGiang;

import java.util.List;

@Dao
public interface BaiGiangDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(BaiGiang bg);

    @Update
    void update(BaiGiang bg);

    @Delete
    void delete(BaiGiang bg);

    @Query("SELECT * FROM BAIGIANG WHERE MaLH = :maLH")
    LiveData<List<BaiGiang>> getByLop(String maLH);

    @Query("SELECT * FROM BAIGIANG")
    LiveData<List<BaiGiang>> getAll();

    @Query("SELECT * FROM BAIGIANG WHERE MaBG = :maBG")
    LiveData<BaiGiang> getById(String maBG);
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\BaiTapDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.BaiTap;

import java.util.List;

@Dao
public interface BaiTapDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(BaiTap bt);

    @Update
    void update(BaiTap bt);

    @Delete
    void delete(BaiTap bt);

    @Query("SELECT * FROM BAITAP WHERE MaLH = :maLH")
    LiveData<List<BaiTap>> getByLop(String maLH);

    @Query("SELECT * FROM BAITAP WHERE MaLH = :maLH")
    List<BaiTap> getByLopSync(String maLH);

    @Query("SELECT * FROM BAITAP")
    LiveData<List<BaiTap>> getAll();

    @Query("SELECT * FROM BAITAP WHERE MaBT = :maBT")
    LiveData<BaiTap> getById(String maBT);

    // Thêm phương thức này để lấy dữ liệu đồng bộ
    @Query("SELECT * FROM BAITAP WHERE MaBT = :maBT LIMIT 1")
    BaiTap getByIdSync(String maBT);
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\DiemDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.Diem;

import java.util.List;

@Dao
public interface DiemDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(Diem diem);

    @Update
    void update(Diem diem);

    @Delete
    void delete(Diem diem);

    @Query("SELECT * FROM DIEM WHERE MaHV = :maHV")
    LiveData<List<Diem>> getByHocVien(String maHV);

    @Query("SELECT * FROM DIEM WHERE MaBT = :maBT")
    LiveData<List<Diem>> getByBaiTap(String maBT);

    @Query("SELECT * FROM DIEM WHERE MaBT = :maBT")
    List<Diem> getByBaiTapSync(String maBT);

    @Query("SELECT * FROM DIEM")
    LiveData<List<Diem>> getAll();

    @Query("SELECT * FROM DIEM WHERE MaHV = :maHV AND MaBT = :maBT LIMIT 1")
    LiveData<Diem> getByHocVienBaiTap(String maHV, String maBT);
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\GiaoVienDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.TeacherItem;

import java.util.List;

@Dao
public interface GiaoVienDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(GiaoVien gv);

    @Update
    void update(GiaoVien gv);

    @Delete
    void delete(GiaoVien gv);

    @Query("SELECT * FROM GIAOVIEN")
    LiveData<List<GiaoVien>> getAll();

    @Query("SELECT * FROM GIAOVIEN WHERE MaGV = :id")
    LiveData<GiaoVien> getById(String id);
    @Query("SELECT * FROM GIAOVIEN")
    List<GiaoVien> getAllSync();
    @Query("SELECT MaGV, TenGV AS HoTen, Email FROM GIAOVIEN")
    List<TeacherItem> getAllTeacherItems();

    @Query("DELETE FROM GIAOVIEN WHERE MaGV = :maGV")
    void deleteByMaGV(String maGV);

}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\HocVienDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.HocVien;

import java.util.List;

@Dao
public interface HocVienDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(HocVien hv);

    @Update
    void update(HocVien hv);

    @Delete
    void delete(HocVien hv);

    @Query("SELECT * FROM HOCVIEN")
    LiveData<List<HocVien>> getAll();

    @Query("SELECT * FROM HOCVIEN")
    List<HocVien> getAllSync();

    @Query("SELECT * FROM HOCVIEN WHERE MaHV = :id")
    LiveData<HocVien> getById(String id);

    @Query("SELECT * FROM HOCVIEN WHERE MaHV = :id LIMIT 1")
    HocVien getByIdSync(String id);

    @Query("SELECT * FROM HOCVIEN WHERE MaTK = :maTK LIMIT 1")
    HocVien getByMaTKSync(String maTK);
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\LopHocDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.LopHoc;

import java.util.List;

@Dao
public interface LopHocDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(LopHoc lh);

    @Update
    void update(LopHoc lh);

    @Delete
    void delete(LopHoc lh);

    @Query("SELECT * FROM LOPHOC")
    LiveData<List<LopHoc>> getAll();

    @Query("SELECT COUNT(*) FROM LOPHOC WHERE MaGV = :maGV")
    int countClassesByTeacher(String maGV);

    @Query("SELECT TenLH FROM LOPHOC WHERE MaGV = :maGV")
    List<String> getClassNamesByTeacher(String maGV);

    @Query("SELECT * FROM LOPHOC WHERE MaLH = :maLH LIMIT 1")
    LopHoc getByIdSync(String maLH); // Đổi tên thành getByIdSync để khớp với SubmitAssignmentActivity

    @Query("SELECT * FROM LOPHOC WHERE MaGV = :maGV")
    List<LopHoc> getClassesByTeacher(String maGV);
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\NopBaiDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;

import com.example.studentportalapp.data.Entity.NopBai;

import java.util.List;

@Dao
public interface NopBaiDao {
    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(NopBai nopBai);

    @Query("SELECT * FROM NOPBAI WHERE MaBT = :maBT")
    LiveData<List<NopBai>> getByBaiTap(String maBT);

    @Query("SELECT * FROM NOPBAI WHERE MaBT = :maBT AND MaHV = :maHV LIMIT 1")
    NopBai getSubmission(String maBT, String maHV);

    @Query("SELECT COUNT(*) FROM NOPBAI WHERE MaBT = :maBT")
    int countSubmissionsForAssignment(String maBT);
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\TaiKhoanDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.TaiKhoan;

import java.util.List;

@Dao
public interface TaiKhoanDao {

    @Insert(onConflict = OnConflictStrategy.REPLACE)
    void insert(TaiKhoan tk);

    @Update
    void update(TaiKhoan tk);

    @Delete
    void delete(TaiKhoan tk);

    @Query("SELECT * FROM TAIKHOAN WHERE MaTK = :id")
    TaiKhoan getById(String id);

    @Query("SELECT * FROM TAIKHOAN")
    LiveData<List<TaiKhoan>> getAll();
    @Query("SELECT * FROM TAIKHOAN")
    List<TaiKhoan> getAllSync();
    @Query("SELECT COUNT(*) FROM TaiKhoan WHERE VaiTro = :role")
    int countUsersByRole(String role);
    @Query("SELECT * FROM TAIKHOAN WHERE Email = :email LIMIT 1")
    TaiKhoan getByEmail(String email);
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\ThamGiaDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.room.Dao;
import androidx.room.Delete;
import androidx.room.Insert;
import androidx.room.OnConflictStrategy;
import androidx.room.Query;

import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.data.Entity.ThamGia;

import java.util.List;

@Dao
public interface ThamGiaDao {
    @Insert(onConflict = OnConflictStrategy.IGNORE)
    void insert(ThamGia thamGia);

    @Delete
    void delete(ThamGia thamGia);

    // Lấy danh sách MaHV thuộc 1 lớp
    @Query("SELECT MaHV FROM THAMGIA WHERE MaLH = :maLH")
    List<String> getStudentIdsByClass(String maLH);

    // Đếm sĩ số (Cập nhật cho logic cũ)
    @Query("SELECT COUNT(*) FROM THAMGIA WHERE MaLH = :maLH")
    int countStudentsByClass(String maLH);
    // Trong ThamGiaDao.java
    @Query("SELECT MaLH FROM THAMGIA WHERE MaHV = :maHV")
    List<String> getClassIdsByStudent(String maHV);
    // Xóa học viên khỏi lớp cụ thể
    @Query("DELETE FROM THAMGIA WHERE MaHV = :maHV AND MaLH = :maLH")
    void removeStudentFromClass(String maHV, String maLH);
    @Query("SELECT LOPHOC.* FROM LOPHOC INNER JOIN THAMGIA ON LOPHOC.MaLH = THAMGIA.MaLH WHERE THAMGIA.MaHV = :maHV")
    List<LopHoc> getClassesByStudent(String maHV);
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Dao\ThongBaoDao.java
==================================================
package com.example.studentportalapp.data.Dao;

import androidx.lifecycle.LiveData;
import androidx.room.Dao;
import androidx.room.Insert;
import androidx.room.Query;
import androidx.room.Update;

import com.example.studentportalapp.data.Entity.ThongBao;

import java.util.List;

@Dao
public interface ThongBaoDao {
    @Insert
    void insert(ThongBao thongBao);

    @Query("SELECT * FROM THONGBAO WHERE NguoiNhan = :maTK OR NguoiNhan = 'ALL' OR NguoiNhan = :roleMarker ORDER BY NgayTao DESC")
    LiveData<List<ThongBao>> getByNguoiNhan(String maTK, String roleMarker);

    @Query("SELECT COUNT(*) FROM THONGBAO WHERE (NguoiNhan = :maTK OR NguoiNhan = 'ALL' OR NguoiNhan = :roleMarker) AND IsRead = 0")
    LiveData<Integer> getUnreadCount(String maTK, String roleMarker);

    @Update
    void update(ThongBao thongBao);

    @Query("UPDATE THONGBAO SET IsRead = 1 WHERE NguoiNhan = :maTK OR NguoiNhan = :roleMarker")
    void markAllAsRead(String maTK, String roleMarker);
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\BaiGiang.java
==================================================
package com.example.studentportalapp.data.Entity;
import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;
@Entity(
        tableName = "BAIGIANG",
        foreignKeys = {
                @ForeignKey(
                        entity = LopHoc.class,
                        parentColumns = "MaLH",
                        childColumns = "MaLH",
                        onDelete = ForeignKey.CASCADE
                ),
                @ForeignKey(
                        entity = GiaoVien.class,
                        parentColumns = "MaGV",
                        childColumns = "MaGV",
                        onDelete = ForeignKey.CASCADE
                )
        }
)
public class BaiGiang {
    public String FileName; // Tên file hiển thị (vd: slide_chuong1.pdf)
    public String FilePath;
    @PrimaryKey
    @NonNull
    public String MaBG;

    public String TenBG;

    @NonNull
    public String MaLH;

    @NonNull
    public String MaGV;

    public String NoiDung;
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\BaiTap.java
==================================================
package com.example.studentportalapp.data.Entity;
import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;
@Entity(
        tableName = "BAITAP",
        foreignKeys = {
                @ForeignKey(
                        entity = LopHoc.class,
                        parentColumns = "MaLH",
                        childColumns = "MaLH",
                        onDelete = ForeignKey.CASCADE
                )
        }
)
public class BaiTap {
    public String FileName;
    public String FilePath;
    @PrimaryKey
    @NonNull
    public String MaBT;

    public String TenBT;
    public String MoTa;
    public String Deadline;

    @NonNull
    public String MaLH;
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\Diem.java
==================================================
package com.example.studentportalapp.data.Entity;
import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;
@Entity(
        tableName = "DIEM",
        primaryKeys = {"MaHV", "MaBT"},
        foreignKeys = {
                @ForeignKey(
                        entity = HocVien.class,
                        parentColumns = "MaHV",
                        childColumns = "MaHV",
                        onDelete = ForeignKey.CASCADE
                ),
                @ForeignKey(
                        entity = BaiTap.class,
                        parentColumns = "MaBT",
                        childColumns = "MaBT",
                        onDelete = ForeignKey.CASCADE
                ),
                @ForeignKey(
                        entity = GiaoVien.class,
                        parentColumns = "MaGV",
                        childColumns = "MaGV",
                        onDelete = ForeignKey.CASCADE
                )
        }
)
public class Diem {

    @NonNull
    public String MaHV;

    @NonNull
    public String MaBT;

    @NonNull
    public String MaGV;

    public double SoDiem;

    public String NhanXet; // Thêm thuộc tính này
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\GiaoVien.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;

@Entity(
        tableName = "GIAOVIEN",
        foreignKeys = {
                @ForeignKey(
                        entity = TaiKhoan.class,
                        parentColumns = "MaTK",
                        childColumns = "MaTK",
                        onDelete = ForeignKey.CASCADE
                ),
        }
)
public class GiaoVien {

    @PrimaryKey
    @NonNull
    private String MaGV;

    private String TenGV;
    private String Email;



    @NonNull
    private String MaTK;

    // ================= GETTER / SETTER =================

    @NonNull
    public String getMaGV() {
        return MaGV;
    }

    public void setMaGV(@NonNull String maGV) {
        this.MaGV = maGV;
    }

    public String getTenGV() {
        return TenGV;
    }

    public void setTenGV(String tenGV) {
        this.TenGV = tenGV;
    }

    public String getEmail() {
        return Email;
    }

    public void setEmail(String email) {
        this.Email = email;
    }




    @NonNull
    public String getMaTK() {
        return MaTK;
    }

    public void setMaTK(@NonNull String maTK) {
        this.MaTK = maTK;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\HocVien.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;

@Entity(
        tableName = "HOCVIEN",
        foreignKeys = {

                @ForeignKey(
                        entity = TaiKhoan.class,
                        parentColumns = "MaTK",
                        childColumns = "MaTK",
                        onDelete = ForeignKey.CASCADE
                )
        }
)
public class HocVien {

    @PrimaryKey
    @NonNull
    private String MaHV;

    private String TenHV;
    private String Email;


    @NonNull
    private String MaTK;


    @NonNull
    public String getMaHV() { return MaHV; }

    public String getTenHV() { return TenHV; }

    public String getEmail() { return Email; }



    @NonNull
    public String getMaTK() { return MaTK; }

    public void setMaHV(@NonNull String maHV) { this.MaHV = maHV; }

    public void setTenHV(String tenHV) { this.TenHV = tenHV; }

    public void setEmail(String email) { this.Email = email; }


    public void setMaTK(@NonNull String maTK) { this.MaTK = maTK; }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\LopHoc.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;

@Entity(
        tableName = "LOPHOC",
        foreignKeys = @ForeignKey(
                entity = GiaoVien.class,
                parentColumns = "MaGV",
                childColumns = "MaGV",
                onDelete = ForeignKey.CASCADE
        )
)
public class LopHoc {

    @PrimaryKey
    @NonNull
    public String MaLH;

    public String TenLH;
    public String MoTa;

    @NonNull
    public String MaGV;
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\NopBai.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;
import androidx.room.PrimaryKey;

@Entity(
    tableName = "NOPBAI",
    foreignKeys = {
        @ForeignKey(entity = BaiTap.class, parentColumns = "MaBT", childColumns = "MaBT", onDelete = ForeignKey.CASCADE),
        @ForeignKey(entity = HocVien.class, parentColumns = "MaHV", childColumns = "MaHV", onDelete = ForeignKey.CASCADE)
    }
)
public class NopBai {
    @PrimaryKey
    @NonNull
    public String MaNB;
    public String MaBT;
    public String MaHV;
    public String FileName;
    public String FilePath;
    public String GhiChu;
    public String NgayNop;
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\TaiKhoan.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "TAIKHOAN")
public class TaiKhoan {

    @PrimaryKey
    @NonNull
    public String MaTK;

    public String HoTen;
    public String Email;
    public String MatKhau;
    public String VaiTro;
    public String getMaTK() { return MaTK; }
    public String getHoTen() { return HoTen; }
    public String getEmail() { return Email; }
    public String getMatKhau() { return MatKhau; }
    public String getVaiTro() { return VaiTro; }

    public void setMaTK(String maTK) { MaTK = maTK; }
    public void setHoTen(String hoTen) { HoTen = hoTen; }
    public void setEmail(String email) { Email = email; }
    public void setMatKhau(String matKhau) { MatKhau = matKhau; }
    public void setVaiTro(String vaiTro) { VaiTro = vaiTro; }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\ThamGia.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.ForeignKey;

@Entity(
        tableName = "THAMGIA",
        primaryKeys = {"MaHV", "MaLH"}, // Khóa chính là cặp đôi này (tránh trùng lặp)
        foreignKeys = {
                @ForeignKey(entity = HocVien.class, parentColumns = "MaHV", childColumns = "MaHV", onDelete = ForeignKey.CASCADE),
                @ForeignKey(entity = LopHoc.class, parentColumns = "MaLH", childColumns = "MaLH", onDelete = ForeignKey.CASCADE)
        }
)
public class ThamGia {
    @NonNull
    public String MaHV;

    @NonNull
    public String MaLH;

    public ThamGia(@NonNull String MaHV, @NonNull String MaLH) {
        this.MaHV = MaHV;
        this.MaLH = MaLH;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Entity\ThongBao.java
==================================================
package com.example.studentportalapp.data.Entity;

import androidx.annotation.NonNull;
import androidx.room.Entity;
import androidx.room.PrimaryKey;

@Entity(tableName = "THONGBAO")
public class ThongBao {
    @PrimaryKey
    @NonNull
    public String MaTB;
    public String NoiDung;
    public String NgayTao;
    public String NguoiNhan; // MaTK của người nhận, hoặc "ALL", "HOCVIEN", "GIAOVIEN"
    public String LoaiTB;    // "ASSIGNMENT", "LECTURE", "SUBMISSION", "GRADE"
    public String TargetId;  // MaBT, MaBG, hoặc MaLH tương ứng
    public boolean IsRead;

    public ThongBao() {
        this.MaTB = "TB" + System.currentTimeMillis();
        this.IsRead = false;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\BaiGiangRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiGiang;
import com.example.studentportalapp.data.Dao.BaiGiangDao;

import java.util.List;

public class BaiGiangRepository {

    private final BaiGiangDao baiGiangDao;

    public BaiGiangRepository(Application app) {
        baiGiangDao = AppDatabase.getDatabase(app).baiGiangDao();
    }

    public void insert(BaiGiang bg) {
        AppDatabase.databaseWriteExecutor.execute(() -> baiGiangDao.insert(bg));
    }

    public void update(BaiGiang bg) {
        AppDatabase.databaseWriteExecutor.execute(() -> baiGiangDao.update(bg));
    }

    public List<BaiGiang> getAll() {
        return baiGiangDao.getAll().getValue();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\BaiTapRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.BaiTap;
import com.example.studentportalapp.data.Dao.BaiTapDao;

import java.util.List;

public class BaiTapRepository {

    private final BaiTapDao baiTapDao;

    public BaiTapRepository(Application app) {
        baiTapDao = AppDatabase.getDatabase(app).baiTapDao();
    }

    public void insert(BaiTap bt) {
        AppDatabase.databaseWriteExecutor.execute(() -> baiTapDao.insert(bt));
    }

    public void update(BaiTap bt) {
        AppDatabase.databaseWriteExecutor.execute(() -> baiTapDao.update(bt));
    }

    public List<BaiTap> getAll() {
        return baiTapDao.getAll().getValue();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\DiemRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.Diem;
import com.example.studentportalapp.data.Dao.DiemDao;

import java.util.List;

public class DiemRepository {

    private final DiemDao diemDao;

    public DiemRepository(Application app) {
        diemDao = AppDatabase.getDatabase(app).diemDao();
    }

    public void insert(Diem diem) {
        AppDatabase.databaseWriteExecutor.execute(() -> diemDao.insert(diem));
    }

    public void update(Diem diem) {
        AppDatabase.databaseWriteExecutor.execute(() -> diemDao.update(diem));
    }

    public List<Diem> getAll() {
        return diemDao.getAll().getValue();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\GiaoVienRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.GiaoVien;
import com.example.studentportalapp.data.Dao.GiaoVienDao;

import java.util.List;

public class GiaoVienRepository {

    private final GiaoVienDao giaoVienDao;

    public GiaoVienRepository(Application app) {
        giaoVienDao = AppDatabase.getDatabase(app).giaoVienDao();
    }

    public void insert(GiaoVien gv) {
        AppDatabase.databaseWriteExecutor.execute(() -> giaoVienDao.insert(gv));
    }

    public void update(GiaoVien gv) {
        AppDatabase.databaseWriteExecutor.execute(() -> giaoVienDao.update(gv));
    }

    public List<GiaoVien> getAll() {
        return (List<GiaoVien>) giaoVienDao.getAll();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\HocVienRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.HocVien;
import com.example.studentportalapp.data.Dao.HocVienDao;

import java.util.List;

public class HocVienRepository {

    private final HocVienDao hocVienDao;

    public HocVienRepository(Application app) {
        hocVienDao = AppDatabase.getDatabase(app).hocVienDao();
    }

    public void insert(HocVien hv) {
        AppDatabase.databaseWriteExecutor.execute(() -> hocVienDao.insert(hv));
    }

    public void update(HocVien hv) {
        AppDatabase.databaseWriteExecutor.execute(() -> hocVienDao.update(hv));
    }

    public List<HocVien> getAll() {
        return hocVienDao.getAll().getValue();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\LopHocRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.LopHoc;
import com.example.studentportalapp.data.Dao.LopHocDao;

import java.util.List;

public class LopHocRepository {

    private final LopHocDao lopHocDao;

    public LopHocRepository(Application app) {
        lopHocDao = AppDatabase.getDatabase(app).lopHocDao();
    }

    public void insert(LopHoc lh) {
        AppDatabase.databaseWriteExecutor.execute(() -> lopHocDao.insert(lh));
    }

    public void update(LopHoc lh) {
        AppDatabase.databaseWriteExecutor.execute(() -> lopHocDao.update(lh));
    }

    public List<LopHoc> getAll() {
        return lopHocDao.getAll().getValue();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\TaiKhoanRepository.java
==================================================
package com.example.studentportalapp.data.Repository;

import android.app.Application;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Entity.TaiKhoan;
import com.example.studentportalapp.data.Dao.TaiKhoanDao;

import java.util.List;

public class TaiKhoanRepository {

    private final TaiKhoanDao taiKhoanDao;

    public TaiKhoanRepository(Application application) {
        AppDatabase db = AppDatabase.getDatabase(application);
        taiKhoanDao = db.taiKhoanDao();
    }

    public void insert(TaiKhoan tk) {
        AppDatabase.databaseWriteExecutor.execute(() -> taiKhoanDao.insert(tk));
    }

    public void update(TaiKhoan tk) {
        AppDatabase.databaseWriteExecutor.execute(() -> taiKhoanDao.update(tk));
    }

    public void delete(TaiKhoan tk) {
        AppDatabase.databaseWriteExecutor.execute(() -> taiKhoanDao.delete(tk));
    }

    public List<TaiKhoan> getAll() {
        return taiKhoanDao.getAll().getValue();
    }


}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserBaiGiangRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.BaiGiangDao;
import com.example.studentportalapp.data.Entity.BaiGiang;

import java.util.List;

public class UserBaiGiangRepository {

    private final BaiGiangDao baiGiangDao;

    public UserBaiGiangRepository(Application app) {
        baiGiangDao = AppDatabase.getDatabase(app).baiGiangDao();
    }

    public LiveData<BaiGiang> getBaiGiangById(String maBG) {
        return baiGiangDao.getById(maBG);
    }

    public LiveData<List<BaiGiang>> getAllBaiGiang() {
        return baiGiangDao.getAll();
    }
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserBaiTapRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.BaiTapDao;
import com.example.studentportalapp.data.Entity.BaiTap;

import java.util.List;

public class UserBaiTapRepository {

    private final BaiTapDao baiTapDao;

    public UserBaiTapRepository(Application app) {
        baiTapDao = AppDatabase.getDatabase(app).baiTapDao();
    }

    public LiveData<BaiTap> getBaiTapById(String MaBT) {
        return baiTapDao.getById(MaBT);
    }

    public LiveData<List<BaiTap>> getAllBaiTap() {
        return baiTapDao.getAll();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserDiemRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.DiemDao;
import com.example.studentportalapp.data.Entity.Diem;

import java.util.List;

public class UserDiemRepository {

    private final DiemDao diemDao;

    public UserDiemRepository(Application app) {
        diemDao = AppDatabase.getDatabase(app).diemDao();
    }

    // Lấy tất cả điểm của 1 học viên
    public LiveData<List<Diem>> getDiemByHocVien(String maHV) {
        return diemDao.getByHocVien(maHV);
    }

    // Lấy tất cả điểm của 1 bài tập
    public LiveData<List<Diem>> getDiemByBaiTap(String maBT) {
        return diemDao.getByBaiTap(maBT);
    }

    // Lấy tất cả điểm
    public LiveData<List<Diem>> getAllDiem() {
        return diemDao.getAll();
    }

    // Lấy điểm duy nhất của 1 học viên cho 1 bài tập
    public LiveData<Diem> getDiemHocVienBaiTap(String maHV, String maBT) {
        return diemDao.getByHocVienBaiTap(maHV, maBT);
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserGiaoVienRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.GiaoVienDao;
import com.example.studentportalapp.data.Entity.GiaoVien;

import java.util.List;

public class UserGiaoVienRepository {

    private final GiaoVienDao giaoVienDao;

    public UserGiaoVienRepository(Application app) {
        giaoVienDao = AppDatabase.getDatabase(app).giaoVienDao();
    }

    public LiveData<GiaoVien> getGiaoVienById(String id) {
        return giaoVienDao.getById(id);
    }

    public LiveData<List<GiaoVien>> getAllGiaoVien() {
        return giaoVienDao.getAll();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserHocVienRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.HocVienDao;
import com.example.studentportalapp.data.Entity.HocVien;

import java.util.List;

public class UserHocVienRepository {

    private final HocVienDao hocVienDao;

    public UserHocVienRepository(Application app) {
        hocVienDao = AppDatabase.getDatabase(app).hocVienDao();
    }

    public LiveData<HocVien> getHocVienById(String id) {
        return hocVienDao.getById(id);
    }

    public LiveData<List<HocVien>> getAllHocVien() {
        return hocVienDao.getAll();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserLopHocRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.LopHocDao;
import com.example.studentportalapp.data.Entity.LopHoc;

import java.util.List;

public class UserLopHocRepository {

    private final LopHocDao lopHocDao;

    public UserLopHocRepository(Application app) {
        lopHocDao = AppDatabase.getDatabase(app).lopHocDao();
    }

    public LopHoc getLopHocById(String id) {
        return lopHocDao.getByIdSync(id);
    }

    public LiveData<List<LopHoc>> getAllLopHoc() {
        return lopHocDao.getAll();
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\data\Repository\user\UserTaiKhoanRepository.java
==================================================
package com.example.studentportalapp.data.Repository.user;

import android.app.Application;

import androidx.lifecycle.LiveData;

import com.example.studentportalapp.data.AppDatabase;
import com.example.studentportalapp.data.Dao.TaiKhoanDao;
import com.example.studentportalapp.data.Entity.TaiKhoan;

import java.util.List;

public class UserTaiKhoanRepository {

    private final TaiKhoanDao taiKhoanDao;

    public UserTaiKhoanRepository(Application app) {
        taiKhoanDao = AppDatabase.getDatabase(app).taiKhoanDao();
    }

    public LiveData<List<TaiKhoan>> getAllTaiKhoan() {
        return taiKhoanDao.getAll(); // LiveData
    }

    public TaiKhoan getTaiKhoanById(String id) {
        return taiKhoanDao.getById(id); // ⚠ trực tiếp
    }

    public TaiKhoan getTaiKhoanByEmail(String email) {
        return taiKhoanDao.getByEmail(email);
    }

    public int countUsersByRole(String role) {
        return taiKhoanDao.countUsersByRole(role);
    }
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\ActivityItem.java
==================================================
package com.example.studentportalapp.model;

public class ActivityItem {
    private final String author;
    private final String date;
    private final String title;
    private final String fileName;
    private final String views;

    public ActivityItem(String author, String date, String title, String fileName, String views) {
        this.author = author;
        this.date = date;
        this.title = title;
        this.fileName = fileName;
        this.views = views;
    }

    public String getAuthor() { return author; }
    public String getDate() { return date; }
    public String getTitle() { return title; }
    public String getFileName() { return fileName; }
    public String getViews() { return views; }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\Assignment.java
==================================================
package com.example.studentportalapp.model;

public class Assignment {
    private String title, points, buttonText, author, date;

    public Assignment(String title, String points, String buttonText, String author, String date) {
        this.title = title;
        this.points = points;
        this.buttonText = buttonText;
        this.author = author;
        this.date = date;
    }

    public String getTitle() { return title; }
    public String getPoints() { return points; }
    public String getButtonText() { return buttonText; }
    public String getAuthor() { return author; }
    public String getDate() { return date; }
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\ClassDisplayItem.java
==================================================
package com.example.studentportalapp.model;

import com.example.studentportalapp.data.Entity.LopHoc;

public class ClassDisplayItem {
    public LopHoc lopHoc;
    public String tenGV;
    public int siSo;

    public ClassDisplayItem(LopHoc lopHoc, String tenGV, int siSo) {
        this.lopHoc = lopHoc;
        this.tenGV = tenGV;
        this.siSo = siSo;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\Person.java
==================================================
package com.example.studentportalapp.model;

public class Person {
    private String name;
    private String role;

    public Person(String name, String role) {
        this.name = name;
        this.role = role;
    }

    public String getName() {
        return name;
    }

    public String getRole() {
        return role;
    }
}



==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\StatsAssignmentItem.java
==================================================
package com.example.studentportalapp.model;

import com.example.studentportalapp.data.Entity.BaiTap;

public class StatsAssignmentItem {
    public BaiTap baiTap;
    public double averageScore;
    public int submissionCount;

    public StatsAssignmentItem(BaiTap baiTap, double averageScore, int submissionCount) {
        this.baiTap = baiTap;
        this.averageScore = averageScore;
        this.submissionCount = submissionCount;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\StatsStudentItem.java
==================================================
package com.example.studentportalapp.model;

import com.example.studentportalapp.data.Entity.HocVien;

public class StatsStudentItem {
    public HocVien hocVien;
    public double score;
    public boolean hasScore;

    public StatsStudentItem(HocVien hocVien, double score, boolean hasScore) {
        this.hocVien = hocVien;
        this.score = score;
        this.hasScore = hasScore;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\StudentItem.java
==================================================
package com.example.studentportalapp.model;

import com.example.studentportalapp.data.Entity.HocVien;

public class StudentItem {
    public HocVien hocVien;
    public String classNames; // Chuỗi tên lớp, ví dụ: "LH01, LH02"

    public StudentItem(HocVien hocVien, String classNames) {
        this.hocVien = hocVien;
        this.classNames = classNames;
    }
}

==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\Task.java
==================================================
package com.example.studentportalapp.model;

public class Task {
    String title, subject, dueDate, maBT, userRole;
    int submissionCount, totalStudents;

    // Constructor for students
    public Task(String title, String subject, String dueDate, String maBT, String userRole) {
        this.title = title;
        this.subject = subject;
        this.dueDate = dueDate;
        this.maBT = maBT;
        this.userRole = userRole;
    }

    // Constructor for teachers
    public Task(String title, String subject, String dueDate, String maBT, String userRole, int submissionCount, int totalStudents) {
        this.title = title;
        this.subject = subject;
        this.dueDate = dueDate;
        this.maBT = maBT;
        this.userRole = userRole;
        this.submissionCount = submissionCount;
        this.totalStudents = totalStudents;
    }

    public String getTitle() {
        return title;
    }

    public String getSubject() {
        return subject;
    }

    public String getDueDate() {
        return dueDate;
    }

    public String getMaBT() {
        return maBT;
    }

    public String getUserRole() {
        return userRole;
    }

    public int getSubmissionCount() {
        return submissionCount;
    }

    public int getTotalStudents() {
        return totalStudents;
    }
}


==================================================
FILE: app\src\main\java\com\example\studentportalapp\model\TeacherDisplayItem.java
==================================================
package com.example.studentportalapp.model;

import com.example.studentportalapp.data.Entity.GiaoVien;

public class TeacherDisplayItem {
    public GiaoVien giaoVien;
    public int classCount;

    public TeacherDisplayItem(GiaoVien giaoVien, int classCount) {
        this.giaoVien = giaoVien;
        this.classCount = classCount;
    }
}

==================================================
FILE: app\src\main\res\animator\scale_item.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true">
        <set>
            <objectAnimator
                android:propertyName="scaleX"
                android:duration="100"
                android:valueTo="0.97"
                android:valueType="floatType"/>
            <objectAnimator
                android:propertyName="scaleY"
                android:duration="100"
                android:valueTo="0.97"
                android:valueType="floatType"/>
            <objectAnimator
                android:propertyName="translationZ"
                android:duration="100"
                android:valueTo="0dp"
                android:valueType="floatType"/>
        </set>
    </item>
    <item>
        <set>
            <objectAnimator
                android:propertyName="scaleX"
                android:duration="150"
                android:valueTo="1.0"
                android:valueType="floatType"/>
            <objectAnimator
                android:propertyName="scaleY"
                android:duration="150"
                android:valueTo="1.0"
                android:valueType="floatType"/>
            <objectAnimator
                android:propertyName="translationZ"
                android:duration="150"
                android:valueTo="2dp"
                android:valueType="floatType"/>
        </set>
    </item>
</selector>


==================================================
FILE: app\src\main\res\color\nav_item_selector.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- Mục đang được chọn -->
    <item android:color="@color/blue" android:state_checked="true" />
    <!-- Mục không được chọn -->
    <item android:color="@color/darker_gray" />
</selector>


==================================================
FILE: app\src\main\res\drawable\bg_card.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="@android:color/transparent"/>
</shape>


==================================================
FILE: app\src\main\res\drawable\bg_card_people.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="@android:color/white" />
    <corners android:radius="12dp" />
    <stroke
        android:width="1dp"
        android:color="#E0E0E0" />
</shape>


==================================================
FILE: app\src\main\res\drawable\bg_circle.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval">
    <solid android:color="#ffe6ed" />
</shape>



==================================================
FILE: app\src\main\res\drawable\bg_file_link.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="#ffffff" />
    <corners android:radius="8dp" />
</shape>


==================================================
FILE: app\src\main\res\drawable\bg_home_header.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="#ffe6ed"/>
    <corners
        android:bottomLeftRadius="30dp"
        android:bottomRightRadius="30dp"/>
</shape>

==================================================
FILE: app\src\main\res\drawable\book_icon.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="28dp"
    android:height="30dp"
    android:viewportWidth="28"
    android:viewportHeight="30">
  <path
      android:pathData="M19.333,4H6.875C5.719,4 4,4.766 4,6.875V20.292C4,22.401 5.719,23.167 6.875,23.167H21.25V21.25H6.886C6.444,21.239 5.917,21.063 5.917,20.292C5.917,20.195 5.925,20.109 5.94,20.03C6.047,19.479 6.498,19.343 6.886,19.333H20.292C20.309,19.333 20.321,19.325 20.339,19.324H21.25V5.917C21.25,4.86 20.39,4 19.333,4ZM19.333,17.417H5.917V6.875C5.917,6.103 6.444,5.928 6.875,5.917H13.583V12.625L15.5,11.667L17.417,12.625V5.917H19.333V17.417Z"
      android:fillColor="#F8786F"/>
</vector>


==================================================
FILE: app\src\main\res\drawable\card_bg.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <shape xmlns:android="http://schemas.android.com/apk/res/android"
        android:shape="rectangle">
        <solid android:color="@android:color/white"/>
        <corners android:radius="16dp"/>
        <padding android:left="16dp" android:top="16dp" android:right="16dp" android:bottom="16dp"/>
    </shape>
</selector>

==================================================
FILE: app\src\main\res\drawable\circle_background.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <shape xmlns:android="http://schemas.android.com/apk/res/android"
        android:shape="oval">
        <size
            android:width="64dp"
            android:height="64dp" />
        <solid android:color="#E0E0E0" />  <!-- màu nền xám nhạt, bạn có thể đổi -->
    </shape>
</selector>

==================================================
FILE: app\src\main\res\drawable\circle_bg.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="oval">
    <size android:width="80dp" android:height="80dp"/>
    <solid android:color="#FFFFFFFF"/> <!-- nền trắng, đổi màu nếu muốn -->
    <stroke android:width="1dp" android:color="#DDDDDD"/> <!-- viền nhẹ -->
</shape>


==================================================
FILE: app\src\main\res\drawable\home.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="30dp"
    android:height="32dp"
    android:viewportWidth="30"
    android:viewportHeight="32">
  <path
      android:pathData="M5,11.708L13.625,5L22.25,11.708V22.25C22.25,22.758 22.048,23.246 21.689,23.605C21.329,23.965 20.842,24.167 20.333,24.167H6.917C6.408,24.167 5.921,23.965 5.561,23.605C5.202,23.246 5,22.758 5,22.25V11.708Z"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
  <path
      android:pathData="M10.75,24.167V14.583H16.5V24.167"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_add.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M440,520L200,520L200,440L440,440L440,200L520,200L520,440L760,440L760,520L520,520L520,760L440,760L440,520Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_arrow_back.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
  <path
      android:fillColor="#FF000000"
      android:pathData="M20,11H7.83l5.59,-5.59L12,4l-8,8 8,8 1.41,-1.41L7.83,13H20v-2z"/>
</vector>

==================================================
FILE: app\src\main\res\drawable\ic_assignment.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:autoMirrored="true" android:height="24dp" android:tint="#000000" android:viewportHeight="24" android:viewportWidth="24" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M19,3h-4.18C14.4,1.84 13.3,1 12,1c-1.3,0 -2.4,0.84 -2.82,2L5,3c-1.1,0 -2,0.9 -2,2v14c0,1.1 0.9,2 2,2h14c1.1,0 2,-0.9 2,-2L21,5c0,-1.1 -0.9,-2 -2,-2zM12,3c0.55,0 1,0.45 1,1s-0.45,1 -1,1 -1,-0.45 -1,-1 0.45,-1 1,-1zM14,17L7,17v-2h7v2zM17,13L7,13v-2h10v2zM17,9L7,9L7,7h10v2z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_attach_file.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M720,630Q720,734 647,807Q574,880 470,880Q366,880 293,807Q220,734 220,630L220,260Q220,185 272.5,132.5Q325,80 400,80Q475,80 527.5,132.5Q580,185 580,260L580,610Q580,656 548,688Q516,720 470,720Q424,720 392,688Q360,656 360,610L360,240L440,240L440,610Q440,623 448.5,631.5Q457,640 470,640Q483,640 491.5,631.5Q500,623 500,610L500,260Q499,218 470.5,189Q442,160 400,160Q358,160 329,189Q300,218 300,260L300,630Q299,701 349,750.5Q399,800 470,800Q540,800 589,750.5Q638,701 640,630L640,240L720,240L720,630Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_close.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M256,760L200,704L424,480L200,256L256,200L480,424L704,200L760,256L536,480L760,704L704,760L480,536L256,760Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_course.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M300,880Q242,880 201,839Q160,798 160,740L160,220Q160,162 201,121Q242,80 300,80L800,80L800,680Q775,680 757.5,697.5Q740,715 740,740Q740,765 757.5,782.5Q775,800 800,800L800,880L300,880ZM240,613Q254,606 269,603Q284,600 300,600L320,600L320,160L300,160Q275,160 257.5,177.5Q240,195 240,220L240,613ZM400,600L720,600L720,160L400,160L400,600ZM240,613Q240,613 240,613Q240,613 240,613L240,613L240,160L240,160Q240,160 240,160Q240,160 240,160L240,613ZM300,800L673,800Q667,786 663.5,771.5Q660,757 660,740Q660,724 663,709Q666,694 673,680L300,680Q274,680 257,697.5Q240,715 240,740Q240,766 257,783Q274,800 300,800Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_file.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M240,880Q207,880 183.5,856.5Q160,833 160,800L160,160Q160,127 183.5,103.5Q207,80 240,80L560,80L800,320L800,560L720,560L720,360L520,360L520,160L240,160Q240,160 240,160Q240,160 240,160L240,800Q240,800 240,800Q240,800 240,800L600,800L600,880L240,880ZM878,895L760,777L760,866L680,866L680,640L906,640L906,720L816,720L934,838L878,895ZM240,800L240,560L240,560L240,360L240,160L240,160Q240,160 240,160Q240,160 240,160L240,800Q240,800 240,800Q240,800 240,800Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_home.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M700,760L740,760L740,660L840,660L840,620L740,620L740,520L700,520L700,620L600,620L600,660L700,660L700,760ZM720,840Q637,840 578.5,781.5Q520,723 520,640Q520,557 578.5,498.5Q637,440 720,440Q803,440 861.5,498.5Q920,557 920,640Q920,723 861.5,781.5Q803,840 720,840ZM160,760L160,280L480,40L800,280L800,372Q781,366 761,363Q741,360 720,360L720,320L480,140L240,320L240,680L443,680Q446,701 452,721Q458,741 467,760L160,760ZM480,410L480,410L480,410L480,410L480,410Q480,410 480,410Q480,410 480,410Q480,410 480,410Q480,410 480,410Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_launcher_background.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path
        android:fillColor="#3DDC84"
        android:pathData="M0,0h108v108h-108z" />
    <path
        android:fillColor="#00000000"
        android:pathData="M9,0L9,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,0L19,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,0L29,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,0L39,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,0L49,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,0L59,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,0L69,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,0L79,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M89,0L89,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M99,0L99,108"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,9L108,9"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,19L108,19"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,29L108,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,39L108,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,49L108,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,59L108,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,69L108,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,79L108,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,89L108,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M0,99L108,99"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,29L89,29"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,39L89,39"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,49L89,49"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,59L89,59"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,69L89,69"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M19,79L89,79"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M29,19L29,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M39,19L39,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M49,19L49,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M59,19L59,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M69,19L69,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
    <path
        android:fillColor="#00000000"
        android:pathData="M79,19L79,89"
        android:strokeWidth="0.8"
        android:strokeColor="#33FFFFFF" />
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_launcher_foreground.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
    <path android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
        <aapt:attr name="android:fillColor">
            <gradient
                android:endX="85.84757"
                android:endY="92.4963"
                android:startX="42.9492"
                android:startY="49.59793"
                android:type="linear">
                <item
                    android:color="#44000000"
                    android:offset="0.0" />
                <item
                    android:color="#00000000"
                    android:offset="1.0" />
            </gradient>
        </aapt:attr>
    </path>
    <path
        android:fillColor="#FFFFFF"
        android:fillType="nonZero"
        android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
        android:strokeWidth="1"
        android:strokeColor="#00000000" />
</vector>

==================================================
FILE: app\src\main\res\drawable\ic_message.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:autoMirrored="true" android:height="24dp" android:tint="#000000" android:viewportHeight="24" android:viewportWidth="24" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M4,4h16v12L5.17,16L4,17.17L4,4m0,-2c-1.1,0 -1.99,0.9 -1.99,2L2,22l4,-4h14c1.1,0 2,-0.9 2,-2L22,4c0,-1.1 -0.9,-2 -2,-2L4,2zM6,12h12v2L6,14v-2zM6,9h12v2L6,11L6,9zM6,6h12v2L6,8L6,6z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_people.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="24" android:viewportWidth="24" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M20.5,6c-2.61,0.7 -5.67,1 -8.5,1s-5.89,-0.3 -8.5,-1L3,8c1.86,0.5 4,0.83 6,1v13h2v-6h2v6h2V9c2,-0.17 4.14,-0.5 6,-1l-0.5,-2zM12,6c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_people_active.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M360,880L360,351Q269,327 214.5,250.5Q160,174 160,80L240,80Q240,163 293.5,221.5Q347,280 430,280L530,280Q560,280 586,291Q612,302 633,323L814,504L758,560L600,402L600,880L520,880L520,640L440,640L440,880L360,880ZM480,240Q447,240 423.5,216.5Q400,193 400,160Q400,127 423.5,103.5Q447,80 480,80Q513,80 536.5,103.5Q560,127 560,160Q560,193 536.5,216.5Q513,240 480,240Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_person.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
  <group android:scaleX="0.82"
      android:scaleY="0.82"
      android:translateX="9.72"
      android:translateY="9.72">
      <path
          android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
          <aapt:attr name="android:fillColor">
              <gradient
                  android:startY="49.59793"
                  android:startX="42.9492"
                  android:endY="92.4963"
                  android:endX="85.84757"
                  android:type="linear">
                  <item
                      android:color="#44000000"
                      android:offset="0.0" />
                  <item
                      android:color="#00000000"
                      android:offset="1.0" />
              </gradient>
          </aapt:attr>
      </path>
      <path
          android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
          android:fillColor="#FFFFFF"
          android:fillType="nonZero"
          android:strokeWidth="1"
          android:strokeColor="#00000000"/>
  </group>
</vector>

==================================================
FILE: app\src\main\res\drawable\ic_profile.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M360,800L360,800L360,800L360,800Q360,800 360,800Q360,800 360,800Q360,800 360,800Q360,800 360,800ZM320,880Q303,880 291.5,868.5Q280,857 280,840L280,200Q280,183 291.5,171.5Q303,160 320,160L400,160L400,80L560,80L560,160L640,160Q657,160 668.5,171.5Q680,183 680,200L680,400Q659,400 639,403Q619,406 600,412L600,240L360,240L360,800L428,800Q439,823 453,843Q467,863 485,880L320,880ZM640,880L628,820Q616,815 605.5,809Q595,803 585,795L527,815L487,746L532,706Q530,691 530,680.5Q530,670 532,655L487,615L527,546L585,566Q595,558 605.5,551.5Q616,545 628,540L640,480L720,480L732,540Q744,545 754.5,551Q765,557 775,565L833,545L873,614L828,654Q830,669 830,679.5Q830,690 828,705L873,745L833,814L775,795Q765,803 754.5,809Q744,815 732,820L720,880L640,880ZM680,760Q713,760 736.5,736.5Q760,713 760,680Q760,647 736.5,623.5Q713,600 680,600Q647,600 623.5,623.5Q600,647 600,680Q600,713 623.5,736.5Q647,760 680,760Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_profile_background.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<vector
    android:height="108dp"
    android:width="108dp"
    android:viewportHeight="108"
    android:viewportWidth="108"
    xmlns:android="http://schemas.android.com/apk/res/android">
    <path android:fillColor="#3DDC84"
          android:pathData="M0,0h108v108h-108z"/>
    <path android:fillColor="#00000000" android:pathData="M9,0L9,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,0L19,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M29,0L29,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M39,0L39,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M49,0L49,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M59,0L59,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M69,0L69,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M79,0L79,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M89,0L89,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M99,0L99,108"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,9L108,9"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,19L108,19"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,29L108,29"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,39L108,39"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,49L108,49"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,59L108,59"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,69L108,69"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,79L108,79"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,89L108,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M0,99L108,99"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,29L89,29"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,39L89,39"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,49L89,49"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,59L89,59"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,69L89,69"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M19,79L89,79"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M29,19L29,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M39,19L39,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M49,19L49,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M59,19L59,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M69,19L69,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
    <path android:fillColor="#00000000" android:pathData="M79,19L79,89"
          android:strokeColor="#33FFFFFF" android:strokeWidth="0.8"/>
</vector>


==================================================
FILE: app\src\main\res\drawable\ic_profile_foreground.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:aapt="http://schemas.android.com/aapt"
    android:width="108dp"
    android:height="108dp"
    android:viewportWidth="108"
    android:viewportHeight="108">
  <group android:scaleX="0.82"
      android:scaleY="0.82"
      android:translateX="9.72"
      android:translateY="9.72">
      <path
          android:pathData="M31,63.928c0,0 6.4,-11 12.1,-13.1c7.2,-2.6 26,-1.4 26,-1.4l38.1,38.1L107,108.928l-32,-1L31,63.928z">
          <aapt:attr name="android:fillColor">
              <gradient
                  android:startY="49.59793"
                  android:startX="42.9492"
                  android:endY="92.4963"
                  android:endX="85.84757"
                  android:type="linear">
                  <item
                      android:color="#44000000"
                      android:offset="0.0" />
                  <item
                      android:color="#00000000"
                      android:offset="1.0" />
              </gradient>
          </aapt:attr>
      </path>
      <path
          android:pathData="M65.3,45.828l3.8,-6.6c0.2,-0.4 0.1,-0.9 -0.3,-1.1c-0.4,-0.2 -0.9,-0.1 -1.1,0.3l-3.9,6.7c-6.3,-2.8 -13.4,-2.8 -19.7,0l-3.9,-6.7c-0.2,-0.4 -0.7,-0.5 -1.1,-0.3C38.8,38.328 38.7,38.828 38.9,39.228l3.8,6.6C36.2,49.428 31.7,56.028 31,63.928h46C76.3,56.028 71.8,49.428 65.3,45.828zM43.4,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2c-0.3,-0.7 -0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C45.3,56.528 44.5,57.328 43.4,57.328L43.4,57.328zM64.6,57.328c-0.8,0 -1.5,-0.5 -1.8,-1.2s-0.1,-1.5 0.4,-2.1c0.5,-0.5 1.4,-0.7 2.1,-0.4c0.7,0.3 1.2,1 1.2,1.8C66.5,56.528 65.6,57.328 64.6,57.328L64.6,57.328z"
          android:fillColor="#FFFFFF"
          android:fillType="nonZero"
          android:strokeWidth="1"
          android:strokeColor="#00000000"/>
  </group>
</vector>

==================================================
FILE: app\src\main\res\drawable\ic_settings.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android" android:height="24dp" android:tint="#000000" android:viewportHeight="960" android:viewportWidth="960" android:width="24dp">
      
    <path android:fillColor="@android:color/white" android:pathData="M680,680Q705,680 722.5,662.5Q740,645 740,620Q740,595 722.5,577.5Q705,560 680,560Q655,560 637.5,577.5Q620,595 620,620Q620,645 637.5,662.5Q655,680 680,680ZM680,800Q711,800 737,785.5Q763,771 779,747Q757,734 732,727Q707,720 680,720Q653,720 628,727Q603,734 581,747Q597,771 623,785.5Q649,800 680,800ZM480,880Q341,845 250.5,720.5Q160,596 160,444L160,200L480,80L800,200L800,427Q781,419 761,412.5Q741,406 720,403L720,256L480,166L240,256L240,444Q240,491 252.5,538Q265,585 287.5,627.5Q310,670 342,706Q374,742 413,766L413,766Q424,798 442,827Q460,856 483,879Q482,879 481.5,879.5Q481,880 480,880ZM680,880Q597,880 538.5,821.5Q480,763 480,680Q480,597 538.5,538.5Q597,480 680,480Q763,480 821.5,538.5Q880,597 880,680Q880,763 821.5,821.5Q763,880 680,880ZM480,466L480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466L480,466L480,466L480,466L480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466Q480,466 480,466Z"/>
    
</vector>


==================================================
FILE: app\src\main\res\drawable\log_out.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="30dp"
    android:height="30dp"
    android:viewportWidth="30"
    android:viewportHeight="30">
  <path
      android:pathData="M10.75,22.25H6.917C6.408,22.25 5.921,22.048 5.561,21.689C5.202,21.329 5,20.842 5,20.333V6.917C5,6.408 5.202,5.921 5.561,5.561C5.921,5.202 6.408,5 6.917,5H10.75"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
  <path
      android:pathData="M17.458,18.417L22.25,13.625L17.458,8.833"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
  <path
      android:pathData="M22.25,13.625H10.75"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
</vector>


==================================================
FILE: app\src\main\res\drawable\popup_bg.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <!-- Màu nền trắng -->
    <solid android:color="@android:color/white" />

    <!-- Bo tròn góc -->
    <corners android:radius="12dp" />

    <!-- Viền mảnh xám nhạt -->
    <stroke
        android:width="1dp"
        android:color="#DDDDDD" />

    <!-- Khoảng cách bên trong -->
    <padding
        android:left="8dp"
        android:top="8dp"
        android:right="8dp"
        android:bottom="8dp" />

</shape>


==================================================
FILE: app\src\main\res\drawable\settings.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="33dp"
    android:height="33dp"
    android:viewportWidth="33"
    android:viewportHeight="33">
  <group>
    <clip-path
        android:pathData="M4,4h23v23h-23z"/>
    <path
        android:pathData="M15.5,18.375C17.088,18.375 18.375,17.088 18.375,15.5C18.375,13.912 17.088,12.625 15.5,12.625C13.912,12.625 12.625,13.912 12.625,15.5C12.625,17.088 13.912,18.375 15.5,18.375Z"
        android:strokeLineJoin="round"
        android:strokeWidth="2"
        android:fillColor="#00000000"
        android:strokeColor="#F8786F"
        android:strokeLineCap="round"/>
    <path
        android:pathData="M22.592,18.375C22.464,18.664 22.426,18.985 22.482,19.296C22.539,19.606 22.687,19.893 22.908,20.119L22.965,20.177C23.143,20.355 23.285,20.566 23.381,20.799C23.478,21.031 23.528,21.281 23.528,21.533C23.528,21.785 23.478,22.034 23.381,22.267C23.285,22.499 23.143,22.711 22.965,22.889C22.787,23.067 22.576,23.208 22.343,23.305C22.111,23.401 21.861,23.451 21.609,23.451C21.357,23.451 21.108,23.401 20.875,23.305C20.643,23.208 20.431,23.067 20.253,22.889L20.196,22.831C19.97,22.61 19.683,22.462 19.372,22.406C19.061,22.349 18.741,22.387 18.452,22.515C18.168,22.636 17.926,22.838 17.756,23.095C17.586,23.352 17.494,23.654 17.493,23.962V24.125C17.493,24.633 17.291,25.121 16.932,25.48C16.572,25.84 16.085,26.042 15.577,26.042C15.068,26.042 14.581,25.84 14.221,25.48C13.862,25.121 13.66,24.633 13.66,24.125V24.039C13.653,23.722 13.55,23.414 13.365,23.156C13.181,22.898 12.923,22.701 12.625,22.592C12.336,22.464 12.015,22.426 11.704,22.482C11.394,22.539 11.107,22.687 10.881,22.908L10.823,22.965C10.645,23.144 10.434,23.285 10.201,23.381C9.969,23.478 9.719,23.528 9.467,23.528C9.215,23.528 8.966,23.478 8.733,23.381C8.501,23.285 8.289,23.144 8.111,22.965C7.933,22.787 7.792,22.576 7.695,22.343C7.599,22.111 7.549,21.861 7.549,21.609C7.549,21.358 7.599,21.108 7.695,20.875C7.792,20.643 7.933,20.431 8.111,20.253L8.169,20.196C8.39,19.97 8.538,19.683 8.594,19.372C8.651,19.061 8.612,18.741 8.485,18.452C8.363,18.168 8.162,17.927 7.905,17.756C7.648,17.586 7.346,17.495 7.038,17.493H6.875C6.367,17.493 5.879,17.291 5.52,16.932C5.16,16.573 4.958,16.085 4.958,15.577C4.958,15.068 5.16,14.581 5.52,14.221C5.879,13.862 6.367,13.66 6.875,13.66H6.961C7.278,13.653 7.586,13.55 7.844,13.365C8.102,13.181 8.299,12.923 8.408,12.625C8.536,12.336 8.574,12.015 8.518,11.704C8.461,11.394 8.313,11.107 8.092,10.881L8.035,10.823C7.856,10.645 7.715,10.434 7.618,10.201C7.522,9.969 7.472,9.719 7.472,9.467C7.472,9.215 7.522,8.966 7.618,8.733C7.715,8.501 7.856,8.289 8.035,8.111C8.213,7.933 8.424,7.792 8.657,7.695C8.889,7.599 9.139,7.549 9.391,7.549C9.642,7.549 9.892,7.599 10.125,7.695C10.357,7.792 10.569,7.933 10.747,8.111L10.804,8.169C11.03,8.39 11.317,8.538 11.628,8.594C11.939,8.651 12.259,8.613 12.548,8.485H12.625C12.908,8.364 13.15,8.162 13.32,7.905C13.491,7.648 13.582,7.346 13.583,7.038V6.875C13.583,6.367 13.785,5.879 14.145,5.52C14.504,5.16 14.992,4.958 15.5,4.958C16.008,4.958 16.496,5.16 16.855,5.52C17.215,5.879 17.417,6.367 17.417,6.875V6.961C17.418,7.27 17.509,7.571 17.68,7.828C17.85,8.085 18.091,8.287 18.375,8.408C18.664,8.536 18.985,8.574 19.295,8.518C19.606,8.461 19.893,8.313 20.119,8.092L20.177,8.035C20.355,7.856 20.566,7.715 20.799,7.619C21.031,7.522 21.281,7.472 21.533,7.472C21.785,7.472 22.034,7.522 22.267,7.619C22.499,7.715 22.711,7.856 22.889,8.035C23.067,8.213 23.208,8.424 23.305,8.657C23.401,8.889 23.451,9.139 23.451,9.391C23.451,9.642 23.401,9.892 23.305,10.125C23.208,10.357 23.067,10.569 22.889,10.747L22.831,10.804C22.61,11.03 22.462,11.317 22.406,11.628C22.349,11.939 22.387,12.259 22.515,12.548V12.625C22.636,12.908 22.838,13.15 23.095,13.321C23.352,13.491 23.654,13.582 23.962,13.583H24.125C24.633,13.583 25.121,13.785 25.48,14.145C25.84,14.504 26.042,14.992 26.042,15.5C26.042,16.008 25.84,16.496 25.48,16.855C25.121,17.215 24.633,17.417 24.125,17.417H24.039C23.73,17.418 23.429,17.509 23.172,17.68C22.915,17.85 22.713,18.092 22.592,18.375V18.375Z"
        android:strokeLineJoin="round"
        android:strokeWidth="2"
        android:fillColor="#00000000"
        android:strokeColor="#F8786F"
        android:strokeLineCap="round"/>
  </group>
</vector>


==================================================
FILE: app\src\main\res\drawable\task_bg.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">

    <!-- Màu nền -->
    <solid android:color="#FFFFFF"/>

    <!-- Bo góc -->
    <corners android:radius="12dp"/>

    <!-- Đổ bóng nhẹ (hiệu ứng nổi lên) -->
    <padding android:left="8dp"
        android:top="8dp"
        android:right="8dp"
        android:bottom="8dp"/>

    <stroke
        android:width="1dp"
        android:color="#E0E0E0"/>
</shape>


==================================================
FILE: app\src\main\res\drawable\todo_icon.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="28dp"
    android:height="32dp"
    android:viewportWidth="28"
    android:viewportHeight="32">
  <path
      android:pathData="M17.417,5.917H20.292C20.546,5.917 20.79,6.018 20.969,6.197C21.149,6.377 21.25,6.621 21.25,6.875V24.125C21.25,24.379 21.149,24.623 20.969,24.803C20.79,24.982 20.546,25.083 20.292,25.083H4.958C4.704,25.083 4.46,24.982 4.281,24.803C4.101,24.623 4,24.379 4,24.125V6.875C4,6.621 4.101,6.377 4.281,6.197C4.46,6.018 4.704,5.917 4.958,5.917H7.833V4H9.75V5.917H15.5V4H17.417V5.917ZM17.417,7.833V9.75H15.5V7.833H9.75V9.75H7.833V7.833H5.917V23.167H19.333V7.833H17.417ZM7.833,11.667H17.417V13.583H7.833V11.667ZM7.833,15.5H17.417V17.417H7.833V15.5Z"
      android:fillColor="#F8786F"/>
</vector>


==================================================
FILE: app\src\main\res\drawable\user.xml
==================================================
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="28dp"
    android:height="30dp"
    android:viewportWidth="28"
    android:viewportHeight="30">
  <path
      android:pathData="M20.333,22.25V20.333C20.333,19.317 19.93,18.342 19.211,17.623C18.492,16.904 17.517,16.5 16.5,16.5H8.833C7.817,16.5 6.842,16.904 6.123,17.623C5.404,18.342 5,19.317 5,20.333V22.25"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
  <path
      android:pathData="M12.667,12.667C14.784,12.667 16.5,10.95 16.5,8.833C16.5,6.716 14.784,5 12.667,5C10.55,5 8.833,6.716 8.833,8.833C8.833,10.95 10.55,12.667 12.667,12.667Z"
      android:strokeLineJoin="round"
      android:strokeWidth="2"
      android:fillColor="#00000000"
      android:strokeColor="#F8786F"
      android:strokeLineCap="round"/>
</vector>


==================================================
FILE: app\src\main\res\layout\activity_add_assignment.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingBottom="32dp">

            <ImageView
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:layout_marginStart="16dp"
                android:layout_marginTop="32dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:clickable="true"
                android:padding="8dp"
                android:src="@drawable/ic_arrow_back"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:tint="#FFFFFF" />

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Thêm Bài Tập"
                android:textColor="#FFFFFF"
                android:textSize="20sp"
                android:textStyle="bold"
                app:layout_constraintBottom_toBottomOf="@id/btnBack"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/btnBack"
                app:layout_constraintTop_toTopOf="@id/btnBack" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="16dp"
            android:layout_marginTop="-24dp"
            android:layout_marginBottom="24dp"
            app:cardBackgroundColor="#FFFFFF"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Tên bài tập"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/edtTitle"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textCapSentences"
                        android:maxLines="1" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Mô tả yêu cầu"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/edtDesc"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="top"
                        android:inputType="textMultiLine"
                        android:minLines="4" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="24dp"
                    android:hint="Hạn nộp (Deadline)"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/edtDeadline"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:clickable="true"
                        android:cursorVisible="false"
                        android:focusable="false"
                        android:focusableInTouchMode="false"
                        android:inputType="none" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    android:text="File đề bài đính kèm"
                    android:textColor="#666666"
                    android:textStyle="bold" />

                <LinearLayout
                    android:id="@+id/btnPickFile"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="32dp"
                    android:background="@drawable/bg_file_link"
                    android:backgroundTint="#F0F2F5"
                    android:clickable="true"
                    android:focusable="true"
                    android:gravity="center_vertical"
                    android:orientation="horizontal"
                    android:padding="12dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@drawable/ic_file"
                        app:tint="#c96e80" />

                    <TextView
                        android:id="@+id/tvFileName"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="12dp"
                        android:layout_weight="1"
                        android:ellipsize="end"
                        android:maxLines="1"
                        android:text="Chọn tệp (PDF, Word...)"
                        android:textColor="#666666" />

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        app:tint="#999999" />
                </LinearLayout>

                <Button
                    android:id="@+id/btnSubmit"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:backgroundTint="#c96e80"
                    android:text="Lưu Bài Tập"
                    android:textAllCaps="false"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    app:cornerRadius="12dp" />

            </LinearLayout>
        </androidx.cardview.widget.CardView>
    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_add_lecture.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingBottom="32dp">

            <ImageView
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:layout_marginStart="16dp"
                android:layout_marginTop="32dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:clickable="true"
                android:padding="8dp"
                android:src="@drawable/ic_arrow_back"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:tint="#FFFFFF" />

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Thêm Bài Giảng"
                android:textColor="#FFFFFF"
                android:textSize="20sp"
                android:textStyle="bold"
                app:layout_constraintBottom_toBottomOf="@id/btnBack"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/btnBack"
                app:layout_constraintTop_toTopOf="@id/btnBack" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="16dp"
            android:layout_marginTop="-24dp"
            android:layout_marginBottom="24dp"
            app:cardBackgroundColor="#FFFFFF"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Tên bài giảng"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/edtTitle"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textCapSentences"
                        android:maxLines="1" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="24dp"
                    android:hint="Nội dung chi tiết"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/edtContent"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="top"
                        android:inputType="textMultiLine"
                        android:minLines="5" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    android:text="Tài liệu đính kèm"
                    android:textColor="#666666"
                    android:textStyle="bold" />

                <LinearLayout
                    android:id="@+id/btnPickFile"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="32dp"
                    android:background="@drawable/bg_file_link"
                    android:backgroundTint="#F0F2F5"
                    android:clickable="true"
                    android:focusable="true"
                    android:gravity="center_vertical"
                    android:orientation="horizontal"
                    android:padding="12dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@drawable/ic_file"
                        app:tint="#c96e80" />

                    <TextView
                        android:id="@+id/tvFileName"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="12dp"
                        android:layout_weight="1"
                        android:ellipsize="end"
                        android:maxLines="1"
                        android:text="Chọn tệp (PDF, Word...)"
                        android:textColor="#666666" />


                </LinearLayout>

                <Button
                    android:id="@+id/btnSubmit"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:backgroundTint="#c96e80"
                    android:text="Lưu Bài Giảng"
                    android:textAllCaps="false"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    app:cornerRadius="12dp" />

            </LinearLayout>
        </androidx.cardview.widget.CardView>
    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_add_user.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#fde0e0"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="24dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:gravity="center"
            android:layout_marginTop="20dp"
            android:layout_marginBottom="24dp">

            <androidx.cardview.widget.CardView
                android:layout_width="80dp"
                android:layout_height="80dp"
                app:cardCornerRadius="40dp"
                app:cardElevation="0dp"
                app:cardBackgroundColor="#FFFFFF">

                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:src="@drawable/logo_new"
                    android:padding="1dp" />
            </androidx.cardview.widget.CardView>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Thêm Thành Viên"
                android:textSize="26sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:layout_marginTop="12dp"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Điền thông tin để tạo tài khoản mới"
                android:textSize="14sp"
                android:textColor="#666666"/>
        </LinearLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="24dp"
            app:cardElevation="8dp"
            app:cardBackgroundColor="#FFFFFF"
            android:layout_marginBottom="24dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Mã tài khoản"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etMaTK"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="text"
                        android:enabled="false"
                        android:textColor="#333"
                        android:text="Đang tạo mã..."/>
                </com.google.android.material.textfield.TextInputLayout>
                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Họ và Tên"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etHoTen"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPersonName"/>
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Email"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etEmail"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textEmailAddress"/>
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="24dp"
                    android:hint="Mật khẩu"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    app:endIconMode="password_toggle"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etMatKhau"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword"/>
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Vai trò:"
                    android:textStyle="bold"
                    android:textColor="#333"
                    android:layout_marginBottom="8dp"/>

                <RadioGroup
                    android:id="@+id/rgRole"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:weightSum="2"
                    android:layout_marginBottom="24dp">

                    <RadioButton
                        android:id="@+id/rbStudent"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Học viên"
                        android:textColor="#555"
                        android:background="@drawable/bg_file_link"
                        android:buttonTint="#c96e80"
                        android:padding="12dp"
                        android:layout_marginEnd="8dp"
                        android:checked="true"/>

                    <RadioButton
                        android:id="@+id/rbTeacher"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Giáo viên"
                        android:textColor="#555"
                        android:background="@drawable/bg_file_link"
                        android:buttonTint="#c96e80"
                        android:padding="12dp"
                        android:layout_marginStart="8dp"/>
                </RadioGroup>

                <Button
                    android:id="@+id/btnSave"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:text="Hoàn Tất"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:backgroundTint="#c96e80"
                    app:cornerRadius="12dp"/>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <TextView
            android:id="@+id/tvBack"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Quay lại"
            android:textColor="#555"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_gravity="center_horizontal"
            android:padding="12dp"
            android:clickable="true"
            android:focusable="true"
            android:background="?attr/selectableItemBackgroundBorderless"/>

    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_admin.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffe6ed"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="24dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginTop="16dp"
            android:layout_marginBottom="32dp">

            <androidx.cardview.widget.CardView
                android:layout_width="80dp"
                android:layout_height="80dp"
                app:cardCornerRadius="40dp"
                app:cardElevation="0dp"
                app:cardBackgroundColor="#FFFFFF">
                <ImageView
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:src="@drawable/logo_new"
                    android:padding="10dp"
                    />
            </androidx.cardview.widget.CardView>

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginStart="16dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Xin chào, Admin!"
                    android:textSize="22sp"
                    android:textStyle="bold"
                    android:textColor="#333333"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Quản lý hệ thống đào tạo"
                    android:textSize="14sp"
                    android:textColor="#666666"/>
            </LinearLayout>
        </LinearLayout>

        <GridLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:columnCount="2"
            android:rowCount="2"
            android:alignmentMode="alignMargins"
            android:columnOrderPreserved="false"
            android:useDefaultMargins="true">

            <androidx.cardview.widget.CardView
                android:id="@+id/btnManageTeacher"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_people"
                        app:tint="#2196F3"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Giáo Viên"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Quản lý nhân sự"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <androidx.cardview.widget.CardView
                android:id="@+id/btnManageStudent"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_people"
                        app:tint="#4CAF50"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Học Viên"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Danh sách và Điểm"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <androidx.cardview.widget.CardView
                android:id="@+id/btnManageClass"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_file"
                        app:tint="#FF9800"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Lớp Học"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Xếp lớp và TKB"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>

            <androidx.cardview.widget.CardView
                android:id="@+id/btnCreateAccount"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_add"
                        app:tint="#c96e80"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Thêm User"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Tạo tài khoản mới"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>
            <androidx.cardview.widget.CardView
                android:id="@+id/btnExportSQL"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@android:drawable/ic_menu_save"
                        app:tint="#607D8B"
                        android:background="#ECEFF1"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Export SQL"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Xuất dữ liệu"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>
            <androidx.cardview.widget.CardView
                android:id="@+id/btnImportSQL"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_columnWeight="1"
                android:layout_margin="8dp"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp"
                app:cardBackgroundColor="#FFFFFF"
                android:foreground="?android:attr/selectableItemBackground">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:padding="24dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@android:drawable/ic_menu_upload"
                        app:tint="#4CAF50"
                        android:background="#E8F5E9"
                        android:padding="10dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Khôi phục"
                        android:textStyle="bold"
                        android:textSize="16sp"
                        android:textColor="#333"
                        android:layout_marginTop="12dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Nạp dữ liệu từ SQL"
                        android:textSize="11sp"
                        android:textColor="#888"/>
                </LinearLayout>
            </androidx.cardview.widget.CardView>
        </GridLayout>

        <TextView
            android:id="@+id/btnLogout"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Đăng xuất"
            android:textColor="#cf7486"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_gravity="center"
            android:padding="16dp"
            android:layout_marginTop="32dp"/>

    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_assignment.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingHorizontal="16dp"
            android:paddingTop="16dp"
            android:paddingBottom="24dp">

            <ImageView
                android:id="@+id/btnHomeLogo"
                android:layout_width="48dp"
                android:layout_height="48dp"
                android:layout_marginTop="24dp"
                android:background="@drawable/bg_circle"
                android:backgroundTint="#FFFFFF"
                android:clickable="true"
                android:elevation="4dp"
                android:focusable="true"
                android:padding="8dp"
                android:src="@drawable/logo_new"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <ImageView
                android:id="@+id/btnNotiHeader"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:background="@drawable/bg_circle"
                android:backgroundTint="#33FFFFFF"
                android:clickable="true"
                android:focusable="true"
                android:padding="8dp"
                android:src="@drawable/ic_notification"
                app:tint="#FFFFFF"
                app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="@id/btnHomeLogo" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="12dp"
                android:gravity="center_vertical"
                android:orientation="vertical"
                app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
                app:layout_constraintEnd_toStartOf="@id/btnNotiHeader"
                app:layout_constraintStart_toEndOf="@id/btnHomeLogo"
                app:layout_constraintTop_toTopOf="@id/btnHomeLogo">

                <TextView
                    android:id="@+id/tv_title"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:ellipsize="end"
                    android:maxLines="1"
                    android:text="Bài Tập"
                    android:textColor="#FFFFFF"
                    android:textSize="18sp"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/tv_subtitle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:alpha="0.9"
                    android:ellipsize="end"
                    android:maxLines="1"
                    android:text="Mã lớp: LH001"
                    android:textColor="#F0F0F0"
                    android:textSize="13sp" />
            </LinearLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1">

            <LinearLayout
                android:id="@+id/layoutEmptyState"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:gravity="center"
                android:orientation="vertical"
                android:visibility="gone">

                <ImageView
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:alpha="0.4"
                    android:src="@drawable/ic_assignment"
                    app:tint="#999999" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:text="Không có bài tập nào"
                    android:textColor="#999999" />
            </LinearLayout>

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/recyclerViewAssignments"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:clipToPadding="false"
                android:padding="16dp"
                tools:listitem="@layout/item_assignment" />
        </FrameLayout>

        <include
            android:id="@+id/layout_footer"
            layout="@layout/layout_footer" />

    </LinearLayout>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_add_assignment"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentEnd="true"
        android:layout_alignParentBottom="true"
        android:layout_marginEnd="24dp"
        android:layout_marginBottom="110dp"
        android:contentDescription="Thêm bài tập"
        android:src="@drawable/ic_add"
        app:backgroundTint="#c96e80"
        app:elevation="6dp"
        app:tint="@android:color/white" />

</RelativeLayout>

==================================================
FILE: app\src\main\res\layout\activity_assignment_stats.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#F5F5F5">

    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbarAssignmentStats"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="#c96e80"
        app:title="Chi Tiết Điểm"
        app:titleTextColor="#FFFFFF"
        app:navigationIcon="@drawable/ic_arrow_back"
        app:navigationIconTint="#FFFFFF"/>

    <TextView
        android:id="@+id/tvAssignmentTitle"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp"
        android:text="Danh sách điểm sinh viên"
        android:textStyle="bold"
        android:textSize="18sp"
        android:textColor="#333"/>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rvStatsStudents"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="8dp"/>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\activity_base.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">





    <FrameLayout
        android:id="@+id/content_frame"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />
</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_class_manage.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    android:background="#ffe6ed"> <LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:gravity="center_vertical"
    android:layout_marginBottom="16dp">

    <Button
        android:id="@+id/btnBack"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Quay lại"
        style="@style/StudentPortalButton"/>

    <TextView
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:text="Quản lý Lớp Học"
        android:textSize="20sp"
        android:textStyle="bold"
        android:textColor="#333"
        android:gravity="center"/>

    <View
        android:layout_width="80dp"
        android:layout_height="0dp"/>
</LinearLayout>

    <Button
        android:id="@+id/btnAddClass"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="+ Thêm Lớp Học Mới"
        android:backgroundTint="#cf7486"
        android:textColor="#FFF"
        android:layout_marginBottom="12dp"/>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rvClassList"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\activity_class_stats.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" android:layout_width="match_parent" android:layout_height="match_parent" android:orientation="vertical" android:background="#F5F5F5">

    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbarClassStats"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="#c96e80"
        app:title="Thống Kê Lớp Học"
        app:titleTextColor="#FFFFFF"
        app:navigationIcon="@drawable/ic_arrow_back"
        app:navigationIconTint="#FFFFFF"/>

    <TextView
        android:id="@+id/tvClassStatsTitle"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp"
        android:text="Biểu đồ điểm trung bình"
        android:textStyle="bold"
        android:textSize="18sp"
        android:textColor="#333"/>

    <com.example.studentportalapp.SimpleBarChart
        android:id="@+id/barChart"
        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:layout_marginHorizontal="16dp"
        android:layout_marginBottom="16dp"
        android:background="@android:color/white"
        android:elevation="4dp"/>

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingHorizontal="16dp"
        android:paddingBottom="8dp"
        android:text="Danh sách bài tập"
        android:textStyle="bold"
        android:textSize="16sp"
        android:textColor="#333"/>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rvStatsAssignments"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="8dp"/>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\activity_course.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingHorizontal="16dp"
            android:paddingTop="16dp"
            android:paddingBottom="24dp">

            <ImageView
                android:id="@+id/btnHomeLogo"
                android:layout_width="48dp"
                android:layout_height="48dp"
                android:layout_marginTop="24dp"
                android:background="@drawable/bg_circle"
                android:backgroundTint="#FFFFFF"
                android:clickable="true"
                android:elevation="4dp"
                android:focusable="true"
                android:padding="8dp"
                android:src="@drawable/logo_new"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <ImageView
                android:id="@+id/btnNotiHeader"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:background="@drawable/bg_circle"
                android:backgroundTint="#33FFFFFF"
                android:clickable="true"
                android:focusable="true"
                android:padding="8dp"
                android:src="@drawable/ic_notification"
                app:tint="#FFFFFF"
                app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="@id/btnHomeLogo" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginHorizontal="12dp"
                android:gravity="center_vertical"
                android:orientation="vertical"
                app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
                app:layout_constraintEnd_toStartOf="@id/btnNotiHeader"
                app:layout_constraintStart_toEndOf="@id/btnHomeLogo"
                app:layout_constraintTop_toTopOf="@id/btnHomeLogo">

                <TextView
                    android:id="@+id/tv_title"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:ellipsize="end"
                    android:maxLines="1"
                    android:text="Tên Môn Học"
                    android:textColor="#FFFFFF"
                    android:textSize="18sp"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/tv_subtitle"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:alpha="0.9"
                    android:ellipsize="end"
                    android:maxLines="1"
                    android:text="Mã lớp: LH001"
                    android:textColor="#F0F0F0"
                    android:textSize="13sp" />
            </LinearLayout>

        </androidx.constraintlayout.widget.ConstraintLayout>

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1">

            <LinearLayout
                android:id="@+id/layoutEmptyState"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:gravity="center"
                android:orientation="vertical"
                android:visibility="gone">

                <ImageView
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:alpha="0.4"
                    android:src="@drawable/ic_file"
                    app:tint="#999999" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:text="Chưa có bài giảng nào"
                    android:textColor="#999999" />
            </LinearLayout>

            <androidx.recyclerview.widget.RecyclerView
                android:id="@+id/rvActivityCourse"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:clipToPadding="false"
                android:padding="16dp"
                tools:listitem="@layout/item_course" />
        </FrameLayout>

        <include
            android:id="@+id/layout_footer"
            layout="@layout/layout_footer" />

    </LinearLayout>

    <com.google.android.material.floatingactionbutton.FloatingActionButton
        android:id="@+id/fab_add"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentEnd="true"
        android:layout_alignParentBottom="true"
        android:layout_marginEnd="24dp"
        android:layout_marginBottom="110dp"
        android:contentDescription="Thêm mới"
        android:src="@drawable/ic_add"
        app:backgroundTint="#c96e80"
        app:elevation="6dp"
        app:tint="@android:color/white" />

</RelativeLayout>

==================================================
FILE: app\src\main\res\layout\activity_forgot_password.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffe6ed"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="24dp">

        <ImageView
            android:id="@+id/btnBackToLogin"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:src="@android:drawable/ic_menu_revert"
            app:tint="#555555"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:clickable="true"
            android:contentDescription="Back"
            android:padding="4dp"/>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:gravity="center_horizontal"
            android:layout_marginTop="20dp">

            <ImageView
                android:layout_width="80dp"
                android:layout_height="80dp"
                android:src="@drawable/logo_new"
                android:layout_marginBottom="16dp"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Quên Mật Khẩu?"
                android:textSize="26sp"
                android:textStyle="bold"
                android:textColor="#333333"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Nhập email để nhận mã xác nhận"
                android:gravity="center"
                android:textSize="14sp"
                android:textColor="#777777"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="32dp"/>
        </LinearLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FFFFFF">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Email đăng ký"
                    app:startIconTint="#c96e80"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etResetEmail"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textEmailAddress"/>
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnGetCode"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:layout_marginTop="16dp"
                    android:text="Lấy Mã OTP"
                    android:textStyle="bold"
                    app:backgroundTint="#cf7486"
                    app:cornerRadius="8dp"/>

                <LinearLayout
                    android:id="@+id/layoutResetPass"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="vertical"
                    android:visibility="gone"
                    android:layout_marginTop="24dp">

                    <View
                        android:layout_width="match_parent"
                        android:layout_height="1dp"
                        android:background="#EEEEEE"
                        android:layout_marginBottom="24dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Mã OTP giả lập (Xem Toast trên màn hình)"
                        android:textColor="#4CAF50"
                        android:textStyle="italic"
                        android:textSize="12sp"
                        android:layout_marginBottom="8dp"/>

                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Mã OTP (4 số)"
                        app:boxStrokeColor="#c96e80"
                        app:hintTextColor="#c96e80"
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_marginBottom="16dp">
                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/etOTP"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="number"
                            android:maxLength="4"
                            android:letterSpacing="0.2"/>
                    </com.google.android.material.textfield.TextInputLayout>

                    <com.google.android.material.textfield.TextInputLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:hint="Mật khẩu mới"
                        app:startIconDrawable="@android:drawable/ic_lock_idle_lock"
                        app:startIconTint="#c96e80"
                        app:boxStrokeColor="#c96e80"
                        app:hintTextColor="#c96e80"
                        app:endIconMode="password_toggle"
                        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                        android:layout_marginBottom="16dp">
                        <com.google.android.material.textfield.TextInputEditText
                            android:id="@+id/etNewPass"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:inputType="textPassword"/>
                    </com.google.android.material.textfield.TextInputLayout>

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnConfirmReset"
                        android:layout_width="match_parent"
                        android:layout_height="56dp"
                        android:text="Đổi Mật Khẩu"
                        android:textStyle="bold"
                        app:backgroundTint="#4CAF50"
                        app:cornerRadius="8dp"/>
                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_grade.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#ffe6ed">

    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar_grade"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="#cf7486"
            app:title="Bảng Điểm"
            app:titleTextColor="#FFFFFF"
            app:navigationIcon="@drawable/ic_arrow_back"
            app:navigationIconTint="#FFFFFF" />
    </com.google.android.material.appbar.AppBarLayout>

    <!-- Phần chọn lớp học và bài tập -->
    <androidx.cardview.widget.CardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="8dp"
        app:cardCornerRadius="8dp"
        app:cardElevation="2dp">
        
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="12dp">
            
            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Chọn lớp học:"
                android:textSize="14sp"
                android:textColor="#666666"
                android:layout_marginBottom="4dp"/>
                
            <Spinner
                android:id="@+id/spinner_classes"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:background="@drawable/bg_file_link" />

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Chọn bài tập:"
                android:textSize="14sp"
                android:textColor="#666666"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="4dp"/>

            <Spinner
                android:id="@+id/spinner_assignments"
                android:layout_width="match_parent"
                android:layout_height="48dp"
                android:background="@drawable/bg_file_link" />
        </LinearLayout>
    </androidx.cardview.widget.CardView>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rv_grades"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="8dp"
        android:clipToPadding="false" />

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_home.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F8F9FA"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:paddingBottom="30dp">

            <ImageView
                android:id="@+id/imgAvatar"
                android:layout_width="50dp"
                android:layout_height="50dp"
                android:src="@drawable/logo_new"
                android:background="@drawable/bg_circle"
                android:backgroundTint="#FFFFFF"
                android:padding="10dp"

                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                android:layout_margin="24dp"/>

            <TextView
                android:id="@+id/tvGreeting"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Xin chào,"
                android:textColor="#555"
                android:textSize="14sp"
                app:layout_constraintStart_toEndOf="@id/imgAvatar"
                app:layout_constraintTop_toTopOf="@id/imgAvatar"
                android:layout_marginStart="12dp"/>

            <TextView
                android:id="@+id/tvWelcomeUser"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:text="Nguyễn Văn A"
                android:textColor="#333"
                android:textStyle="bold"
                android:textSize="18sp"
                app:layout_constraintStart_toEndOf="@id/imgAvatar"
                app:layout_constraintTop_toBottomOf="@id/tvGreeting"
                app:layout_constraintEnd_toStartOf="@id/btnNoti"
                android:layout_marginStart="12dp"
                android:layout_marginEnd="12dp"/>

            <ImageView
                android:id="@+id/btnNoti"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:background="@drawable/bg_circle"
                android:src="@drawable/ic_bell"
                android:padding="1dp"
                android:backgroundTint="#ffffff"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toTopOf="@id/imgAvatar"
                android:layout_marginEnd="24dp"/>
        </androidx.constraintlayout.widget.ConstraintLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="24dp"
            android:layout_marginTop="-20dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="6dp"
            app:cardBackgroundColor="#FFFFFF">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:padding="16dp"
                android:weightSum="4">

                <!-- Nút TKB -->
                <LinearLayout
                    android:id="@+id/quickActionTKB"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center">
                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        app:tint="#4CAF50"
                        android:background="#E8F5E9"
                        android:padding="8dp"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="TKB"
                        android:textSize="12sp"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Nút ĐIỂM SỐ -->
                <LinearLayout
                    android:id="@+id/quickActionGrades"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:clickable="true"
                    android:focusable="true"
                    android:background="?attr/selectableItemBackground">
                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        android:src="@drawable/ic_file"
                        app:tint="#FF9800"
                        android:background="#FFF3E0"
                        android:padding="8dp"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Điểm số"
                        android:textSize="12sp"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Nút Bài tập -->
                <LinearLayout
                    android:id="@+id/quickActionProfile"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:clickable="true"
                    android:focusable="true"
                    android:background="?attr/selectableItemBackground">

                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        android:src="@drawable/ic_person"
                        app:tint="#9C27B0"
                        android:background="#F3E5F5"
                        android:padding="8dp"/>

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Hồ sơ"
                        android:textSize="12sp"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

                <!-- Nút Thoát -->
                <LinearLayout
                    android:id="@+id/quickActionLogout"
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:gravity="center"
                    android:clickable="true"
                    android:focusable="true"
                    android:background="?attr/selectableItemBackground">
                    <ImageView
                        android:layout_width="40dp"
                        android:layout_height="40dp"
                        android:src="@android:drawable/ic_lock_power_off"
                        app:tint="#F44336"
                        android:background="#FFEBEE"
                        android:padding="8dp"/>
                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Thoát"
                        android:textSize="12sp"
                        android:layout_marginTop="4dp"/>
                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:paddingHorizontal="24dp"
            android:layout_marginTop="24dp"
            android:layout_marginBottom="8dp"
            android:gravity="center_vertical">

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Lớp học của tôi"
                android:textSize="18sp"
                android:textStyle="bold"
                android:textColor="#333"/>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Xem tất cả"
                android:textColor="#c96e80"
                android:textStyle="bold"/>
        </LinearLayout>

        <androidx.recyclerview.widget.RecyclerView
            android:id="@+id/recyclerUserCourses"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingHorizontal="16dp"
            android:paddingBottom="24dp"
            android:nestedScrollingEnabled="false"/>
    </LinearLayout>
</ScrollView>


==================================================
FILE: app\src\main\res\layout\activity_login.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffe6ed"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:gravity="center_horizontal"
        android:padding="24dp">

        <Space
            android:layout_width="match_parent"
            android:layout_height="60dp" />

        <ImageView
            android:layout_width="100dp"
            android:layout_height="100dp"
            android:src="@drawable/logo_new"
            android:padding="0dp"
            android:elevation="4dp"
            android:layout_marginBottom="0dp"/>
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Welcome Back!"
            android:textSize="28sp"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginBottom="8dp"/>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Đăng nhập để tiếp tục"
            android:textSize="16sp"
            android:textColor="#888888"
            android:layout_marginBottom="40dp"/>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardCornerRadius="16dp"
            app:cardElevation="8dp"
            app:cardBackgroundColor="#FFFFFF">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Email / Mã số"
                    app:startIconTint="#c96e80"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                    android:layout_marginBottom="16dp">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etEmail"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textEmailAddress"/>
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Mật khẩu"
                    app:startIconTint="#c96e80"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:endIconMode="password_toggle"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/etPassword"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword"/>
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:id="@+id/tvForgotPassword"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Quên mật khẩu?"
                    android:textColor="#c96e80"
                    android:textStyle="bold"
                    android:layout_gravity="end"
                    android:paddingTop="12dp"
                    android:paddingBottom="24dp"/>

                <com.google.android.material.button.MaterialButton
                    android:id="@+id/btnLogin"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:text="Đăng Nhập"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    app:backgroundTint="#cf7486"
                    app:cornerRadius="8dp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>
    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_main.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="24dp"
    android:background="#ffe6ed">


    <com.google.android.material.imageview.ShapeableImageView
        android:id="@+id/img_logo"
        android:layout_width="400dp"
        android:layout_height="400dp"
        android:layout_centerInParent="true"
        android:contentDescription="@string/todo"
        android:scaleType="fitCenter"
        android:src="@drawable/logo_new" />


    <Button
        android:id="@+id/btnGetStarted"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Get Started"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="48dp"
        style="@style/StudentPortalButton"/>
</RelativeLayout>


==================================================
FILE: app\src\main\res\layout\activity_notification.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#F8F9FA">

    <com.google.android.material.appbar.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">
        <com.google.android.material.appbar.MaterialToolbar
            android:id="@+id/toolbar_notification"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="#c96e80"
            app:title="Thông báo"
            app:titleTextColor="#FFFFFF"
            app:navigationIcon="@drawable/ic_arrow_back"
            app:navigationIconTint="#FFFFFF" />
    </com.google.android.material.appbar.AppBarLayout>

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rv_notifications"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="8dp"
        android:clipToPadding="false" />

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_options.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="#FFF5F5F5">


    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:gravity="center_horizontal"
        android:padding="16dp">

        <TextView
            android:text="Mission"
            android:textStyle="bold"
            android:textSize="16sp"
            android:layout_marginTop="10dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

        <TextView
            android:text="To nurture a vibrant culture of academic wellness responsive to the challenges of technology and the global community."
            android:paddingBottom="8dp"
            android:textAlignment="center"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />


        <TextView
            android:text="Vision"
            android:textStyle="bold"
            android:textSize="16sp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

        <TextView
            android:text="An eminent center of excellent higher education towards societal advancement."
            android:paddingBottom="8dp"
            android:textAlignment="center"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />


        <TextView
            android:text="Values"
            android:textStyle="bold"
            android:textSize="16sp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />

        <TextView
            android:text="Social transformation for a caring community and ecologically balanced country."
            android:paddingBottom="8dp"
            android:textAlignment="center"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>



    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="10dp"
        android:gravity="center_vertical">

        <ImageView
            android:id="@+id/img_feedback"
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:src="@drawable/ic_feedback"
            android:layout_marginEnd="8dp"/>

        <TextView
            android:id="@+id/tv_feedback"
            android:text="Write a Feedback"
            android:textSize="14sp"
            android:textColor="#E91E63"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"/>
    </LinearLayout>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="10dp"
        android:gravity="center_vertical">

        <ImageView
            android:id="@+id/img_info"
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:src="@drawable/ic_info"
            android:layout_marginEnd="8dp"/>

        <TextView
            android:id="@+id/tv_info"
            android:text="About"
            android:textSize="14sp"
            android:textColor="#E91E63"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"/>
    </LinearLayout>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        android:padding="10dp"
        android:gravity="center_vertical">

        <ImageView
            android:id="@+id/img_mail"
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:src="@drawable/ic_mail"
            android:layout_marginEnd="8dp"/>

        <TextView
            android:id="@+id/tv_mail"
            android:text="Contact or Email Us"
            android:textSize="14sp"
            android:textColor="#E91E63"
            android:layout_height="wrap_content"
            android:layout_width="wrap_content"/>
    </LinearLayout>
</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_people.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA"
    android:orientation="vertical"
    tools:context=".PeopleActivity">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@drawable/bg_home_header"
        android:backgroundTint="#c96e80"
        android:paddingHorizontal="16dp"
        android:paddingTop="16dp"
        android:paddingBottom="24dp">

        <ImageView
            android:id="@+id/btnHomeLogo"
            android:layout_width="48dp"
            android:layout_height="48dp"
            android:layout_marginTop="24dp"
            android:background="@drawable/bg_circle"
            android:backgroundTint="#FFFFFF"
            android:clickable="true"
            android:elevation="4dp"
            android:focusable="true"
            android:padding="8dp"
            android:src="@drawable/logo_new"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <ImageView
            android:id="@+id/btnNotiHeader"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:background="@drawable/bg_circle"
            android:backgroundTint="#33FFFFFF"
            android:clickable="true"
            android:focusable="true"
            android:padding="8dp"
            android:src="@drawable/ic_notification"
            app:tint="#FFFFFF"
            app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/btnHomeLogo" />

        <LinearLayout
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="12dp"
            android:gravity="center_vertical"
            android:orientation="vertical"
            app:layout_constraintBottom_toBottomOf="@id/btnHomeLogo"
            app:layout_constraintEnd_toStartOf="@id/btnNotiHeader"
            app:layout_constraintStart_toEndOf="@id/btnHomeLogo"
            app:layout_constraintTop_toTopOf="@id/btnHomeLogo">

            <TextView
                android:id="@+id/tv_title"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:ellipsize="end"
                android:maxLines="1"
                android:text="Thành Viên"
                android:textColor="#FFFFFF"
                android:textSize="18sp"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/txtStudentCount"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:alpha="0.9"
                android:ellipsize="end"
                android:maxLines="1"
                android:text="Sĩ số: ..."
                android:textColor="#F0F0F0"
                android:textSize="13sp" />
        </LinearLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>

    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:fillViewport="true">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="8dp"
                android:text="Giảng viên"
                android:textColor="#c96e80"
                android:textSize="16sp"
                android:textStyle="bold" />

            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginBottom="24dp"
                app:cardCornerRadius="12dp"
                app:cardElevation="2dp"
                app:cardBackgroundColor="#FFFFFF">

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/recyclerViewProfessors"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:nestedScrollingEnabled="false"
                    tools:itemCount="1"
                    tools:listitem="@layout/item_person" />
            </androidx.cardview.widget.CardView>

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginBottom="8dp"
                android:text="Danh sách Học viên"
                android:textColor="#c96e80"
                android:textSize="16sp"
                android:textStyle="bold" />

            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                app:cardCornerRadius="12dp"
                app:cardElevation="2dp"
                app:cardBackgroundColor="#FFFFFF">

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/recyclerViewStudents"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:nestedScrollingEnabled="false"
                    tools:listitem="@layout/item_person" />
            </androidx.cardview.widget.CardView>

        </LinearLayout>
    </androidx.core.widget.NestedScrollView>

    <include
        android:id="@+id/layout_footer"
        layout="@layout/layout_footer" />

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\activity_profile.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="220dp">

            <ImageView
                android:layout_width="match_parent"
                android:layout_height="160dp"
                android:scaleType="centerCrop"

                android:background="#ffe6ed" />

            <ImageView
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:src="@android:drawable/ic_menu_revert"
                app:tint="#FFFFFF"
                android:padding="8dp"
                android:layout_margin="16dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:clickable="true"
                android:layout_gravity="top|start" />

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="bottom"
                android:gravity="center_horizontal"
                android:orientation="vertical">

                <ImageView
                    android:id="@+id/imgAvatar"
                    android:layout_width="100dp"
                    android:layout_height="100dp"
                    android:src="@drawable/logo_new"
                    android:padding="20dp"
                    android:background="@drawable/circle_bg"
                    android:elevation="4dp" />

                <TextView
                    android:id="@+id/tvHeaderName"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Đang tải..."
                    android:textStyle="bold"
                    android:textSize="20sp"
                    android:textColor="#333333"
                    android:layout_marginTop="8dp"/>
            </LinearLayout>
        </FrameLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FFFFFF">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Thông Tin Cá Nhân"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#c96e80"
                    android:layout_marginBottom="20dp"/>

                <TextView
                    android:id="@+id/tvLabelID"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Mã số:"
                    android:textColor="#777777"
                    android:textSize="14sp"/>

                <TextView
                    android:id="@+id/tvUserID"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="..."
                    android:textColor="#333333"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="16dp"/>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginBottom="16dp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Họ và Tên:"
                    android:textColor="#777777"
                    android:textSize="14sp"/>

                <TextView
                    android:id="@+id/tvName"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="..."
                    android:textColor="#333333"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="16dp"/>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginBottom="16dp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Email:"
                    android:textColor="#777777"
                    android:textSize="14sp"/>

                <TextView
                    android:id="@+id/tvEmail"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="..."
                    android:textColor="#333333"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="16dp"/>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginBottom="16dp"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Mật khẩu:"
                    android:textColor="#777777"
                    android:textSize="14sp"/>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <TextView
                        android:id="@+id/tvPassword"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="••••••••"
                        android:textColor="#333333"
                        android:textSize="18sp"
                        android:letterSpacing="0.2"
                        android:textStyle="bold"/>

                    <Button
                        android:id="@+id/btnChangePass"
                        android:layout_width="wrap_content"
                        android:layout_height="40dp"
                        android:text="Đổi"
                        android:textColor="#FFFFFF"
                        android:textSize="12sp"
                        android:backgroundTint="#cf7486"
                        android:insetTop="0dp"
                        android:insetBottom="0dp"/>
                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>

    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_register.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="24dp"
    android:background="#F48B8B">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Register"
            android:textSize="28sp"
            android:textStyle="bold"
            android:layout_marginTop="40dp"/>

        <EditText
            android:id="@+id/etRegEmail"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:hint="Email"
            android:inputType="textEmailAddress"
            android:layout_marginTop="24dp"/>

        <EditText
            android:id="@+id/etRegPassword"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:hint="Password"
            android:inputType="textPassword"
            android:layout_marginTop="12dp"/>

        <EditText
            android:id="@+id/etRegCourseCode"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:hint="Course-Code (optional)"
            android:inputType="text"
            android:layout_marginTop="12dp"/>

        <Button
            android:id="@+id/btnRegister"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Register"
            android:layout_marginTop="20dp"/>

        <TextView
            android:id="@+id/tvToLogin"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Already have an account? Login"
            android:layout_marginTop="20dp"/>

    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_student_manage.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:padding="16dp"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffe6ed">

    <Button
        android:id="@+id/btnBack"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Quay lại"
        android:layout_marginBottom="8dp"
        style="@style/StudentPortalButton"
        />
    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerHocVien"
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"/>
</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_submit_assignment.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingBottom="32dp">

            <ImageView
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:layout_marginStart="16dp"
                android:layout_marginTop="32dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:clickable="true"
                android:padding="8dp"
                android:src="@drawable/ic_arrow_back"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:tint="#FFFFFF" />

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Nộp Bài Tập"
                android:textColor="#FFFFFF"
                android:textSize="20sp"
                android:textStyle="bold"
                app:layout_constraintBottom_toBottomOf="@id/btnBack"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/btnBack"
                app:layout_constraintTop_toTopOf="@id/btnBack" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginHorizontal="16dp"
            android:layout_marginTop="-24dp"
            android:layout_marginBottom="24dp"
            app:cardBackgroundColor="#FFFFFF"
            app:cardCornerRadius="16dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="24dp">

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="16dp"
                    android:hint="Đang nộp cho bài tập"
                    app:boxBackgroundColor="#F5F7FA"
                    app:boxStrokeWidth="0dp"
                    app:boxStrokeWidthFocused="0dp"
                    app:hintTextColor="#666666"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.FilledBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_submit_title"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:enabled="false"
                        android:textColor="#333333"
                        android:textStyle="bold" />
                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="24dp"
                    android:hint="Lời nhắn / Ghi chú cho giảng viên"
                    app:boxStrokeColor="#c96e80"
                    app:hintTextColor="#c96e80"
                    app:startIconTint="#c96e80"
                    style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/et_submit_note"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:gravity="top"
                        android:inputType="textMultiLine"
                        android:minLines="4" />
                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="8dp"
                    android:text="Bài làm của bạn"
                    android:textColor="#666666"
                    android:textStyle="bold" />

                <LinearLayout
                    android:id="@+id/btn_attach_file_submit"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginBottom="32dp"
                    android:background="@drawable/bg_file_link"
                    android:backgroundTint="#F0F2F5"
                    android:clickable="true"
                    android:focusable="true"
                    android:gravity="center_vertical"
                    android:orientation="horizontal"
                    android:padding="12dp">

                    <ImageView
                        android:layout_width="24dp"
                        android:layout_height="24dp"
                        android:src="@drawable/ic_file"
                        app:tint="#c96e80" />

                    <TextView
                        android:id="@+id/tvFileName"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="12dp"
                        android:layout_weight="1"
                        android:ellipsize="end"
                        android:maxLines="1"
                        android:text="Chọn tệp bài làm..."
                        android:textColor="#666666" />

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        app:tint="#999999" />
                </LinearLayout>

                <Button
                    android:id="@+id/btn_submit_final"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:backgroundTint="#c96e80"
                    android:text="Nộp Bài Ngay"
                    android:textAllCaps="false"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    app:cornerRadius="12dp" />

            </LinearLayout>
        </androidx.cardview.widget.CardView>
    </LinearLayout>
</ScrollView>

==================================================
FILE: app\src\main\res\layout\activity_teacher_manage.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:padding="16dp"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#ffe6ed"
    >
    <Button
        android:id="@+id/btnBack"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Quay lại"
        android:layout_marginBottom="8dp"
        style="@style/StudentPortalButton"
        />

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/recyclerTeacher"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:paddingTop="12dp"
        android:clipToPadding="false"
        android:scrollbars="vertical"/>

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\activity_todo.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F7FA">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:background="@drawable/bg_home_header"
            android:backgroundTint="#c96e80"
            android:paddingBottom="24dp">

            <ImageView
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:layout_marginStart="16dp"
                android:layout_marginTop="32dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:clickable="true"
                android:padding="8dp"
                android:src="@drawable/ic_arrow_back"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:tint="#FFFFFF" />

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Công Việc (To-Do)"
                android:textColor="#FFFFFF"
                android:textSize="20sp"
                android:textStyle="bold"
                app:layout_constraintBottom_toBottomOf="@id/btnBack"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@id/btnBack"
                app:layout_constraintTop_toTopOf="@id/btnBack" />

            <TextView
                android:id="@+id/tv_task_count"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:background="@drawable/bg_file_link"
                android:backgroundTint="#33FFFFFF"
                android:paddingHorizontal="12dp"
                android:paddingVertical="4dp"
                android:text="0 Tasks To Do"
                android:textColor="#FFFFFF"
                android:textSize="13sp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toBottomOf="@id/tvHeaderTitle" />

        </androidx.constraintlayout.widget.ConstraintLayout>

        <FrameLayout
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1">

            <LinearLayout
                android:id="@+id/layoutEmptyState"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center"
                android:gravity="center"
                android:orientation="vertical"
                android:visibility="gone">

                <ImageView
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:alpha="0.4"
                    android:src="@drawable/todo_icon"
                    app:tint="#999999" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="16dp"
                    android:text="Hết việc rồi! Nghỉ ngơi thôi."
                    android:textColor="#999999" />
            </LinearLayout>

            <androidx.cardview.widget.CardView
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_marginHorizontal="16dp"
                android:layout_marginTop="-16dp"
                android:layout_marginBottom="16dp"
                app:cardBackgroundColor="#FFFFFF"
                app:cardCornerRadius="16dp"
                app:cardElevation="4dp">

                <ListView
                    android:id="@+id/list_tasks"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:clipToPadding="false"
                    android:divider="@android:color/transparent"
                    android:dividerHeight="8dp"
                    android:padding="16dp"
                    android:scrollbars="vertical" />
            </androidx.cardview.widget.CardView>

        </FrameLayout>
    </LinearLayout>
</RelativeLayout>

==================================================
FILE: app\src\main\res\layout\activity_view_submissions.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical">

    <com.google.android.material.appbar.MaterialToolbar
        android:id="@+id/toolbar_view_submissions"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="#cf7486"
        app:title="Bài Tập Đã Nộp"
        app:titleTextColor="#ffffff"
        app:navigationIcon="@drawable/ic_arrow_back"
        app:navigationIconTint="#ffffff" />

    <androidx.recyclerview.widget.RecyclerView
        android:id="@+id/rv_submissions"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:padding="8dp" />

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\background.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="200dp"
    android:layout_marginBottom="12dp"
    android:padding="16dp"
    >

    <!-- Ảnh nền -->
    <com.google.android.material.imageview.ShapeableImageView
        android:id="@+id/img_background"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:contentDescription="@string/todo"
        android:scaleType="centerCrop"
        android:src="@drawable/bg_course"
        app:shapeAppearanceOverlay="@style/TopRoundedImage"
        app:strokeColor="@android:color/white"
        app:strokeWidth="0dp" />

    <!-- Chữ đè lên ảnh -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical"
        android:padding="16dp"
        android:gravity="bottom|start">

        <TextView
            android:id="@+id/tv_title"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/programming_language"
            android:textColor="@android:color/white"
            android:textSize="20sp"
            android:textStyle="bold" />

        <TextView
            android:id="@+id/tv_subtitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/pl101"
            android:textColor="#E0E0E0"
            android:textSize="14sp" />
    </LinearLayout>

</FrameLayout>


==================================================
FILE: app\src\main\res\layout\change_password.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="20dp">

    <EditText
        android:id="@+id/etOldPass"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Mật khẩu hiện tại"
        android:inputType="textPassword"
        android:layout_marginBottom="10dp"/>

    <EditText
        android:id="@+id/etNewPass"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Mật khẩu mới"
        android:inputType="textPassword"
        android:layout_marginBottom="10dp"/>

    <EditText
        android:id="@+id/etConfirmPass"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Nhập lại mật khẩu mới"
        android:inputType="textPassword"/>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\dialog_add_class.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="24dp">

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Thông tin Lớp học"
        android:textSize="18sp"
        android:textStyle="bold"
        android:layout_marginBottom="16dp"
        android:textColor="#c96e80"/>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="12dp"
        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etMaLH"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Mã Lớp (VD: LH01)" />
    </com.google.android.material.textfield.TextInputLayout>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="12dp"
        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etTenLH"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:hint="Tên Lớp (VD: Công nghệ phần mềm)" />
    </com.google.android.material.textfield.TextInputLayout>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="Giáo viên phụ trách (Chọn)"
        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">

        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etMaGV"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:drawableEnd="@android:drawable/arrow_down_float"
            android:inputType="none" />
    </com.google.android.material.textfield.TextInputLayout>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\dialog_confirm_delete.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="24dp"
    android:gravity="center_horizontal">

    <ImageView
        android:layout_width="64dp"
        android:layout_height="64dp"
        android:src="@android:drawable/ic_dialog_alert"
        android:layout_marginBottom="16dp"
        android:contentDescription="Warning"
        app:tint="#F44336" />

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Xác nhận xóa?"
        android:textSize="20sp"
        android:textStyle="bold"
        android:textColor="#333"
        android:layout_marginBottom="8dp"/>

    <TextView
        android:id="@+id/tvConfirmMessage"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Bạn có chắc chắn muốn xóa học viên này không? Hành động này không thể hoàn tác."
        android:gravity="center"
        android:textSize="16sp"
        android:textColor="#666"/>

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\dialog_edit_student.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="24dp"
    android:background="@android:color/white">

    <TextView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Cập Nhật Thông Tin"
        android:textSize="20sp"
        android:textStyle="bold"
        android:textColor="#c96e80"
        android:gravity="center"
        android:layout_marginBottom="20dp"/>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="16dp"
        android:hint="Họ và tên"
        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">
        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etEditTenHV"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
    </com.google.android.material.textfield.TextInputLayout>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="16dp"
        android:hint="Email"
        style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox">
        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etEditEmailHV"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:inputType="textEmailAddress"/>
    </com.google.android.material.textfield.TextInputLayout>

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Lớp hiện tại (Không thể sửa tại đây):"
        android:textColor="#777"
        android:textSize="12sp"
        android:layout_marginBottom="4dp"/>

    <com.google.android.material.textfield.TextInputLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        style="@style/Widget.MaterialComponents.TextInputLayout.FilledBox">
        <com.google.android.material.textfield.TextInputEditText
            android:id="@+id/etEditLopHV"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:enabled="false"
            android:textColor="#555"
            android:background="#E0E0E0"/>
    </com.google.android.material.textfield.TextInputLayout>

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\header_layout.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:gravity="center_vertical"
    android:padding="8dp"
    >

    <com.google.android.material.imageview.ShapeableImageView
        android:id="@+id/avatar"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:src="@drawable/logo_new"
        android:layout_marginEnd="8dp"
        android:scaleType="centerCrop"
        android:contentDescription="@string/avatar"
        android:clickable="true"
        android:focusable="true"
        app:shapeAppearanceOverlay="@style/CircleImageView" />


    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:orientation="vertical">

        <TextView
            android:id="@+id/userName"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Jayvie Balili"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="#333" />

        <TextView
            android:id="@+id/userInfo"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="BSCS | 2nd Year | J2019"
            android:textColor="#777"
            android:textSize="12sp" />
    </LinearLayout>

    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal">

        <ImageView
            android:id="@+id/tickIcon"
            android:layout_width="50dp"
            android:layout_height="50dp"
            android:layout_margin="1dp"
            android:src="@drawable/ic_tick"
            android:contentDescription="@string/tick" />

        <ImageView
            android:id="@+id/chatIcon"
            android:layout_width="50dp"
            android:layout_height="50dp"
            android:layout_margin="1dp"
            android:src="@drawable/ic_chat"
            android:contentDescription="@string/chat" />

        <ImageView
            android:id="@+id/notificationIcon"
            android:layout_width="50dp"
            android:layout_height="50dp"
            android:layout_margin="1dp"
            android:src="@drawable/ic_notification"
            android:contentDescription="@string/notification" />
    </LinearLayout>
</LinearLayout>


==================================================
FILE: app\src\main\res\layout\item_assignment.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    app:cardBackgroundColor="#FFFFFF"
    app:cardCornerRadius="16dp"
    app:cardElevation="2dp">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp">

        <ImageView
            android:id="@+id/imgIcon"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:background="@drawable/bg_circle"
            android:backgroundTint="#FFF3E0"
            android:padding="10dp"
            android:src="@drawable/ic_assignment"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"
            app:tint="#FF9800" />

        <TextView
            android:id="@+id/tvTitle"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="12dp"
            android:layout_marginEnd="8dp"
            android:ellipsize="end"
            android:maxLines="2"
            android:text="Bài tập lớn cuối kỳ"
            android:textColor="#333333"
            android:textSize="16sp"
            android:textStyle="bold"
            app:layout_constraintEnd_toStartOf="@+id/btnAction"
            app:layout_constraintStart_toEndOf="@id/imgIcon"
            app:layout_constraintTop_toTopOf="@id/imgIcon" />

        <LinearLayout
            android:id="@+id/layoutDeadline"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            app:layout_constraintEnd_toStartOf="@+id/btnAction"
            app:layout_constraintStart_toStartOf="@+id/tvTitle"
            app:layout_constraintTop_toBottomOf="@+id/tvTitle">

            <ImageView
                android:layout_width="14dp"
                android:layout_height="14dp"
                android:layout_marginEnd="4dp"
                android:src="@android:drawable/ic_menu_my_calendar"
                app:tint="#F44336" />

            <TextView
                android:id="@+id/tvPoints"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Hạn nộp: 20/12/2025"
                android:textColor="#F44336"
                android:textSize="12sp"
                android:textStyle="italic" />
        </LinearLayout>

        <Button
            android:id="@+id/btnAction"
            android:layout_width="wrap_content"
            android:layout_height="36dp"
            android:background="@drawable/bg_file_link"
            android:backgroundTint="#c96e80"
            android:paddingHorizontal="16dp"
            android:text="Chi tiết"
            android:textColor="#FFFFFF"
            android:textSize="12sp"
            app:layout_constraintBottom_toBottomOf="@id/imgIcon"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/imgIcon" />

        <LinearLayout
            android:id="@+id/layoutFileLink"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:background="@drawable/bg_file_link"
            android:backgroundTint="#F5F7FA"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            android:padding="10dp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/layoutDeadline">

            <ImageView
                android:layout_width="20dp"
                android:layout_height="20dp"
                android:src="@drawable/ic_file"
                app:tint="#2196F3" />

            <TextView
                android:id="@+id/tvFileName"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginStart="8dp"
                android:ellipsize="end"
                android:maxLines="1"
                android:text="file_de_bai.pdf"
                android:textColor="#2196F3"
                android:textSize="13sp"
                android:textStyle="bold" />
        </LinearLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_class.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_marginBottom="12dp"
    app:cardCornerRadius="12dp"
    app:cardElevation="4dp"
    app:cardBackgroundColor="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal">
            <TextView
                android:id="@+id/tvMaLH"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="LH01"
                android:textStyle="bold"
                android:textSize="18sp"
                android:textColor="#C96E80"/>
            <TextView
                android:id="@+id/tvSiSo"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Sĩ số: 0"
                android:textStyle="bold"
                android:textColor="#000000"/>
        </LinearLayout>

        <TextView
            android:id="@+id/tvTenLH"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Công nghệ phần mềm"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textColor="#000000"
            android:layout_marginTop="4dp"/>

        <TextView
            android:id="@+id/tvTenGV"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="GVCN: Nguyễn Văn A"
            android:textSize="14sp"
            android:textColor="#555555"
            android:layout_marginTop="2dp"/>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="end"
            android:layout_marginTop="12dp">

            <ImageView
                android:id="@+id/btnAddStudent"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_add"
                app:tint="#4CAF50"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:padding="4dp"
                android:tooltipText="Thêm học viên"/>

            <ImageView
                android:id="@+id/btnStats"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@drawable/ic_assignment"
                app:tint="#2196F3"
                android:layout_marginStart="16dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:padding="4dp"
                android:tooltipText="Thống kê điểm"/>

            <ImageView
                android:id="@+id/btnEditClass"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@android:drawable/ic_menu_edit"
                app:tint="#FF9800"
                android:layout_marginStart="16dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:padding="4dp"/>

            <ImageView
                android:id="@+id/btnDeleteClass"
                android:layout_width="32dp"
                android:layout_height="32dp"
                android:src="@android:drawable/ic_menu_delete"
                app:tint="#F44336"
                android:layout_marginStart="16dp"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:padding="4dp"/>
        </LinearLayout>
    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_course.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    app:cardBackgroundColor="#FFFFFF"
    app:cardCornerRadius="16dp"
    app:cardElevation="2dp">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="16dp">

        <ImageView
            android:id="@+id/imgAvatar"
            android:layout_width="40dp"
            android:layout_height="40dp"
            android:background="@drawable/bg_circle"
            android:backgroundTint="#FDE0E0"
            android:padding="8dp"
            android:src="@drawable/logo_new"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent" />

        <TextView
            android:id="@+id/tvAuthor"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginStart="12dp"
            android:layout_marginEnd="8dp"
            android:text="Giảng viên A"
            android:textColor="#333333"
            android:textSize="15sp"
            android:textStyle="bold"
            app:layout_constraintEnd_toStartOf="@+id/tvDate"
            app:layout_constraintStart_toEndOf="@id/imgAvatar"
            app:layout_constraintTop_toTopOf="@id/imgAvatar" />

        <TextView
            android:id="@+id/tvDate"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="2 giờ trước"
            android:textColor="#999999"
            android:textSize="12sp"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/imgAvatar" />

        <TextView
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="Đã đăng một bài giảng mới"
            android:textColor="#666666"
            android:textSize="12sp"
            app:layout_constraintEnd_toEndOf="@id/tvAuthor"
            app:layout_constraintStart_toStartOf="@id/tvAuthor"
            app:layout_constraintTop_toBottomOf="@id/tvAuthor" />

        <TextView
            android:id="@+id/tvTitle"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="16dp"
            android:text="Chương 3: Cấu trúc dữ liệu nâng cao"
            android:textColor="#000000"
            android:textSize="16sp"
            android:textStyle="bold"
            app:layout_constraintTop_toBottomOf="@id/imgAvatar" />

        <LinearLayout
            android:id="@+id/layoutFile"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:background="@drawable/bg_file_link"
            android:backgroundTint="#F5F7FA"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            android:padding="12dp"
            app:layout_constraintTop_toBottomOf="@id/tvTitle">

            <ImageView
                android:layout_width="24dp"
                android:layout_height="24dp"
                android:src="@drawable/ic_file"
                app:tint="#c96e80" />

            <TextView
                android:id="@+id/tvFileName"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_marginStart="12dp"
                android:ellipsize="end"
                android:maxLines="1"
                android:text="slide_bai_giang.pdf"
                android:textColor="#c96e80"
                android:textStyle="bold" />
        </LinearLayout>

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:gravity="center_vertical"
            android:orientation="horizontal"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toBottomOf="@id/layoutFile">

            <ImageView
                android:layout_width="16dp"
                android:layout_height="16dp"
                android:src="@android:drawable/ic_menu_view"
                app:tint="#999999" />

            <TextView
                android:id="@+id/tvViews"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="4dp"
                android:text="28 xem"
                android:textColor="#999999"
                android:textSize="12sp" />
        </LinearLayout>

    </androidx.constraintlayout.widget.ConstraintLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_course_user.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    app:cardCornerRadius="16dp"
    app:cardElevation="4dp"
    app:cardBackgroundColor="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="90dp"
            android:background="#ffe6ed">

            <ImageView
                android:layout_width="50dp"
                android:layout_height="50dp"
                android:src="@drawable/ic_file"
                app:tint="#cf7486"
                android:layout_centerInParent="true"/>
        </RelativeLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="12dp">

            <TextView
                android:id="@+id/tvCourseName"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Lập trình Mobile"
                android:textSize="16sp"
                android:textStyle="bold"
                android:textColor="#333"
                android:maxLines="1"
                android:ellipsize="end"/>

            <TextView
                android:id="@+id/tvCourseCode"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="LH001 | GV. Nguyễn Văn A"
                android:textSize="12sp"
                android:textColor="#777"
                android:layout_marginTop="4dp"/>

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:layout_marginTop="12dp">

                <ProgressBar
                    android:id="@+id/progressBar"
                    style="?android:attr/progressBarStyleHorizontal"
                    android:layout_width="0dp"
                    android:layout_height="6dp"
                    android:layout_weight="1"
                    android:progress="65"
                    android:progressTint="#cf7486"
                    android:backgroundTint="#EEE"/>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="65%"
                    android:textSize="10sp"
                    android:textColor="#cf7486"
                    android:layout_marginStart="8dp"/>
            </LinearLayout>
        </LinearLayout>
    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_grade.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    app:cardCornerRadius="12dp"
    app:cardElevation="4dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <TextView
                android:id="@+id/tv_grade_title"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Tên bài tập"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black" />

            <TextView
                android:id="@+id/tv_grade_score"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="9.5"
                android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="#FF9800"
                android:layout_marginStart="8dp" />
        </LinearLayout>

        <TextView
            android:id="@+id/tv_grade_feedback"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Nhận xét: Bài làm tốt, trình bày sạch đẹp."
            android:textSize="14sp"
            android:layout_marginTop="8dp"
            android:textColor="#555555" />

    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_hocvien.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    android:layout_marginHorizontal="4dp"
    app:cardCornerRadius="16dp"
    app:cardElevation="4dp"
    app:cardBackgroundColor="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="50dp"
                android:layout_height="50dp"
                android:src="@drawable/logo_new"
                android:background="@drawable/bg_circle"
                android:padding="8dp"
                android:contentDescription="Avatar" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:layout_marginStart="16dp">

                <TextView
                    android:id="@+id/tvHoTenHV"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Nguyễn Văn A"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#333333"/>

                <TextView
                    android:id="@+id/tvEmailHV"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="email@example.com"
                    android:textSize="13sp"
                    android:textColor="#777777"/>
            </LinearLayout>
        </LinearLayout>

        <View
            android:layout_width="match_parent"
            android:layout_height="1dp"
            android:background="#F0F0F0"
            android:layout_marginVertical="12dp"/>

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Lớp đang tham gia:"
            android:textSize="12sp"
            android:textStyle="bold"
            android:textColor="#c96e80"/>

        <TextView
            android:id="@+id/tvMaLopHV"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Lớp: Chưa xếp lớp"
            android:background="@drawable/bg_file_link"
            android:paddingHorizontal="12dp"
            android:paddingVertical="6dp"
            android:textColor="#2196F3"
            android:textStyle="bold"
            android:textSize="14sp"
            android:layout_marginTop="6dp"/>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="end"
            android:layout_marginTop="12dp">

            <Button
                android:id="@+id/btnEditHV"
                android:layout_width="wrap_content"
                android:layout_height="40dp"
                android:text="Sửa thông tin"
                android:textSize="12sp"
                android:textColor="#FFF"
                android:backgroundTint="#FF9800"
                android:layout_marginEnd="8dp"/>

            <Button
                android:id="@+id/btnDeleteHV"
                android:layout_width="wrap_content"
                android:layout_height="40dp"
                android:text="Xóa"
                android:textSize="12sp"
                android:textColor="#FFF"
                android:backgroundTint="#F44336"/>
        </LinearLayout>

    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_notification.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginHorizontal="8dp"
    android:layout_marginVertical="4dp"
    app:cardCornerRadius="12dp"
    app:cardElevation="3dp"
    android:foreground="?attr/selectableItemBackground">

    <LinearLayout
        android:id="@+id/layout_item_noti"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/tv_noti_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Nội dung thông báo"
            android:textColor="#333333"
            android:textSize="15sp"
            android:lineSpacingExtra="2dp" />

        <TextView
            android:id="@+id/tv_noti_date"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:text="Ngày tạo: 01/01/2023"
            android:textColor="#888888"
            android:textSize="12sp"
            android:textStyle="italic" />

    </LinearLayout>
</androidx.cardview.widget.CardView>


==================================================
FILE: app\src\main\res\layout\item_person.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="horizontal"
    android:padding="8dp"
    android:layout_margin="8dp"
    app:cardCornerRadius="12dp"
    android:gravity="center_vertical">

    <!-- Avatar -->
    <ImageView
        android:id="@+id/imgAvatar"
        android:layout_width="40dp"
        android:layout_height="40dp"
        android:src="@drawable/logo_new"
        android:layout_marginEnd="12dp"
        android:background="@drawable/bg_circle"
        android:scaleType="centerCrop" />

    <!-- Thông tin -->
    <LinearLayout
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <TextView
            android:id="@+id/txtName"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="James Gosling"
            android:textSize="16sp"
            android:textStyle="bold"
            android:textColor="@android:color/black" />

        <TextView
            android:id="@+id/txtRole"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Professor"
            android:textSize="14sp"
            android:textColor="#808080" />
    </LinearLayout>

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\item_stats_assignment.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    app:cardCornerRadius="12dp"
    app:cardElevation="4dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="16dp">

        <TextView
            android:id="@+id/tvAssignmentName"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Tên bài tập"
            android:textStyle="bold"
            android:textSize="16sp"
            android:textColor="#000"/>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:layout_marginTop="8dp">

            <TextView
                android:id="@+id/tvAvgScore"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="TB: 0.0"
                android:textColor="#4CAF50"
                android:textStyle="bold"
                android:textSize="15sp"/>

            <TextView
                android:id="@+id/tvSubmissionCount"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Đã chấm: 0"
                android:textColor="#666"/>
        </LinearLayout>
    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_stats_student.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal"
    android:padding="12dp"
    android:background="@drawable/bg_card_people"
    android:layout_marginBottom="8dp"
    android:gravity="center_vertical">

    <LinearLayout
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:orientation="vertical">

        <TextView
            android:id="@+id/tvStudentName"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Tên Sinh Viên"
            android:textStyle="bold"
            android:textColor="#000"
            android:textSize="16sp"/>

        <TextView
            android:id="@+id/tvStudentID"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Mã SV"
            android:textColor="#666"
            android:textSize="12sp"/>
    </LinearLayout>

    <TextView
        android:id="@+id/tvScore"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="0.0"
        android:textStyle="bold"
        android:textSize="18sp"
        android:textColor="#FF9800"/>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\item_submission.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp"
    app:cardCornerRadius="12dp"
    app:cardElevation="4dp">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="12dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:src="@drawable/logo_new"
                android:background="@drawable/bg_circle"
                android:layout_marginEnd="12dp" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical">

                <TextView
                    android:id="@+id/tv_submitter_name"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Tên Học Viên"
                    android:textStyle="bold"
                    android:textSize="16sp"
                    android:textColor="@color/black" />

                <TextView
                    android:id="@+id/tv_submitter_id"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Mã HV: SV001"
                    android:textSize="13sp"
                    android:textColor="@color/darker_gray" />
            </LinearLayout>

            <TextView
                android:id="@+id/tv_submit_date"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="20/12/2023"
                android:textSize="12sp"
                android:textColor="@color/darker_gray" />
        </LinearLayout>

        <TextView
            android:id="@+id/tv_submit_note"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Ghi chú: Em gửi bài tập ạ"
            android:textSize="14sp"
            android:layout_marginTop="8dp"
            android:textColor="@color/black" />

        <!-- Submission File Link -->
        <LinearLayout
            android:id="@+id/layout_submission_file"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="center_vertical"
            android:layout_marginTop="12dp"
            android:padding="12dp"
            android:background="@drawable/bg_file_link">

            <ImageView
                android:layout_width="18dp"
                android:layout_height="18dp"
                android:src="@drawable/ic_file"
                app:tint="@color/purple_500"
                android:layout_marginEnd="8dp" />

            <TextView
                android:id="@+id/tv_submission_file_name"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="bai_lam.pdf"
                android:textColor="@color/purple_500"
                android:textSize="14sp"
                android:textStyle="bold" />
        </LinearLayout>

        <!-- Phần nhập điểm và nhận xét (Dành cho Giáo viên) -->
        <View
            android:layout_width="match_parent"
            android:layout_height="1dp"
            android:background="#DDDDDD"
            android:layout_marginTop="12dp"
            android:layout_marginBottom="12dp" />

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="74dp"
            android:orientation="horizontal">

            <com.google.android.material.textfield.TextInputLayout
                style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginEnd="8dp"
                android:layout_weight="1">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/et_grade"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Điểm"
                    android:inputType="numberDecimal"
                    android:textColor="@color/black" />
            </com.google.android.material.textfield.TextInputLayout>

            <com.google.android.material.textfield.TextInputLayout
                style="@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="3">

                <com.google.android.material.textfield.TextInputEditText
                    android:id="@+id/et_feedback"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:hint="Nhận xét"
                    android:textColor="@color/black" />
            </com.google.android.material.textfield.TextInputLayout>
        </LinearLayout>

        <Button
            android:id="@+id/btn_save_grade"
            android:layout_width="match_parent"
            android:layout_height="44dp"
            android:layout_marginTop="12dp"
            android:backgroundTint="#c96e80"
            android:text="Lưu điểm &amp; Nhận xét"
            android:textColor="@android:color/white" />

    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\item_task.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="16dp">

    <TextView
        android:id="@+id/tv_task_title"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Task Title"
        android:textSize="18sp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/tv_task_subject"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Task Subject"
        android:textSize="16sp" />

    <TextView
        android:id="@+id/tv_task_due"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Due Date"
        android:textSize="14sp" />

    <Button
        android:id="@+id/btn_submit"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Nộp bài" />

    <TextView
        android:id="@+id/tv_submission_count"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:visibility="gone" />

</LinearLayout>

==================================================
FILE: app\src\main\res\layout\item_teacher.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.cardview.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="12dp"
    android:layout_marginHorizontal="8dp"
    app:cardCornerRadius="16dp"
    app:cardElevation="4dp"
    app:cardBackgroundColor="#FFFFFF">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="16dp"
            android:gravity="center_vertical">

            <ImageView
                android:layout_width="60dp"
                android:layout_height="60dp"
                android:src="@drawable/logo_new"
                android:background="@drawable/bg_circle"
                android:padding="10dp"/>

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:orientation="vertical"
                android:layout_marginStart="16dp">

                <TextView
                    android:id="@+id/tvTenGV"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Nguyễn Văn A"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="#333"/>

                <TextView
                    android:id="@+id/tvMaGV"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="MSGV: GV001"
                    android:textSize="14sp"
                    android:textColor="#c96e80"
                    android:textStyle="bold"
                    android:layout_marginTop="2dp"/>

                <TextView
                    android:id="@+id/tvEmailGV"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="email@example.com"
                    android:textSize="13sp"
                    android:textColor="#777"/>
            </LinearLayout>

            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:gravity="center">
                <TextView
                    android:id="@+id/tvClassCount"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="05"
                    android:textSize="20sp"
                    android:textStyle="bold"
                    android:textColor="#2196F3"/>
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Lớp"
                    android:textSize="12sp"
                    android:textColor="#555"/>
            </LinearLayout>
        </LinearLayout>

        <View
            android:layout_width="match_parent"
            android:layout_height="1dp"
            android:background="#EEE"/>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="8dp">

            <TextView
                android:id="@+id/btnViewClasses"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Xem lớp dạy"
                android:gravity="center"
                android:textSize="13sp"
                android:textStyle="bold"
                android:textColor="#2196F3"
                android:padding="10dp"
                android:background="?attr/selectableItemBackground"/>

            <View
                android:layout_width="1dp"
                android:layout_height="match_parent"
                android:background="#EEE"
                android:layout_marginVertical="8dp"/>

            <TextView
                android:id="@+id/btnEditGV"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Sửa"
                android:gravity="center"
                android:textSize="13sp"
                android:textColor="#FF9800"
                android:padding="10dp"
                android:background="?attr/selectableItemBackground"/>

            <View
                android:layout_width="1dp"
                android:layout_height="match_parent"
                android:background="#EEE"
                android:layout_marginVertical="8dp"/>

            <TextView
                android:id="@+id/btnDeleteGV"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Xóa"
                android:gravity="center"
                android:textSize="13sp"
                android:textColor="#F44336"
                android:padding="10dp"
                android:background="?attr/selectableItemBackground"/>
        </LinearLayout>
    </LinearLayout>
</androidx.cardview.widget.CardView>

==================================================
FILE: app\src\main\res\layout\layout_footer.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<!-- ⚪ FOOTER -->
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="97dp"
    android:baselineAligned="false"
    android:orientation="horizontal"
    android:background="#FFFFFF"
    android:gravity="center"
    android:elevation="4dp"
    android:weightSum="3"
    android:paddingTop="8dp"
    android:paddingBottom="16dp">

    <LinearLayout
        android:id="@+id/nav_course"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:orientation="vertical"
        android:gravity="center"
        tools:ignore="UseCompoundDrawables">

        <ImageView
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_course" />
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/course"
            android:textColor="#808080" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/nav_assignment"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:orientation="vertical"
        android:gravity="center"
        android:clickable="true"
        android:focusable="true"
        android:foreground="?attr/selectableItemBackgroundBorderless">

        <ImageView
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_assignment" />

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Assignments"
            android:textColor="#808080" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/nav_people"
        android:layout_width="0dp"
        android:layout_height="match_parent"
        android:layout_weight="1"
        android:orientation="vertical"
        android:gravity="center"
        tools:ignore="UseCompoundDrawables">

        <ImageView
            android:layout_width="24dp"
            android:layout_height="24dp"
            android:src="@drawable/ic_people" />
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="People"
            android:textColor="#808080" />
    </LinearLayout>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\layout_header.xml
==================================================
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- Header dùng chung -->
    <include layout="@layout/header_layout" />

    <!-- Nội dung riêng của từng Activity -->
    <FrameLayout
        android:id="@+id/container"
        android:layout_width="match_parent"
        android:layout_height="match_parent" />

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\layout_top_header.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@drawable/bg_home_header"
    android:paddingBottom="30dp">

    <ImageView
        android:id="@+id/imgAvatar"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_margin="24dp"
        android:background="@drawable/bg_circle"
        android:backgroundTint="#FFFFFF"
        android:padding="10dp"
        android:src="@drawable/ic_person"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:tint="#c96e80" />

    <TextView
        android:id="@+id/tvGreeting"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginStart="12dp"
        android:text="Xin chào,"
        android:textColor="#555"
        android:textSize="14sp"
        app:layout_constraintStart_toEndOf="@id/imgAvatar"
        app:layout_constraintTop_toTopOf="@id/imgAvatar" />

    <TextView
        android:id="@+id/tvWelcomeUser"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginStart="12dp"
        android:layout_marginEnd="12dp"
        android:text="User"
        android:textColor="#333"
        android:textSize="18sp"
        android:textStyle="bold"
        app:layout_constraintEnd_toStartOf="@id/btnNoti"
        app:layout_constraintStart_toEndOf="@id/imgAvatar"
        app:layout_constraintTop_toBottomOf="@id/tvGreeting" />

    <ImageView
        android:id="@+id/btnNoti"
        android:layout_width="40dp"
        android:layout_height="40dp"
        android:layout_marginEnd="24dp"
        android:background="@drawable/bg_circle"
        android:backgroundTint="#FFFFFF"
        android:padding="8dp"
        android:src="@drawable/ic_notification"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="@id/imgAvatar"
        app:tint="#c96e80" />

</androidx.constraintlayout.widget.ConstraintLayout>

==================================================
FILE: app\src\main\res\layout\popup_contact.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:padding="20dp"
    android:background="@drawable/popup_bg"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content">

    <TextView
        android:text="Contact Us at:"
        android:textStyle="bold"
        android:textSize="16sp"
        android:textColor="#000"
        android:layout_gravity="center_horizontal"
        android:layout_marginBottom="10dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

    <LinearLayout
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:layout_marginTop="5dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        <ImageView
            android:src="@drawable/ic_whatsapp"
            android:layout_width="24dp"
            android:layout_height="24dp" />
        <TextView
            android:id="@+id/tv_phone"
            android:text="0123456789"
            android:textColor="#000"
            android:layout_marginStart="10dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>

    <LinearLayout
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:layout_marginTop="5dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        <ImageView
            android:src="@drawable/ic_messenger"
            android:layout_width="24dp"
            android:layout_height="24dp" />
        <TextView
            android:id="@+id/tv_messenger"
            android:text="https://www.facebook.com/"
            android:autoLink="web"
            android:textColor="#000"
            android:layout_marginStart="10dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>

    <LinearLayout
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:layout_marginTop="5dp"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content">
        <ImageView
            android:src="@drawable/ic_gmail"
            android:layout_width="24dp"
            android:layout_height="24dp" />
        <TextView
            android:id="@+id/tv_gmail"
            android:text="nhom6@gmail.com"
            android:textColor="#000"
            android:layout_marginStart="10dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content" />
    </LinearLayout>

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\popup_item_task.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<!-- Task item -->
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="280dp"
    android:layout_height="wrap_content"
    android:background="@drawable/popup_bg"
    android:orientation="vertical"
    android:padding="12dp"
    android:elevation="8dp">

<LinearLayout
    android:orientation="horizontal"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:paddingVertical="6dp">

    <ImageView
        android:src="@drawable/ic_group"
        android:layout_width="24dp"
        android:layout_height="24dp" />

    <LinearLayout
        android:orientation="vertical"
        android:layout_marginStart="8dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <TextView
            android:id="@+id/tv_popup_title"
            android:text="Task 5 - Group Work"
            android:textStyle="bold"
            android:textColor="#000"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"/>

        <TextView
            android:id="@+id/tv_popup_subject"
            android:text="Programming Language"
            android:textColor="#666"
            android:textSize="12sp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"/>

        <TextView
            android:id="@+id/tv_popup_deadline"
            android:text="Due Tomorrow | Aug 6"
            android:textColor="#666"
            android:textSize="12sp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="end"/>
    </LinearLayout>
</LinearLayout>
</LinearLayout>

==================================================
FILE: app\src\main\res\layout\popup_noti.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="280dp"
    android:layout_height="wrap_content"
    android:background="@drawable/popup_bg"
    android:orientation="vertical"
    android:padding="12dp"
    android:elevation="8dp">

    <!-- Header -->
    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="6dp">

        <TextView
            android:id="@+id/tvTitle"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Notifications"
            android:textColor="#000"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_centerVertical="true" />

        <ImageView
            android:id="@+id/ic_bell"
            android:layout_width="46dp"
            android:layout_height="46dp"
            android:layout_alignParentEnd="true"
            android:src="@drawable/ic_bell"
            app:tint="#808080" />
    </RelativeLayout>

    <View
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:background="#e0e0e0" />

    <!-- Danh sách thông báo -->
    <ListView
        android:id="@+id/list_Notifications"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:divider="@android:color/transparent"
        android:dividerHeight="10dp"
        android:paddingTop="8dp" />

</LinearLayout>


==================================================
FILE: app\src\main\res\layout\popup_task.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="280dp"
    android:layout_height="wrap_content"
    android:background="@drawable/popup_bg"
    android:orientation="vertical"
    android:padding="12dp"
    android:elevation="8dp">

    <!-- Header -->
    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="6dp">

        <TextView
            android:id="@+id/tv_task"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Tasks"
            android:textColor="#000"
            android:textSize="16sp"
            android:textStyle="bold"
            android:layout_centerVertical="true" />

        <ImageView
            android:id="@+id/ic_bell"
            android:layout_width="46dp"
            android:layout_height="46dp"
            android:layout_alignParentEnd="true"
            android:src="@drawable/ic_check"
            app:tint="#808080" />
    </RelativeLayout>

    <View
        android:layout_width="match_parent"
        android:layout_height="1dp"
        android:background="#e0e0e0" />

    <!-- Danh sách các task -->
    <ListView
        android:id="@+id/list_tasks_popup"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:divider="@android:color/transparent"
        android:dividerHeight="8dp"/>
</LinearLayout>


==================================================
FILE: app\src\main\res\menu\bottom_nav_menu.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item
        android:id="@+id/nav_home"
        android:icon="@drawable/ic_home"
        android:title="Home" />
    <item
        android:id="@+id/nav_assignment"
        android:icon="@drawable/ic_assignment"
        android:title="Assignments" />
    <item
        android:id="@+id/nav_profile"
        android:icon="@drawable/ic_profile"
        android:title="Profile" />
</menu>


==================================================
FILE: app\src\main\res\menu\menu_avatar.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android">
    <item
        android:id="@+id/menu_home"
        android:title="Home"
        android:icon="@drawable/home" />
    <item
        android:id="@+id/menu_profile"
        android:title="Profile"
        android:icon="@drawable/user" />
    <item
        android:id="@+id/menu_courses"
        android:title="Courses"
        android:icon="@drawable/book_icon" />
    <item
        android:id="@+id/menu_todo"
        android:title="To Do"
        android:icon="@drawable/todo_icon" />
    <item
        android:id="@+id/menu_options"
        android:title="Options"
        android:icon="@drawable/settings" />
    <item
        android:id="@+id/menu_logout"
        android:title="Log out"
        android:icon="@drawable/log_out" />
</menu>


==================================================
FILE: app\src\main\res\mipmap-anydpi-v26\ic_launcher.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>

==================================================
FILE: app\src\main\res\mipmap-anydpi-v26\ic_launcher_round.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@drawable/ic_launcher_background" />
    <foreground android:drawable="@drawable/ic_launcher_foreground" />
    <monochrome android:drawable="@drawable/ic_launcher_foreground" />
</adaptive-icon>

==================================================
FILE: app\src\main\res\values\colors.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <color name="purple_200">#FFBB86FC</color>

    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>

    <color name="primary_pink">#fde0e0</color>
    <color name="accent_pink">#c96e80</color>
    <color name="text_dark">#333333</color>
    <color name="text_gray">#777777</color>
    <color name="black">#000000</color>
    <color name="white">#FFFFFF</color>
    <color name="purple_500">#2196F3</color>
    <color name="darker_gray">#666666</color>
    <color name="green">#4CAF50</color>
    <color name="blue">#2196F3</color>
    <color name="teal_700">#018786</color>
</resources>

==================================================
FILE: app\src\main\res\values\strings.xml
==================================================
<resources>
    <string name="app_name">home</string>

    <!-- Header -->
    <string name="avatar">Avatar</string>
    <string name="notification">Notification</string>
    <string name="chat">Chat</string>
    <string name="tick">Tick</string>

    <!-- User info -->
    <string name="user_name">Jayvie</string>
    <string name="user_id">19–02031–T</string>

    <!-- Section title -->
    <string name="my_courses">My Courses</string>

    <!-- Banners -->
    <string name="banner_tcu">Taguig City University Banner</string>
    <string name="banner_cs">Bachelor of Science in Computer Science Banner</string>

    <!-- Course images -->
    <string name="course_programming">Programming Language Course Image</string>
    <string name="course_sport">PE / Sports Course Image</string>
    <string name="course_os">Operating System Course Image</string>
    <string name="course_hci">Human Computer Interaction Course Image</string>
    <string name="course_culture">Philippine Popular Culture Course Image</string>
    <string name="course_ethics">Ethics and Logic Course Image</string>
    <string name="course_science">Science, Technology, and Society Course Image</string>
    <string name="course_architecture">Architecture and Organization Course Image</string>
    <string name="course_logic">Logic Design Course Image</string>
    <string name="avatar_desc">User profile avatar</string>
    <string name="notification_icon">Notification icon</string>
    <string name="email_icon">Email icon</string>
    <string name="next_page_icon">Next page icon</string>
    <string name="todo">TODO</string>
    <string name="programming_language">Programming Language</string>
    <string name="pl101">PL101</string>
    <string name="activity">Activity</string>
    <string name="assignments">Assignments</string>
    <string name="people">People</string>
    <string name="james_gosling">James Gosling</string>
    <string name="july_13_2021">July 13, 2021</string>
    <string name="java_stack_program">Java Stack Program</string>
    <string name="java_stack_docx_45_5_kb">Java_Stack.docx (45.5 KB)</string>
    <string name="_28">👁️ 28</string>
    <string name="course">Course</string>
    <string name="comment">Comment</string>
    <string name="assignments_amp_activities"><![CDATA[assignments & Activities]]></string>
    <string name="assignments_activities"><![CDATA[Assignments & Activities]]></string>
</resources>


==================================================
FILE: app\src\main\res\values\styles.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Style để bo góc trên cho ảnh -->
    <style name="TopRoundedImage">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">12dp</item>
        <item name="cornerSizeTopRight">12dp</item>
        <item name="cornerSizeBottomLeft">0dp</item>
        <item name="cornerSizeBottomRight">0dp</item>
    </style>
    <style name="CircleImageView">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSize">50%</item>
    </style>

</resources>


==================================================
FILE: app\src\main\res\values\themes.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <style name="Theme.StudentPortalApp" parent="Theme.MaterialComponents.Light.NoActionBar">

        <item name="android:textColor">#000000</item>
        <item name="android:editTextColor">#000000</item>

        <item name="colorPrimary">#000000</item>
        <item name="colorPrimaryVariant">#c96e80</item>
        <item name="colorOnPrimary">@color/white</item>
    </style></resources>

==================================================
FILE: app\src\main\res\values-v26\styles.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<resources>

    <style name="StudentPortalButton" parent="Widget.MaterialComponents.Button">
        <item name="android:textColor">#FFFFFF</item>
        <item name="backgroundTint">#c96e80</item>
        <item name="cornerRadius">12dp</item>
        <item name="android:paddingVertical">12dp</item>
        <item name="android:paddingHorizontal">16dp</item>
    </style>
</resources>

==================================================
FILE: app\src\main\res\xml\activity_login.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="24dp"
    android:background="#F48B8B">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical">

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Login"
            android:textSize="28sp"
            android:textStyle="bold"
            android:layout_marginTop="40dp" />

        <EditText
            android:id="@+id/etEmail"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:hint="Email"
            android:inputType="textEmailAddress"
            android:layout_marginTop="24dp" />

        <EditText
            android:id="@+id/etPassword"
            android:layout_width="match_parent"
            android:layout_height="48dp"
            android:hint="Password"
            android:inputType="textPassword"
            android:layout_marginTop="12dp" />

        <Button
            android:id="@+id/btnLogin"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Login"
            android:layout_marginTop="20dp" />

        <TextView
            android:id="@+id/tvToRegister"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Don't have an account? Register"
            android:layout_marginTop="20dp" />

    </LinearLayout>
</ScrollView>


==================================================
FILE: app\src\main\res\xml\activity_main.xml
==================================================
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="24dp"
    android:background="#FDE0E0">

    <!-- Khu vực logo / background giống design -->
    <TextView
        android:id="@+id/tvAppTitle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="TCU's\nStudent Portal"
        android:textSize="28sp"
        android:textStyle="bold"
        android:layout_marginTop="80dp"
        android:layout_centerHorizontal="true"/>

    <Button
        android:id="@+id/btnGetStarted"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Get Started"
        android:layout_alignParentBottom="true"
        android:layout_centerHorizontal="true"
        android:layout_marginBottom="48dp"/>
</RelativeLayout>

==================================================
FILE: app\src\main\res\xml\backup_rules.xml
==================================================
<?xml version="1.0" encoding="utf-8"?><!--
   Sample backup rules file; uncomment and customize as necessary.
   See https://developer.android.com/guide/topics/data/autobackup
   for details.
   Note: This file is ignored for devices older than API 31
   See https://developer.android.com/about/versions/12/backup-restore
-->
<full-backup-content>
    <!--
   <include domain="sharedpref" path="."/>
   <exclude domain="sharedpref" path="device.xml"/>
-->
</full-backup-content>

==================================================
FILE: app\src\main\res\xml\data_extraction_rules.xml
==================================================
<?xml version="1.0" encoding="utf-8"?><!--
   Sample data extraction rules file; uncomment and customize as necessary.
   See https://developer.android.com/about/versions/12/backup-restore#xml-changes
   for details.
-->
<data-extraction-rules>
    <cloud-backup>
        <!-- TODO: Use <include> and <exclude> to control what is backed up.
        <include .../>
        <exclude .../>
        -->
    </cloud-backup>
    <!--
    <device-transfer>
        <include .../>
        <exclude .../>
    </device-transfer>
    -->
</data-extraction-rules>
